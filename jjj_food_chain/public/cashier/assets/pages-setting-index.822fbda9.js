var a=Object.defineProperty,e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(e,t,l)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;import{_ as u,u as o,x as i,aj as n,y as d,A as r,o as _,ao as c,b as g,c as v,w as f,d as m,m as h,t as p,n as w,b2 as b,E as y,f as j,j as V,l as z,P as x,ar as O,$ as P,q as T}from"./index-d7b23344.js";import{_ as C}from"./u-switch.8e1fdb70.js";import{_ as E}from"./ti-select.2f410e3c.js";const I=u({__name:"index",setup(a){const{changeLocale:u}=o(),I=i(),{cashier:U,tablet:W}=n(I),k=d(!1),F=d({is_show_sold_out:0,default_language:null});r((()=>U.value),(()=>{var a,e;F.value.default_language="zh-tw"==(null==(a=U.value)?void 0:a.default_language)?"zh-TW":null==(e=U.value)?void 0:e.default_language}),{deep:!0,immediate:!0}),r((()=>W.value),(()=>{var a;F.value.is_show_sold_out=+(null==(a=W.value)?void 0:a.is_show_sold_out)||0}),{deep:!0,immediate:!0}),_((()=>{c()}));const q=()=>{var a,e,t;F.value={is_show_sold_out:+(null==(a=W.value)?void 0:a.is_show_sold_out)||0,default_language:"zh-tw"==(null==(e=U.value)?void 0:e.default_language)?"zh-TW":null==(t=U.value)?void 0:t.default_language}},A=()=>{return a=this,o=null,i=function*(){const a=((a,u)=>{for(var o in u||(u={}))t.call(u,o)&&s(a,o,u[o]);if(e)for(var o of e(u))l.call(u,o)&&s(a,o,u[o]);return a})({},F.value);a.default_language="zh-TW"==a.default_language?"zh-tw":a.default_language;try{k.value=!0;const e=yield b(a);y({title:e.msg,icon:"none"}),setTimeout((()=>{u(F.value.default_language),I.setUserInfo(!0)}),300)}catch(o){}finally{k.value=!1}},new Promise(((e,t)=>{var l=a=>{try{u(i.next(a))}catch(e){t(e)}},s=a=>{try{u(i.throw(a))}catch(e){t(e)}},u=a=>a.done?e(a.value):Promise.resolve(a.value).then(l,s);u((i=i.apply(a,o)).next())}));var a,o,i};return(a,e)=>{const t=j,l=V(z("u-switch"),C),s=V(z("ti-select"),E),u=V(z("ti-button"),x),o=O("ti-layout");return g(),v(o,null,{default:f((()=>[m(t,{class:"ti-setting-container"},{default:f((()=>[m(t,{class:"ti-setting-header"},{default:f((()=>[m(t,{class:"ti-setting-header-tag"}),m(t,{class:"ti-setting-header-title"},{default:f((()=>[h(p(w(P)("系统设置")),1)])),_:1})])),_:1}),m(t,{class:"ti-setting-content"},{default:f((()=>[m(t,{class:"ti-setting-item"},{default:f((()=>[m(t,{class:"ti-setting-item-title"},{default:f((()=>[h(p(w(P)("平板顯示售罄商品")),1)])),_:1}),m(l,{modelValue:F.value.is_show_sold_out,"onUpdate:modelValue":e[0]||(e[0]=a=>F.value.is_show_sold_out=a),inactiveValue:0,activeValue:1,activeColor:"#FFBE00",size:"20"},null,8,["modelValue"])])),_:1}),m(t,{class:"ti-setting-item"},{default:f((()=>[m(t,{class:"ti-setting-item-title"},{default:f((()=>[h(p(w(P)("默认语言")),1)])),_:1}),m(s,{modelValue:F.value.default_language,"onUpdate:modelValue":e[1]||(e[1]=a=>F.value.default_language=a),clear:!1,localdata:w(T)()||[]},null,8,["modelValue","localdata"])])),_:1}),m(t,{class:"ti-setting-bottom"},{default:f((()=>[m(t,{class:"ti-setting-bottom-temps"}),m(t,{class:"ti-setting-bottom-buttons"},{default:f((()=>[m(u,{onClick:q},{default:f((()=>[h(p(w(P)("重置")),1)])),_:1}),m(u,{type:"primary",loading:k.value,onClick:A},{default:f((()=>[h(p(w(P)("保存")),1)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-468a09d3"]]);export{I as default};
