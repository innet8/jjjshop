import{_ as a,k as e,ay as t,m as l,p as s,ag as u,ah as i,o,d as n,w as d,e as _,f as g,t as c,u as f,az as v,x as m,j as r,r as h,b as p,H as w,ai as z,$ as V,aA as b}from"./index-966932e2.js";import{_ as y}from"./u-switch.3b615505.js";import{_ as j}from"./uni-data-select.8755e34c.js";import{u as x}from"./locale.d4decca4.js";const T=a({__name:"index",setup(a){const{changeLocale:T}=x(),k=e(),{cashier:C,tablet:U}=t(k),W=l(!1),F=l({is_show_sold_out:0,default_language:null});s((()=>C.value),(()=>{var a,e;F.value.default_language="zh-tw"==(null==(a=C.value)?void 0:a.default_language)?"zh-TW":null==(e=C.value)?void 0:e.default_language}),{deep:!0,immediate:!0}),s((()=>U.value),(()=>{var a;F.value.is_show_sold_out=+(null==(a=U.value)?void 0:a.is_show_sold_out)||0}),{deep:!0,immediate:!0}),u((()=>{i()}));const I=()=>{var a,e,t;F.value={is_show_sold_out:+(null==(a=U.value)?void 0:a.is_show_sold_out)||0,default_language:"zh-tw"==(null==(e=C.value)?void 0:e.default_language)?"zh-TW":null==(t=C.value)?void 0:t.default_language}},A=async()=>{const a={...F.value};a.default_language="zh-TW"==a.default_language?"zh-tw":a.default_language;try{W.value=!0;const e=await v(a);m({title:e.msg,icon:"none"}),setTimeout((()=>{T(F.value.default_language),k.setUserInfo(!0)}),300)}catch(e){}finally{W.value=!1}};return(a,e)=>{const t=r,l=h(p("u-switch"),y),s=h(p("uni-data-select"),j),u=h(p("ti-button"),w),i=z("ti-layout");return o(),n(i,null,{default:d((()=>[_(t,{class:"ti-setting-container"},{default:d((()=>[_(t,{class:"ti-setting-header"},{default:d((()=>[_(t,{class:"ti-setting-header-tag"}),_(t,{class:"ti-setting-header-title"},{default:d((()=>[g(c(f(V)("系统设置")),1)])),_:1})])),_:1}),_(t,{class:"ti-setting-content"},{default:d((()=>[_(t,{class:"ti-setting-item"},{default:d((()=>[_(t,{class:"ti-setting-item-title"},{default:d((()=>[g(c(f(V)("平板顯示售罄商品")),1)])),_:1}),_(l,{modelValue:F.value.is_show_sold_out,"onUpdate:modelValue":e[0]||(e[0]=a=>F.value.is_show_sold_out=a),inactiveValue:0,activeValue:1,activeColor:"#FFBE00",size:"20"},null,8,["modelValue"])])),_:1}),_(t,{class:"ti-setting-item"},{default:d((()=>[_(t,{class:"ti-setting-item-title"},{default:d((()=>[g(c(f(V)("默认语言")),1)])),_:1}),_(s,{modelValue:F.value.default_language,"onUpdate:modelValue":e[1]||(e[1]=a=>F.value.default_language=a),localdata:f(b)()||[],clear:!1},null,8,["modelValue","localdata"])])),_:1}),_(t,{class:"ti-setting-bottom"},{default:d((()=>[_(t,{class:"ti-setting-bottom-temps"}),_(t,{class:"ti-setting-bottom-buttons"},{default:d((()=>[_(u,{onClick:I},{default:d((()=>[g(c(f(V)("重置")),1)])),_:1}),_(u,{type:"primary",loading:W.value,onClick:A},{default:d((()=>[g(c(f(V)("保存")),1)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-448e1cf3"]]);export{T as default};
