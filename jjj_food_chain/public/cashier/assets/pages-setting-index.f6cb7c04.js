var a=Object.defineProperty,e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(e,t,l)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;import{_ as u,u as o,m as i,ad as n,n as d,q as r,ah as _,ai as c,o as g,d as v,w as f,e as m,f as h,t as p,g as w,aW as y,y as b,k as j,r as V,b as z,J as O,aj as x,$ as P,l as T}from"./index-716044ad.js";import{_ as W}from"./u-switch.976c6247.js";import{_ as k}from"./ti-select.92691d35.js";const C=u({__name:"index",setup(a){const{changeLocale:u}=o(),C=i(),{cashier:I,tablet:U}=n(C),E=d(!1),F=d({is_show_sold_out:0,default_language:null});r((()=>I.value),(()=>{var a,e;F.value.default_language="zh-tw"==(null==(a=I.value)?void 0:a.default_language)?"zh-TW":null==(e=I.value)?void 0:e.default_language}),{deep:!0,immediate:!0}),r((()=>U.value),(()=>{var a;F.value.is_show_sold_out=+(null==(a=U.value)?void 0:a.is_show_sold_out)||0}),{deep:!0,immediate:!0}),_((()=>{c()}));const q=()=>{var a,e,t;F.value={is_show_sold_out:+(null==(a=U.value)?void 0:a.is_show_sold_out)||0,default_language:"zh-tw"==(null==(e=I.value)?void 0:e.default_language)?"zh-TW":null==(t=I.value)?void 0:t.default_language}},B=()=>{return a=this,o=null,i=function*(){const a=((a,u)=>{for(var o in u||(u={}))t.call(u,o)&&s(a,o,u[o]);if(e)for(var o of e(u))l.call(u,o)&&s(a,o,u[o]);return a})({},F.value);a.default_language="zh-TW"==a.default_language?"zh-tw":a.default_language;try{E.value=!0;const e=yield y(a);b({title:e.msg,icon:"none"}),setTimeout((()=>{u(F.value.default_language),C.setUserInfo(!0)}),300)}catch(o){}finally{E.value=!1}},new Promise(((e,t)=>{var l=a=>{try{u(i.next(a))}catch(e){t(e)}},s=a=>{try{u(i.throw(a))}catch(e){t(e)}},u=a=>a.done?e(a.value):Promise.resolve(a.value).then(l,s);u((i=i.apply(a,o)).next())}));var a,o,i};return(a,e)=>{const t=j,l=V(z("u-switch"),W),s=V(z("ti-select"),k),u=V(z("ti-button"),O),o=x("ti-layout");return g(),v(o,null,{default:f((()=>[m(t,{class:"ti-setting-container"},{default:f((()=>[m(t,{class:"ti-setting-header"},{default:f((()=>[m(t,{class:"ti-setting-header-tag"}),m(t,{class:"ti-setting-header-title"},{default:f((()=>[h(p(w(P)("系统设置")),1)])),_:1})])),_:1}),m(t,{class:"ti-setting-content"},{default:f((()=>[m(t,{class:"ti-setting-item"},{default:f((()=>[m(t,{class:"ti-setting-item-title"},{default:f((()=>[h(p(w(P)("平板顯示售罄商品")),1)])),_:1}),m(l,{modelValue:F.value.is_show_sold_out,"onUpdate:modelValue":e[0]||(e[0]=a=>F.value.is_show_sold_out=a),inactiveValue:0,activeValue:1,activeColor:"#FFBE00",size:"20"},null,8,["modelValue"])])),_:1}),m(t,{class:"ti-setting-item"},{default:f((()=>[m(t,{class:"ti-setting-item-title"},{default:f((()=>[h(p(w(P)("默认语言")),1)])),_:1}),m(s,{modelValue:F.value.default_language,"onUpdate:modelValue":e[1]||(e[1]=a=>F.value.default_language=a),clear:!1,localdata:w(T)()||[]},null,8,["modelValue","localdata"])])),_:1}),m(t,{class:"ti-setting-bottom"},{default:f((()=>[m(t,{class:"ti-setting-bottom-temps"}),m(t,{class:"ti-setting-bottom-buttons"},{default:f((()=>[m(u,{onClick:q},{default:f((()=>[h(p(w(P)("重置")),1)])),_:1}),m(u,{type:"primary",loading:E.value,onClick:B},{default:f((()=>[h(p(w(P)("保存")),1)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-468a09d3"]]);export{C as default};
