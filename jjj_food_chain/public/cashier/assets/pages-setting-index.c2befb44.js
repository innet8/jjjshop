import{_ as a,a2 as t,ay as e,r as l,V as s,W as u,o as i,f as n,g as o,h as d,i as _,t as g,u as c,az as f,s as m,a1 as r,j as v,a as h,c as p,k as w,X as z,$ as V,aA as b}from"./index-2854cd4d.js";import{_ as y}from"./u-switch.f547f2cf.js";import{_ as j}from"./uni-data-select.0c30d04c.js";const H=a({__name:"index",setup(a){const H=t(),{cashier:k,tablet:x}=e(H),C=l(!1),U=l({is_show_sold_out:0,default_language:null});s((()=>{u(),F()}));const F=()=>{var a,t,e,l;U.value={is_show_sold_out:+(null==(a=x.value)?void 0:a.is_show_sold_out)||0,default_language:"zh"==(null==(t=k.value)?void 0:t.default_language)?"zh-Hans":"zh-tw"==(null==(e=k.value)?void 0:e.default_language)?"zh-Hant":null==(l=k.value)?void 0:l.default_language}},I=async()=>{const a={...U.value};a.default_language="zh-Hans"==a.default_language?"zh":"zh-Hant"==a.default_language?"zh-tw":a.default_language;try{C.value=!0;const t=await f(a);m({title:t.msg,icon:"none"}),setTimeout((()=>{r(U.value.default_language),H.setUserInfo(!0)}),300)}catch(t){}finally{C.value=!1}};return(a,t)=>{const e=v,l=h(p("u-switch"),y),s=h(p("uni-data-select"),j),u=h(p("ti-button"),w),f=z("ti-layout");return i(),n(f,null,{default:o((()=>[d(e,{class:"ti-setting-container"},{default:o((()=>[d(e,{class:"ti-setting-header"},{default:o((()=>[d(e,{class:"ti-setting-header-tag"}),d(e,{class:"ti-setting-header-title"},{default:o((()=>[_(g(c(V)("系统设置")),1)])),_:1})])),_:1}),d(e,{class:"ti-setting-content"},{default:o((()=>[d(e,{class:"ti-setting-item"},{default:o((()=>[d(e,{class:"ti-setting-item-title"},{default:o((()=>[_(g(c(V)("平板顯示售罄商品")),1)])),_:1}),d(l,{modelValue:U.value.is_show_sold_out,"onUpdate:modelValue":t[0]||(t[0]=a=>U.value.is_show_sold_out=a),inactiveValue:0,activeValue:1,activeColor:"#FFBE00",size:"20"},null,8,["modelValue"])])),_:1}),d(e,{class:"ti-setting-item"},{default:o((()=>[d(e,{class:"ti-setting-item-title"},{default:o((()=>[_(g(c(V)("默认语言")),1)])),_:1}),d(s,{modelValue:U.value.default_language,"onUpdate:modelValue":t[1]||(t[1]=a=>U.value.default_language=a),localdata:c(b)()||[],clear:!1},null,8,["modelValue","localdata"])])),_:1}),d(e,{class:"ti-setting-bottom"},{default:o((()=>[d(e,{class:"ti-setting-bottom-temps"}),d(e,{class:"ti-setting-bottom-buttons"},{default:o((()=>[d(u,{onClick:F},{default:o((()=>[_(g(c(V)("重置")),1)])),_:1}),d(u,{type:"primary",loading:C.value,onClick:I},{default:o((()=>[_(g(c(V)("保存")),1)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-6021beef"]]);export{H as default};
