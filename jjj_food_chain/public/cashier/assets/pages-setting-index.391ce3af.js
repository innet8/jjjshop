var a=Object.defineProperty,e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(e,t,l)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;import{_ as u,u as o,x as i,aj as n,y as d,A as r,o as _,ao as c,b as g,c as v,w as f,ar as m,d as h,n as p,t as w,p as b,b2 as y,E as j,i as V,k as z,m as x,$ as O,q as P,P as T}from"./index-4e02de19.js";import{_ as k}from"./u-switch.25ecb12f.js";import{_ as C}from"./ti-select.8d61905e.js";const E=u({__name:"index",setup(a){const{changeLocale:u}=o(),E=i(),{cashier:I,tablet:U}=n(E),W=d(!1),F=d({is_show_sold_out:0,default_language:null});r((()=>I.value),(()=>{var a,e;F.value.default_language="zh-tw"==(null==(a=I.value)?void 0:a.default_language)?"zh-TW":null==(e=I.value)?void 0:e.default_language}),{deep:!0,immediate:!0}),r((()=>U.value),(()=>{var a;F.value.is_show_sold_out=+(null==(a=U.value)?void 0:a.is_show_sold_out)||0}),{deep:!0,immediate:!0}),_((()=>{c()}));const q=()=>{var a,e,t;F.value={is_show_sold_out:+(null==(a=U.value)?void 0:a.is_show_sold_out)||0,default_language:"zh-tw"==(null==(e=I.value)?void 0:e.default_language)?"zh-TW":null==(t=I.value)?void 0:t.default_language}},A=()=>{return a=this,o=null,i=function*(){const a=((a,u)=>{for(var o in u||(u={}))t.call(u,o)&&s(a,o,u[o]);if(e)for(var o of e(u))l.call(u,o)&&s(a,o,u[o]);return a})({},F.value);a.default_language="zh-TW"==a.default_language?"zh-tw":a.default_language;try{W.value=!0;const e=yield y(a);j({title:e.msg,icon:"none"}),setTimeout((()=>{u(F.value.default_language),E.setUserInfo(!0)}),300)}catch(o){}finally{W.value=!1}},new Promise(((e,t)=>{var l=a=>{try{u(i.next(a))}catch(e){t(e)}},s=a=>{try{u(i.throw(a))}catch(e){t(e)}},u=a=>a.done?e(a.value):Promise.resolve(a.value).then(l,s);u((i=i.apply(a,o)).next())}));var a,o,i};return(a,e)=>{const t=V,l=z(x("u-switch"),k),s=z(x("ti-select"),C),u=z(x("ti-button"),T),o=m("ti-layout");return g(),v(o,null,{default:f((()=>[h(t,{class:"ti-setting-container"},{default:f((()=>[h(t,{class:"ti-setting-header"},{default:f((()=>[h(t,{class:"ti-setting-header-tag"}),h(t,{class:"ti-setting-header-title"},{default:f((()=>[p(w(b(O)("系统设置")),1)])),_:1})])),_:1}),h(t,{class:"ti-setting-content"},{default:f((()=>[h(t,{class:"ti-setting-item"},{default:f((()=>[h(t,{class:"ti-setting-item-title"},{default:f((()=>[p(w(b(O)("平板顯示售罄商品")),1)])),_:1}),h(l,{modelValue:F.value.is_show_sold_out,"onUpdate:modelValue":e[0]||(e[0]=a=>F.value.is_show_sold_out=a),inactiveValue:0,activeValue:1,activeColor:"#FFBE00",size:"20"},null,8,["modelValue"])])),_:1}),h(t,{class:"ti-setting-item"},{default:f((()=>[h(t,{class:"ti-setting-item-title"},{default:f((()=>[p(w(b(O)("默认语言")),1)])),_:1}),h(s,{modelValue:F.value.default_language,"onUpdate:modelValue":e[1]||(e[1]=a=>F.value.default_language=a),clear:!1,localdata:b(P)()||[]},null,8,["modelValue","localdata"])])),_:1}),h(t,{class:"ti-setting-bottom"},{default:f((()=>[h(t,{class:"ti-setting-bottom-temps"}),h(t,{class:"ti-setting-bottom-buttons"},{default:f((()=>[h(u,{onClick:q},{default:f((()=>[p(w(b(O)("重置")),1)])),_:1}),h(u,{type:"primary",loading:W.value,onClick:A},{default:f((()=>[p(w(b(O)("保存")),1)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-468a09d3"]]);export{E as default};
