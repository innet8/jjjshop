import{_ as a,u as t,m as e,az as l,n as s,q as u,ah as i,ai as o,o as n,d,w as _,e as g,f as c,t as f,g as v,aA as m,y as r,k as h,r as w,b as p,J as z,aj as V,$ as b,aB as y}from"./index-8d00602e.js";import{_ as j}from"./u-switch.f5cf8555.js";import{_ as T}from"./uni-data-select.22096aac.js";const k=a({__name:"index",setup(a){const{changeLocale:k}=t(),x=e(),{cashier:C,tablet:U}=l(x),W=s(!1),B=s({is_show_sold_out:0,default_language:null});u((()=>C.value),(()=>{var a,t;B.value.default_language="zh-tw"==(null==(a=C.value)?void 0:a.default_language)?"zh-TW":null==(t=C.value)?void 0:t.default_language}),{deep:!0,immediate:!0}),u((()=>U.value),(()=>{var a;B.value.is_show_sold_out=+(null==(a=U.value)?void 0:a.is_show_sold_out)||0}),{deep:!0,immediate:!0}),i((()=>{o()}));const F=()=>{var a,t,e;B.value={is_show_sold_out:+(null==(a=U.value)?void 0:a.is_show_sold_out)||0,default_language:"zh-tw"==(null==(t=C.value)?void 0:t.default_language)?"zh-TW":null==(e=C.value)?void 0:e.default_language}},I=async()=>{const a={...B.value};a.default_language="zh-TW"==a.default_language?"zh-tw":a.default_language;try{W.value=!0;const t=await m(a);r({title:t.msg,icon:"none"}),setTimeout((()=>{k(B.value.default_language),x.setUserInfo(!0)}),300)}catch(t){}finally{W.value=!1}};return(a,t)=>{const e=h,l=w(p("u-switch"),j),s=w(p("uni-data-select"),T),u=w(p("ti-button"),z),i=V("ti-layout");return n(),d(i,null,{default:_((()=>[g(e,{class:"ti-setting-container"},{default:_((()=>[g(e,{class:"ti-setting-header"},{default:_((()=>[g(e,{class:"ti-setting-header-tag"}),g(e,{class:"ti-setting-header-title"},{default:_((()=>[c(f(v(b)("系统设置")),1)])),_:1})])),_:1}),g(e,{class:"ti-setting-content"},{default:_((()=>[g(e,{class:"ti-setting-item"},{default:_((()=>[g(e,{class:"ti-setting-item-title"},{default:_((()=>[c(f(v(b)("平板顯示售罄商品")),1)])),_:1}),g(l,{modelValue:B.value.is_show_sold_out,"onUpdate:modelValue":t[0]||(t[0]=a=>B.value.is_show_sold_out=a),inactiveValue:0,activeValue:1,activeColor:"#FFBE00",size:"20"},null,8,["modelValue"])])),_:1}),g(e,{class:"ti-setting-item"},{default:_((()=>[g(e,{class:"ti-setting-item-title"},{default:_((()=>[c(f(v(b)("默认语言")),1)])),_:1}),g(s,{modelValue:B.value.default_language,"onUpdate:modelValue":t[1]||(t[1]=a=>B.value.default_language=a),localdata:v(y)()||[],clear:!1},null,8,["modelValue","localdata"])])),_:1}),g(e,{class:"ti-setting-bottom"},{default:_((()=>[g(e,{class:"ti-setting-bottom-temps"}),g(e,{class:"ti-setting-bottom-buttons"},{default:_((()=>[g(u,{onClick:F},{default:_((()=>[c(f(v(b)("重置")),1)])),_:1}),g(u,{type:"primary",loading:W.value,onClick:I},{default:_((()=>[c(f(v(b)("保存")),1)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-4a650358"]]);export{k as default};
