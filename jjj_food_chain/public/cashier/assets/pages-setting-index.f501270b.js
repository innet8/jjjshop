import{_ as a,k as t,az as e,m as l,p as s,ah as u,ai as i,o as n,d as o,w as d,e as _,f as g,t as c,u as f,aA as v,y as m,s as h,j as r,r as p,b as w,J as z,aj as b,$ as V,aB as y}from"./index-a8b22f36.js";import{_ as H}from"./u-switch.1fb03d16.js";import{_ as j}from"./uni-data-select.368d52bb.js";const k=a({__name:"index",setup(a){const k=t(),{cashier:x,tablet:C}=e(k),U=l(!1),B=l({is_show_sold_out:0,default_language:null});s((()=>x.value),(()=>{var a,t,e;B.value.default_language="zh"==(null==(a=x.value)?void 0:a.default_language)?"zh-Hans":"zh-tw"==(null==(t=x.value)?void 0:t.default_language)?"zh-Hant":null==(e=x.value)?void 0:e.default_language}),{deep:!0,immediate:!0}),s((()=>C.value),(()=>{var a;B.value.is_show_sold_out=+(null==(a=C.value)?void 0:a.is_show_sold_out)||0}),{deep:!0,immediate:!0}),u((()=>{i()}));const F=()=>{var a,t,e,l;B.value={is_show_sold_out:+(null==(a=C.value)?void 0:a.is_show_sold_out)||0,default_language:"zh"==(null==(t=x.value)?void 0:t.default_language)?"zh-Hans":"zh-tw"==(null==(e=x.value)?void 0:e.default_language)?"zh-Hant":null==(l=x.value)?void 0:l.default_language}},I=async()=>{const a={...B.value};a.default_language="zh-Hans"==a.default_language?"zh":"zh-Hant"==a.default_language?"zh-tw":a.default_language;try{U.value=!0;const t=await v(a);m({title:t.msg,icon:"none"}),setTimeout((()=>{h(B.value.default_language),k.setUserInfo(!0)}),300)}catch(t){}finally{U.value=!1}};return(a,t)=>{const e=r,l=p(w("u-switch"),H),s=p(w("uni-data-select"),j),u=p(w("ti-button"),z),i=b("ti-layout");return n(),o(i,null,{default:d((()=>[_(e,{class:"ti-setting-container"},{default:d((()=>[_(e,{class:"ti-setting-header"},{default:d((()=>[_(e,{class:"ti-setting-header-tag"}),_(e,{class:"ti-setting-header-title"},{default:d((()=>[g(c(f(V)("系统设置")),1)])),_:1})])),_:1}),_(e,{class:"ti-setting-content"},{default:d((()=>[_(e,{class:"ti-setting-item"},{default:d((()=>[_(e,{class:"ti-setting-item-title"},{default:d((()=>[g(c(f(V)("平板顯示售罄商品")),1)])),_:1}),_(l,{modelValue:B.value.is_show_sold_out,"onUpdate:modelValue":t[0]||(t[0]=a=>B.value.is_show_sold_out=a),inactiveValue:0,activeValue:1,activeColor:"#FFBE00",size:"20"},null,8,["modelValue"])])),_:1}),_(e,{class:"ti-setting-item"},{default:d((()=>[_(e,{class:"ti-setting-item-title"},{default:d((()=>[g(c(f(V)("默认语言")),1)])),_:1}),_(s,{modelValue:B.value.default_language,"onUpdate:modelValue":t[1]||(t[1]=a=>B.value.default_language=a),localdata:f(y)()||[],clear:!1},null,8,["modelValue","localdata"])])),_:1}),_(e,{class:"ti-setting-bottom"},{default:d((()=>[_(e,{class:"ti-setting-bottom-temps"}),_(e,{class:"ti-setting-bottom-buttons"},{default:d((()=>[_(u,{onClick:F},{default:d((()=>[g(c(f(V)("重置")),1)])),_:1}),_(u,{type:"primary",loading:U.value,onClick:I},{default:d((()=>[g(c(f(V)("保存")),1)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-dd3b74f1"]]);export{k as default};
