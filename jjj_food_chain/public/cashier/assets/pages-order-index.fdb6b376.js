import{a9 as e,_ as t,a,M as n,c as l,o as i,f as r,g as u,h as o,i as s,t as d,C as c,p,m as g,F as h,n as f,B as _,L as m,aa as v,j as y,r as x,R as w,w as k,Q as C,S as b,a4 as I,b as S,d as P,e as T,u as z,$ as V,y as U,z as D,s as N,k as $,T as R,U as L,ab as O,ac as j,V as A}from"./index-ff39bbf8.js";import{_ as B}from"./uni-data-select.e657dd1f.js";import{_ as M,a as F,b as E,c as H,T as W,d as q}from"./index.b77abb96.js";import{_ as Q}from"./u-popup.c1ffe2ea.js";const Z={en:{"uni-pagination.prevText":"prev","uni-pagination.nextText":"next","uni-pagination.piecePerPage":"piece/page"},es:{"uni-pagination.prevText":"anterior","uni-pagination.nextText":"prxima","uni-pagination.piecePerPage":"Art��culo/P��gina"},fr:{"uni-pagination.prevText":"précédente","uni-pagination.nextText":"suivante","uni-pagination.piecePerPage":"Articles/Pages"},"zh-Hans":{"uni-pagination.prevText":"上一页","uni-pagination.nextText":"下一页","uni-pagination.piecePerPage":"条/页"},"zh-Hant":{"uni-pagination.prevText":"上一頁","uni-pagination.nextText":"下一頁","uni-pagination.piecePerPage":"條/頁"}},{t:G}=e(Z);const J=t({name:"UniPagination",emits:["update:modelValue","input","change","pageSizeChange"],props:{value:{type:[Number,String],default:1},modelValue:{type:[Number,String],default:1},prevText:{type:String},nextText:{type:String},piecePerPageText:{type:String},current:{type:[Number,String],default:1},total:{type:[Number,String],default:0},pageSize:{type:[Number,String],default:10},showIcon:{type:[Boolean,String],default:!1},showPageSize:{type:[Boolean,String],default:!1},pagerCount:{type:Number,default:7},pageSizeRange:{type:Array,default:()=>[20,50,100,500]}},data:()=>({pageSizeIndex:0,currentIndex:1,paperData:[],pickerShow:!1}),computed:{piecePerPage(){return this.piecePerPageText||G("uni-pagination.piecePerPage")},prevPageText(){return this.prevText||G("uni-pagination.prevText")},nextPageText(){return this.nextText||G("uni-pagination.nextText")},maxPage(){let e=1,t=Number(this.total),a=Number(this.pageSize);return t&&a&&(e=Math.ceil(t/a)),e},paper(){const e=this.currentIndex,t=this.pagerCount,a=this.total,n=this.pageSize;let l=[],i=[],r=Math.ceil(a/n);for(let o=0;o<r;o++)l.push(o+1);i.push(1);const u=l[l.length-(t+1)/2];return l.forEach(((a,n)=>{(t+1)/2>=e?a<t+1&&a>1&&i.push(a):e+2<=u?a>e-(t+1)/2&&a<e+(t+1)/2&&i.push(a):(a>e-(t+1)/2||r-t<a)&&a<l[l.length-1]&&i.push(a)})),r>t?((t+1)/2>=e?i[i.length-1]="...":e+2<=u?(i[1]="...",i[i.length-1]="..."):i[1]="...",i.push(l[l.length-1])):(t+1)/2>=e||e+2<=u||(i.shift(),i.push(l[l.length-1])),i}},watch:{current:{immediate:!0,handler(e,t){this.currentIndex=e<1?1:e}},value:{immediate:!0,handler(e){1===Number(this.current)&&(this.currentIndex=e<1?1:e)}},pageSizeIndex(e){this.$emit("pageSizeChange",this.pageSizeRange[e])}},methods:{pickerChange(e){this.pageSizeIndex=e.detail.value,this.pickerClick()},pickerClick(){const e=document.querySelector("body");if(!e)return;const t="uni-pagination-picker-show";this.pickerShow=!this.pickerShow,this.pickerShow?e.classList.add(t):setTimeout((()=>e.classList.remove(t)),300)},selectPage(e,t){if(parseInt(e))this.currentIndex=e,this.change("current");else{let e=Math.ceil(this.total/this.pageSize);if(t<=1)return void(this.currentIndex-5>1?this.currentIndex-=5:this.currentIndex=1);if(t>=6)return void(this.currentIndex+5>e?this.currentIndex=e:this.currentIndex+=5)}},clickLeft(){1!==Number(this.currentIndex)&&(this.currentIndex-=1,this.change("prev"))},clickRight(){Number(this.currentIndex)>=this.maxPage||(this.currentIndex+=1,this.change("next"))},change(e){this.$emit("input",this.currentIndex),this.$emit("update:modelValue",this.currentIndex),this.$emit("change",{type:e,current:this.currentIndex})}}},[["render",function(e,t,x,w,k,C){const b=_,I=a(l("uni-icons"),n),S=m,P=v,T=y;return i(),r(T,{class:"uni-pagination"},{default:u((()=>[!0===x.showPageSize||"true"===x.showPageSize?(i(),r(P,{key:0,class:"select-picker",mode:"selector",value:k.pageSizeIndex,range:x.pageSizeRange,onChange:C.pickerChange,onCancel:C.pickerClick,onClick:C.pickerClick},{default:u((()=>[o(S,{type:"default",size:"mini",plain:!0},{default:u((()=>[o(b,null,{default:u((()=>[s(d(x.pageSizeRange[k.pageSizeIndex])+" "+d(C.piecePerPage),1)])),_:1}),o(I,{class:"select-picker-icon",type:"arrowdown",size:"12",color:"#999"})])),_:1})])),_:1},8,["value","range","onChange","onCancel","onClick"])):c("",!0),o(T,{class:"uni-pagination__total is-phone-hide"},{default:u((()=>[s("共 "+d(x.total)+" 条",1)])),_:1}),o(T,{class:p(["uni-pagination__btn",1===k.currentIndex?"uni-pagination--disabled":"uni-pagination--enabled"]),"hover-class":1===k.currentIndex?"":"uni-pagination--hover","hover-start-time":20,"hover-stay-time":70,onClick:C.clickLeft},{default:u((()=>[!0===x.showIcon||"true"===x.showIcon?(i(),r(I,{key:0,color:"#666",size:"16",type:"left"})):(i(),r(b,{key:1,class:"uni-pagination__child-btn"},{default:u((()=>[s(d(C.prevPageText),1)])),_:1}))])),_:1},8,["class","hover-class","onClick"]),o(T,{class:"uni-pagination__num uni-pagination__num-flex-none"},{default:u((()=>[o(T,{class:"uni-pagination__num-current"},{default:u((()=>[o(b,{class:"uni-pagination__num-current-text is-pc-hide current-index-text"},{default:u((()=>[s(d(k.currentIndex),1)])),_:1}),o(b,{class:"uni-pagination__num-current-text is-pc-hide"},{default:u((()=>[s("/"+d(C.maxPage||0),1)])),_:1}),(i(!0),g(h,null,f(C.paper,((e,t)=>(i(),r(T,{key:t,class:p([{"page--active":e===k.currentIndex},"uni-pagination__num-tag tag--active is-phone-hide"]),onClick:a=>C.selectPage(e,t)},{default:u((()=>[o(b,null,{default:u((()=>[s(d(e),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),o(T,{class:p(["uni-pagination__btn",k.currentIndex>=C.maxPage?"uni-pagination--disabled":"uni-pagination--enabled"]),"hover-class":k.currentIndex===C.maxPage?"":"uni-pagination--hover","hover-start-time":20,"hover-stay-time":70,onClick:C.clickRight},{default:u((()=>[!0===x.showIcon||"true"===x.showIcon?(i(),r(I,{key:0,color:"#666",size:"16",type:"right"})):(i(),r(b,{key:1,class:"uni-pagination__child-btn"},{default:u((()=>[s(d(C.nextPageText),1)])),_:1}))])),_:1},8,["class","hover-class","onClick"])])),_:1})}],["__scopeId","data-v-7a02a0a9"]]),K=t({__name:"order-type-menu",props:{list:{type:Array,default:()=>[]},menuId:{type:Number,default:null}},emits:["update:menuId","menuClick"],setup(e,{emit:t}){const a=e,n=x(0),l=x(0),m=x([]),v=w().in(this);k((()=>a.list),(async e=>{if(e&&0!=e.length&&(await C(),e.map(((e,t)=>{v.select(`#scroll-item-${t}`).boundingClientRect((e=>{if(!e)return;const a=m.value;a[t]=e.width+10,m.value=a})).exec()})),a.menuId>0)){const e=a.list.findIndex((e=>e.category_id==a.menuId));e>-1&&I(e)}}),{deep:!0,immediate:!0});const I=e=>{l.value=e,n.value=m.value.slice(0,e+1).reduce(((e,t)=>e+t),0)-(m.value[e]+100),t("update:menuId",a.list[e].category_id),t("menuClick",a.list[e].category_id)};return(e,t)=>{const m=_,v=y,x=b;return i(),r(x,{class:"ti-order-menu","scroll-left":n.value,"scroll-x":"","enable-flex":"","scroll-with-animation":""},{default:u((()=>[o(v,{class:"ti-menu-content"},{default:u((()=>[(i(!0),g(h,null,f(a.list,((e,t)=>(i(),r(v,{key:t,class:p(["ti-menu-item",{active:t==l.value}]),id:`scroll-item-${t}`,onClick:e=>I(t)},{default:u((()=>[o(v,{style:{display:"flex","flex-direction":"row","align-items":"center"}},{default:u((()=>[o(m,{class:"ti-menu-title"},{default:u((()=>[s(d(e.name_text),1)])),_:2},1024),e.number?(i(),r(v,{key:0,class:"ti-menu-bedge"},{default:u((()=>[s(d(e.number),1)])),_:2},1024)):c("",!0)])),_:2},1024)])),_:2},1032,["id","class","onClick"])))),128))])),_:1})])),_:1},8,["scroll-left"])}}},[["__scopeId","data-v-67866074"]]);function X(e){return I("order.order/cancel",e)}function Y(e){return I("order.order/remove",e)}const ee=t({__name:"dialog-refuse-payed",props:{show:{type:Boolean,default:!1},orderAmount:{type:String,default:""}},emits:["update:show"],setup(e,{expose:t,emit:n}){const c=e,p=x({refund_money:""}),g=x({}),h=x(!1),f=()=>{p.value.refund_money=""},m=e=>{p.value.refund_money+=e,v()},v=()=>{parseFloat(p.value.refund_money)>parseFloat(g.value.total_price)&&(p.value.refund_money=parseFloat(g.value.total_price)+"")},w=async()=>{const e={...p.value};e.order_id=g.value.order_id;try{h.value=!0;const t=await function(e){return I("order.order/refund",e)}(e);setTimeout((()=>{N({title:t.msg,icon:"none"})}),200),1==t.code&&k(),h.value=!1}catch(t){}finally{h.value=!1}},k=()=>{n("update:show",!1)};return t({getOrderData:e=>{g.value=e,n("update:show",!0)}}),(e,t)=>{const n=y,v=_,x=a(l("ti-input"),S),C=a(l("ti-keyboard"),P),b=a(l("ti-modal"),T);return i(),r(b,{show:c.show,title:z(V)("退款")},{content:u((()=>[o(n,{class:"ti-dialog-content"},{default:u((()=>[o(n,{class:"ti-preferential-box"},{default:u((()=>[o(n,{class:"ti-preferential-label"},{default:u((()=>[s(d(z(V)("可退款金額")),1)])),_:1}),o(n,{class:"ti-preferential-input"},{default:u((()=>[o(v,{class:"ti-preferential-price"},{default:u((()=>[s(d(z(U)(g.value.total_price)),1)])),_:1}),o(v,{class:"ti-preferential-subPrice"},{default:u((()=>[s(d(z(D)(g.value.total_price)),1)])),_:1})])),_:1}),o(n,{class:"ti-preferential-input"},{default:u((()=>[o(x,{modelValue:p.value.refund_money,"onUpdate:modelValue":t[0]||(t[0]=e=>p.value.refund_money=e),placeholder:z(V)("請輸入退款金額，不能大於可退款金額"),focus:!0},null,8,["modelValue","placeholder"])])),_:1})])),_:1})])),_:1})])),footer:u((()=>[o(n,{class:"ti-dialog-btn ti-preferential-keyboard"},{default:u((()=>[o(C,{primaryLoading:h.value,isDoubleZero:!0,isCross:!1,isDrop:!0,onExit:k,onClear:f,onInput:m,onConfirm:w},null,8,["primaryLoading"])])),_:1})])),_:1},8,["show","title"])}}},[["__scopeId","data-v-6a438d47"]]),te=t({__name:"dialog-order-detail",props:{show:{type:Boolean,default:!1}},emits:["update:show","confirm"],setup(e,{expose:t,emit:n}){const p=x(""),_=x(!1),m=x(!1),v=x(!1),w=x({}),k=x();x({time_type:0,time:null,category_type:1});const C=x([]),b=x([]),S=async()=>{const e={order_id:p.value};try{const t=await function(e){return I("order.order/detail",e)}(e);C.value=t.data.detail.product||[],w.value=t.data.detail}catch(t){}},P=()=>{v.value=!0},U=()=>{m.value=!0},D=()=>{var e;null==(e=k.value)||e.getOrderData(w.value)},R=()=>{},L=async()=>{const e={order_id:p.value};try{const t=await X(e);setTimeout((()=>{N({title:t.msg,icon:"none"}),1==t.code&&j()}),200)}catch(t){}},O=async()=>{const e={order_id:p.value};try{const t=await Y(e);setTimeout((()=>{N({title:t.msg,icon:"none"}),1==t.code&&j()}),200)}catch(t){}},j=()=>{n("update:show",!1),m.value=!1,v.value=!1},A=()=>{};return t({showDetailWithData:e=>{p.value=e,n("update:show",!0),S()}}),(t,n)=>{const p=y,x=a(l("uni-th"),M),I=a(l("uni-tr"),F),S=a(l("uni-td"),E),N=a(l("uni-table"),H),B=a(l("ti-button"),$),W=a(l("ti-modal"),T),q=a(l("u-popup"),Q);return i(),r(p,{class:""},{default:u((()=>[o(q,{ref:"dialogRef",round:16,show:e.show,mode:"right",onOpen:A,onClose:j,closeOnClickOverlay:!1},{default:u((()=>[o(p,{class:"ti-order-detail-container"},{default:u((()=>[o(p,{class:"ti-order-detail-title"},{default:u((()=>[s(d(z(V)("訂單詳情")),1)])),_:1}),o(p,{class:"ti-order-detail-header"},{default:u((()=>[o(p,{class:"ti-order-detail-header-tag"}),o(p,{class:"ti-order-detail-header-title"},{default:u((()=>[s(d(z(V)("基本信息")),1)])),_:1})])),_:1}),o(p,{class:"ti-order-detail-other"},{default:u((()=>[(i(!0),g(h,null,f(b.value,(e=>(i(),r(p,{class:"ti-order-detail-other-item"},{default:u((()=>[o(p,{class:"ti-order-detail-other-item-title"},{default:u((()=>[s(d(e.pay_type_name),1)])),_:2},1024),o(p,{class:"ti-order-detail-other-item-content"},{default:u((()=>[s(d(`¥ ${e.price}`),1)])),_:2},1024)])),_:2},1024)))),256))])),_:1}),o(p,{class:"ti-order-detail-header"},{default:u((()=>[o(p,{class:"ti-order-detail-header-tag"}),o(p,{class:"ti-order-detail-header-title"},{default:u((()=>[s(d(z(V)("商品信息")),1)])),_:1})])),_:1}),o(N,{ref:"table",loading:t.loading,border:"",stripe:"",emptyText:z(V)("暂无更多数据"),onSelectionChange:t.selectionChange},{default:u((()=>[o(I,null,{default:u((()=>[o(x,{align:"left"},{default:u((()=>[s(d(z(V)("商品")),1)])),_:1}),o(x,{align:"right"},{default:u((()=>[s(d(z(V)("價格")),1)])),_:1}),o(x,{align:"right"},{default:u((()=>[s(d(z(V)("購買數量")),1)])),_:1}),o(x,{align:"right"},{default:u((()=>[s(d(z(V)("商品總價")),1)])),_:1})])),_:1}),(i(!0),g(h,null,f(C.value,((e,t)=>(i(),r(I,{key:t},{default:u((()=>[o(S,null,{default:u((()=>[s(d(e.product_name_text),1)])),_:2},1024),o(S,{align:"right"},{default:u((()=>[o(p,{class:"name"},{default:u((()=>[s(d(`¥ ${e.product_price}`),1)])),_:2},1024)])),_:2},1024),o(S,{align:"right"},{default:u((()=>[s(d(e.total_num),1)])),_:2},1024),o(S,{align:"right"},{default:u((()=>[s(d(`¥ ${e.total_price}`),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["loading","emptyText","onSelectionChange"]),o(p,{style:{flex:"1"}}),o(p,{class:"ti-data-bottom"},{default:u((()=>{var e,t,a;return[o(B,{onClick:j},{default:u((()=>[s(d(z(V)("退出")),1)])),_:1}),30==(null==(e=w.value.order_status)?void 0:e.value)?(i(),r(B,{key:0,onClick:D,type:"primary"},{default:u((()=>[s(d(z(V)("退款")),1)])),_:1})):c("",!0),20==(null==(t=w.value.order_status)?void 0:t.value)?(i(),r(B,{key:1,onClick:P,type:"danger"},{default:u((()=>[s(d(z(V)("删除")),1)])),_:1})):c("",!0),10==(null==(a=w.value.order_status)?void 0:a.value)?(i(),r(B,{key:2,onClick:U,type:"danger"},{default:u((()=>[s(d(z(V)("取消")),1)])),_:1})):c("",!0),o(B,{type:"primary",onClick:R},{default:u((()=>[s(d(z(V)("打印")),1)])),_:1})]})),_:1}),o(ee,{ref_key:"refuse",ref:k,show:_.value,"onUpdate:show":n[0]||(n[0]=e=>_.value=e)},null,8,["show"]),o(W,{class:"ti-action-tips",show:m.value,"onUpdate:show":n[1]||(n[1]=e=>m.value=e),title:z(V)("溫馨提示"),content:z(V)("是否取消此訂單？"),onConfirm:L},null,8,["show","title","content"]),o(W,{class:"ti-action-tips",show:v.value,"onUpdate:show":n[2]||(n[2]=e=>v.value=e),title:z(V)("溫馨提示"),content:z(V)("是否删除此訂單？"),onConfirm:O},null,8,["show","title","content"])])),_:1})])),_:1},8,["show"])])),_:1})}}},[["__scopeId","data-v-bca6ed6c"]]),ae=t({__name:"index",setup(e){const t=x(0),n=x(),p=x(),_=x(!1),m=x(!1),v=x(!1),w=x(!1),k=x(""),C=x("");var b={};const S=x({eat_type:10,time_type:1,time:null,dataType:0,search:null,order_type:0,page:1,list_rows:6,search:null}),P=x([{name_text:V("全部"),number:0,category_id:0},{name_text:V("待付款"),number:2,category_id:1},{name_text:V("已取消"),number:10,category_id:3},{name_text:V("已完成"),number:99,category_id:2}]),U=x([{name:V("今天"),value:"1"},{name:V("昨天"),value:"2"},{name:V("一週"),value:"3"},{name:V("全部"),value:"0"}]),D=x([{value:20,text:V("桌台订单")},{value:10,text:V("收银订单")}]),M=x([]);var Q=x("");const Z=e=>{S.value.dataType=e},G=e=>{S.value.time_type=e,oe()},ae=e=>{S.value.eat_type=e||0},ne=e=>{k.value=e},le=e=>{C.value=e},ie=e=>{oe()},re=async()=>{const e={order_id:b.order_id};try{const t=await Y(e);setTimeout((()=>{N({title:t.msg,icon:"none"})}),200),1==t.code&&(w.value=!1,oe())}catch(t){}},ue=async()=>{const e={order_id:b.order_id};try{const t=await X(e);setTimeout((()=>{N({title:t.msg,icon:"none"})}),200),1==t.code&&(v.value=!1,oe())}catch(t){}},oe=async()=>{var e={...S.value},a=[0,0];k.value&&(a[0]=k.value),C.value&&(a[1]=C.value),0===a[0]&&0===a[1]||(e.time=a);try{const a=await function(e){return I("order.order/index",e)}(e);M.value=a.data.list.data,t.value=a.data.list.total}catch(n){}};return oe(),R((()=>{L()})),(e,x)=>{const k=y,C=j,I=a(l("uni-data-select"),B),N=a(l("ti-button"),$),R=a(l("uni-td"),E),L=a(l("uni-tr"),F),X=a(l("uni-table"),H),Y=a(l("uni-pagination"),J),se=a(l("ti-modal"),T),de=A("ti-layout");return i(),r(de,null,{default:u((()=>[o(k,{class:"ti-order-container"},{default:u((()=>[o(K,{list:P.value,"onUpdate:list":x[0]||(x[0]=e=>P.value=e),onMenuClick:Z},null,8,["list"]),o(k,{class:"ti-order-container-option"},{default:u((()=>[o(W,{list:U.value,"onUpdate:list":x[1]||(x[1]=e=>U.value=e),onOutput:G},null,8,["list"]),o(k,{class:"date-picker"},{default:u((()=>[o(q,{onStartDateChange:ne,onEndDateChange:le})])),_:1}),o(k,{class:"date-order-input"},{default:u((()=>[o(C,{modelValue:S.value.search,"onUpdate:modelValue":x[2]||(x[2]=e=>S.value.search=e),style:{"font-size":"14px"},placeholder:z(V)("請輸入訂單號")},null,8,["modelValue","placeholder"])])),_:1}),o(k,{class:"date-select-type"},{default:u((()=>[o(I,{modelValue:z(Q),"onUpdate:modelValue":x[3]||(x[3]=e=>O(Q)?Q.value=e:Q=e),localdata:D.value,placeholder:z(V)("所有類型"),onChange:ae,clear:!0},null,8,["modelValue","localdata","placeholder"])])),_:1}),o(k,{class:"date-search-confirm"},{default:u((()=>[o(N,{class:"date-search-confirm-button",type:"primary",onClick:oe},{default:u((()=>[s(d(z(V)("查询")),1)])),_:1})])),_:1})])),_:1}),o(X,{ref:"table",loading:e.loading,border:"",stripe:"",emptyText:z(V)("暂无更多数据"),onSelectionChange:e.selectionChange},{default:u((()=>[o(L,null,{default:u((()=>[o(R,{width:"130",align:"left"},{default:u((()=>[s(d(z(V)("訂單類型")),1)])),_:1}),o(R,{width:"120",align:"left"},{default:u((()=>[s(d(z(V)("桌號/序號")),1)])),_:1}),o(R,{width:"160",align:"left"},{default:u((()=>[s(d(z(V)("訂單號")),1)])),_:1}),o(R,{width:"100",align:"left"},{default:u((()=>[s(d(z(V)("狀態")),1)])),_:1}),o(R,{width:"100",align:"left"},{default:u((()=>[s(d(z(V)("支付時間")),1)])),_:1}),o(R,{width:"140",align:"left"},{default:u((()=>[s(d(z(V)("訂單金額")),1)])),_:1}),o(R,{width:"140",align:"left"},{default:u((()=>[s(d(z(V)("實付金額")),1)])),_:1}),o(R,{width:"150",align:"left"},{default:u((()=>[s(d(z(V)("支付方式")),1)])),_:1}),o(R,{width:"280",align:"left"},{default:u((()=>[s(d(""))])),_:1})])),_:1}),(i(!0),g(h,null,f(M.value,((e,t)=>(i(),r(L,{key:t},{default:u((()=>[o(R,{align:"left"},{default:u((()=>[o(k,{class:"order-table-cell"},{default:u((()=>[s(d(20==e.eat_type?z(V)("桌台订单"):z(V)("收银订单")),1)])),_:2},1024)])),_:2},1024),o(R,{align:"left"},{default:u((()=>[s(d(e.order_id||e.table_no),1)])),_:2},1024),o(R,{align:"left"},{default:u((()=>[s(d(e.order_no),1)])),_:2},1024),o(R,{align:"left"},{default:u((()=>[s(d(e.order_status.text),1)])),_:2},1024),o(R,{align:"left"},{default:u((()=>[s(d(e.pay_time_text),1)])),_:2},1024),o(R,{align:"left"},{default:u((()=>[s(d(`¥ ${e.order_price}`),1)])),_:2},1024),o(R,{align:"left"},{default:u((()=>[s(d(`¥ ${e.pay_price}`),1)])),_:2},1024),o(R,{align:"left"},{default:u((()=>[s(d(e.pay_status.text),1)])),_:2},1024),o(R,{align:"left"},{default:u((()=>[o(k,{class:"edit-buttons"},{default:u((()=>{var t,a,l;return[o(N,{class:"function-buttons",onClick:t=>n.value.showDetailWithData(e.order_id),type:"primary"},{default:u((()=>[s(d(z(V)("詳情")),1)])),_:2},1032,["onClick"]),o(N,{class:"function-buttons margin",type:"primary"},{default:u((()=>[s(d(z(V)("打印小票")),1)])),_:1}),30==(null==(t=e.order_status)?void 0:t.value)?(i(),r(N,{key:0,class:"function-buttons margin",onClick:t=>(e=>{var t;null==(t=p.value)||t.getOrderData(e)})(e),type:"primary"},{default:u((()=>[s(d(z(V)("退款")),1)])),_:2},1032,["onClick"])):c("",!0),20==(null==(a=e.order_status)?void 0:a.value)?(i(),r(N,{key:1,class:"function-buttons margin",onClick:t=>{return a=e,w.value=!0,void(b=a);var a},type:"danger"},{default:u((()=>[s(d(z(V)("删除")),1)])),_:2},1032,["onClick"])):c("",!0),10==(null==(l=e.order_status)?void 0:l.value)?(i(),r(N,{key:2,class:"function-buttons margin",onClick:t=>{return a=e,v.value=!0,void(b=a);var a},type:"danger"},{default:u((()=>[s(d(z(V)("取消")),1)])),_:2},1032,["onClick"])):c("",!0)]})),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["loading","emptyText","onSelectionChange"]),o(k,{class:"page-control"},{default:u((()=>[o(Y,{"prev-text":z(V)("上一页"),"next-text":z(V)("下一页"),modelValue:S.value.page,"onUpdate:modelValue":x[4]||(x[4]=e=>S.value.page=e),title:"标题文字","page-size":"6",total:t.value,onChange:ie},null,8,["prev-text","next-text","modelValue","total"])])),_:1}),o(te,{ref_key:"orderDetail",ref:n,show:_.value,"onUpdate:show":x[5]||(x[5]=e=>_.value=e)},null,8,["show"]),o(ee,{ref_key:"refuse",ref:p,show:m.value,"onUpdate:show":x[6]||(x[6]=e=>m.value=e)},null,8,["show"]),o(se,{class:"ti-action-tips",show:v.value,"onUpdate:show":x[7]||(x[7]=e=>v.value=e),title:z(V)("溫馨提示"),content:z(V)("是否取消此訂單？"),onConfirm:ue},null,8,["show","title","content"]),o(se,{class:"ti-action-tips",show:w.value,"onUpdate:show":x[8]||(x[8]=e=>w.value=e),title:z(V)("溫馨提示"),content:z(V)("是否删除此訂單？"),onConfirm:re},null,8,["show","title","content"])])),_:1})])),_:1})}}},[["__scopeId","data-v-ab64db57"]]);export{ae as default};
