System.register(["./element-plus-legacy-60ebe2b3.js","./index-legacy-e98e8433.js","./@vue-legacy-d491fd61.js","./lodash-es-legacy-d85be0c6.js","./async-validator-legacy-aa1fd2de.js","./@vueuse-legacy-607036e0.js","./dayjs-legacy-8f525740.js","./call-bind-legacy-cd1ef84e.js","./get-intrinsic-legacy-609b632b.js","./has-symbols-legacy-afcc0593.js","./has-proto-legacy-d280ab1e.js","./function-bind-legacy-b76e1749.js","./has-legacy-06d86c07.js","./@element-plus-legacy-df2df726.js","./@popperjs-legacy-876caf52.js","./escape-html-legacy-dcea4fee.js","./normalize-wheel-es-legacy-13d39621.js","./@ctrl-legacy-33dbca08.js","./vue-router-legacy-6e9f093e.js","./pinia-legacy-4d650523.js","./sass-legacy-385fcf6f.js","./immutable-legacy-20f29256.js"],(function(e,t){"use strict";var i,l,s,a,c,n,r,d,o,u,p,f,_,h,g;return{setters:[function(e){i=e.d,l=e.B},function(e){s=e._},function(e){a=e.o,c=e.T,n=e.S,r=e.a,d=e.P,o=e.W,u=e.c,p=e.X,f=e.Q,_=e.a9,h=e.Y,g=e.M},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent=".tl{text-align:left}.dialog-spec .el-dialog{background:#fbfaf8;box-shadow:0 3px 7px rgba(0,0,0,.25);border-radius:5px}.dialog-spec .product-image{width:60px;height:60px;border-radius:10px}.dialog-spec .product-image img{width:60px;height:60px}.dialog-title{font-size:18px;font-family:Microsoft YaHei;font-weight:700;color:#49494e;line-height:38px}.dialog-content{padding:24px 40px;border-top:1px solid #eeeeee}.attr-list{display:flex;justify-content:flex-start;align-items:flex-start;flex-wrap:wrap}.attr-item{min-width:100px;padding:0 20px;height:40px;line-height:40px;border-radius:20px;cursor:pointer;margin-right:10px;margin-bottom:10px;background:#efefef;color:#49494e;flex-shrink:0}.attr-item.active{background:#ffa500;color:#fff}\n",document.head.appendChild(t);var m={data:function(){return{dialogVisible:!1,product_sku_id:0,space_name:"",attr_name:[],feed_name:[],show_sku:{attr:[],feed:[],product_price:"",bag_price:0},feed_price:"",line_price:""}},props:{is_pop:Boolean,detail:Object},computed:{},watch:{is_pop:function(e,t){e!=t&&(this.dialogVisible=e,e&&this.init())}},methods:{init:function(){this.space_name="",this.attr_name=[],this.feed_name=[],this.product_sku_id=0,this.feed_price="",this.line_price="",this.show_sku={attr:[],feed:[],product_price:"",bag_price:0},this.selecedtSpec(this.detail.sku[0],0)},selecedtSpec:function(e,t){var i=this;i.product_sku_id=e.product_sku_id,i.space_name=e.spec_name,i.show_sku.product_price=e.product_price,i.line_price=e.line_price,i.show_sku.bag_price=e.bag_price},selectAttr:function(e,t,i){this.show_sku.attr[i]=t,this.attr_name[i]=e},selectFeed:function(e,t){var i=this;if(i.show_sku.feed[t]||0===i.show_sku.feed[t]){i.show_sku.feed[t]=null,i.feed_price=1*i.feed_price-1*e.price;var l=i.feed_name.indexOf(e.feed_name);l>-1&&i.feed_name.splice(l,1)}else i.show_sku.feed[t]=t,i.feed_price=1*i.feed_price+1*e.price,i.feed_name.push(e.feed_name)},describe:function(){var e=this.space_name;""!=e&&(e+=";");var t=this.attr_name.join(";");""!=t&&(t+=";");var i=this.feed_name.join(",");return""!=i&&(i+=";"),e+t+i},addCart:function(){var e=this,t=[];e.show_sku.feed.forEach((function(e,i){null!=e&&t.push(e)})),t=t.length<=0?"":t.join(",");var i={product_id:e.detail.product_id,product_num:1,product_sku_id:e.product_sku_id,attr:e.show_sku.attr.join(","),feed:t,describe:e.describe(),price:1*e.feed_price+1*e.show_sku.product_price,product_price:1*e.feed_price+1*e.line_price,bag_price:e.show_sku.bag_price};e.handleClose(i)},handleClose:function(e){e&&e.product_id?this.$emit("close",e):this.$emit("close",null)}}},k=r("div",{class:"dialog-title"},"商品详情",-1),y={class:"d-s-c"},b={class:"product-image"},v=["src"],j={class:"p20"},x={class:"f16 tl fb"},w={class:"gray6 tl"},C={key:0,class:"mt20"},V=r("div",{class:"fb mb10 tl"},"规格",-1),S={class:"attr-list"},z=["onClick"],A={class:"fb mb10 tl"},B={class:"attr-list"},E=["onClick"],F={key:2,class:"mt20"},M=r("div",{class:"fb mb10 tl"},"加料",-1),O={class:"attr-list"},Y=["onClick"],$={class:"dialog-footer"};e("default",s(m,[["render",function(e,t,s,m,H,P){var Q=i,T=l;return a(),c(T,{title:"",modelValue:H.dialogVisible,"onUpdate:modelValue":t[1]||(t[1]=function(e){return H.dialogVisible=e}),"before-close":P.handleClose,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"906",class:"dialog-spec"},{title:n((function(){return[k]})),footer:n((function(){return[r("span",$,[d(Q,{onClick:t[0]||(t[0]=function(e){return P.handleClose(null)})},{default:n((function(){return[o("取 消")]})),_:1}),d(Q,{type:"primary",onClick:P.addCart},{default:n((function(){return[o("确 定")]})),_:1},8,["onClick"])])]})),default:n((function(){return[null!=s.detail?(a(),u(f,{key:0},[r("div",y,[r("div",b,[r("img",{src:s.detail.image[0].file_path},null,8,v)]),r("div",j,[r("div",x,p(s.detail.product_name),1),r("div",w,"单价:￥"+p(s.detail.product_price)+" 单位:"+p(s.detail.product_unit),1)])]),20==s.detail.spec_type?(a(),u("div",C,[V,r("div",S,[(a(!0),u(f,null,_(s.detail.sku,(function(e,t){return a(),u("div",{class:g(["attr-item",{active:H.product_sku_id==e.product_sku_id}]),onClick:function(i){return P.selecedtSpec(e,t)},key:t},p(e.spec_name+" ￥"+e.product_price),11,z)})),128))])])):h("",!0),s.detail.product_attr.length>0?(a(!0),u(f,{key:1},_(s.detail.product_attr,(function(e,t){return a(),u("div",{class:"mt20",key:t},[r("div",A,p(e.attribute_name),1),r("div",B,[(a(!0),u(f,null,_(e.attribute_value,(function(e,i){return a(),u(f,null,[e?(a(),u("div",{class:g(["attr-item",{active:H.show_sku.attr[t]==i}]),key:i,onClick:function(l){return P.selectAttr(e,i,t)}},p(e),11,E)):h("",!0)],64)})),256))])])})),128)):h("",!0),s.detail.product_feed.length>0?(a(),u("div",F,[M,r("div",O,[(a(!0),u(f,null,_(s.detail.product_feed,(function(e,t){return a(),u("div",{class:g(["attr-item",{active:null!=H.show_sku.feed[t]}]),onClick:function(i){return P.selectFeed(e,t)},key:t},p(e.feed_name+" ￥"+e.price),11,Y)})),128))])])):h("",!0)],64)):h("",!0)]})),_:1},8,["modelValue","before-close"])}]]))}}}));
