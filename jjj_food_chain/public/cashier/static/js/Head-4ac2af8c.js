import{U as t}from"./user-884a9e99.js";import{u as e,_ as s}from"./index-1d6a11a7.js";import{f as o,e as a}from"./element-plus-cd5f0841.js";import{o as r,c as i,a as n,X as m}from"./@vue-ec4837bd.js";import"./request-874d4953.js";import"./axios-63583d02.js";import"./qs-c6aa5595.js";import"./call-bind-8544b80b.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./side-channel-b02c3a2b.js";import"./object-inspect-bd98d4ca.js";import"./vue-router-bec44c5f.js";import"./pinia-57a80881.js";import"./sass-9c753014.js";import"./immutable-f1afe65f.js";import"./@element-plus-399cea60.js";import"./lodash-es-42625722.js";import"./async-validator-cf877c1f.js";import"./@vueuse-351f2583.js";import"./dayjs-3a594381.js";import"./@popperjs-b78c3215.js";import"./escape-html-1590d737.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";const{bus_on:u,userInfo:l,afterLogout:c}=e(),p={data:()=>({menu_title:"首页",username:l.userName,nowDate:"",timer:null,shop_name:""}),created(){u("MenuName",(t=>{this.menu_title=t})),this.getNow(),this.getData()},destroyed(){clearInterval(this.timer),this.timer=null},methods:{getData(){let e=this;t.getVersion({},!0).then((t=>{e.shop_name=t.data.user.user.name})).catch((t=>{}))},getNow(){let t=this;t.timer=setInterval((function(){t.nowDate=t.dateStr(new Date)}),1e3)},dateStr:t=>t.getFullYear()+"-"+(t.getMonth()+1-0>=10?Number(t.getMonth())+1:"0"+(Number(t.getMonth())+1))+"-"+(t.getDate()>=10?Number(t.getDate()):"0"+Number(t.getDate()))+" "+(t.getHours()>=10?t.getHours():"0"+t.getHours())+":"+(t.getMinutes()>=10?t.getMinutes():"0"+t.getMinutes())+":"+(t.getSeconds()>=10?t.getSeconds():"0"+t.getSeconds()),login_out(){o.confirm("此操作将退出登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{t.loginOut(!0).then((t=>{this.logout()})).catch((t=>{}))})).catch((()=>{a({type:"info",message:"已取消退出"})}))},async logout(){await c(),this.$router.push("/login")}}},h={class:"common-header"},d={class:"breadcrumb"},g={class:"baseInfo-left-base"},j={class:"name"},f={class:"timer"},b={class:"header-navbar"},v={class:"header-navbar-icon"},w={class:"text ml4"},D=[n("span",{class:"icon iconfont icon-tuichu",style:{"font-size":"20px"}},null,-1)];const _=s(p,[["render",function(t,e,s,o,a,u){return r(),i("div",h,[n("div",d,[n("div",g,[n("span",j,"店铺名称："+m(a.shop_name),1),n("span",f,m(a.nowDate),1)]),n("div",b,[n("div",v,[n("span",w,m(a.username),1)]),n("div",{class:"header-navbar-icon",onClick:e[0]||(e[0]=t=>u.login_out())},D)])])])}]]);export{_ as default};
