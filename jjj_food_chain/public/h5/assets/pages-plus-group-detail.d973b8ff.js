import{_ as t,m as a,l as e,s as l,p as s,q as i,a as o,o as d,c as n,w as u,n as c,g as r,b as g,f,r as p,F as _,e as b,d as m,t as y,i as h,a4 as x,j as A,x as P,h as w,a3 as W}from"./index-1a637619.js";import{_ as j}from"./u-parse.466f055c.js";import{r as C}from"./uni-app.es.041617b8.js";const E=t({data:()=>({group_id:0,longitude:0,latitude:0,indicatorDots:!0,autoplay:!1,interval:2e3,duration:500,detail:{supplier:{}}}),onLoad(t){this.group_id=t.group_id,this.getcityData()},methods:{getData(){let t=this;t._get("plus.group.Group/detail",{group_id:t.group_id,longitude:t.longitude||0,latitude:t.latitude||0},(a=>{t.detail=a.data.detail}))},getcityData(){let t=this;if(t.isWeixin()){let i=a("sign");i?t.getWxLocation(i):(e({title:"加载中"}),t._post("index/index",{url:window.location.href},(function(a){l("sign",a.data.signPackage),i=a.data.signPackage,s(),t.getWxLocation(i)})))}else t.getLocation()},onAuthorize(){let t=this;uni.openSetting({success(a){a.authSetting["scope.userLocation"]&&(t.isAuthor=!0,setTimeout((()=>{t.getLocation((t=>{}))}),1e3))}})},getLocation(t){let a=this;i({type:"wgs84",success(t){a.longitude=t.longitude,a.latitude=t.latitude,a.getData()},fail(t){a.longitude=0,a.latitude=0,o({title:"获取定位失败，请点击右下角按钮打开定位权限",duration:2e3,icon:"none"}),a.getData()}})},getWxLocation(t,a){let e=this;var l=require("jweixin-module");l.config(JSON.parse(t)),l.ready((function(t){l.getLocation({type:"wgs84",success:function(t){e.longitude=t.longitude,e.latitude=t.latitude,e.getData()},fail(t){e.longitude=0,e.latitude=0,e.getData()}})})),l.error((function(t){console.log(t)}))}}},[["render",function(t,a,e,l,s,i){const o=h,E=W,D=x,T=r,k=A,q=C(P("u-parse"),j),K=w;return d(),n(T,{"data-theme":t.theme(),class:c([t.theme()||"","pb200"])},{default:u((()=>[g(T,{class:"group-top"},{default:u((()=>[s.detail.image?(d(),n(T,{key:0,class:"product-pic mb20"},{default:u((()=>[g(D,{class:"swiper","indicator-active-color":"#ffffff","indicator-color":"rgba(255,255,255,.3)","indicator-dots":s.indicatorDots,autoplay:s.autoplay,interval:s.interval,duration:s.duration},{default:u((()=>[(d(!0),f(_,null,p(s.detail.image,((t,a)=>(d(),n(E,{key:a},{default:u((()=>[g(o,{src:t.file_path,mode:"aspectFit"},null,8,["src"])])),_:2},1024)))),128))])),_:1},8,["indicator-dots","autoplay","interval","duration"])])),_:1})):b("",!0),g(T,null,{default:u((()=>[g(T,{class:"pb20"},{default:u((()=>[g(T,{class:"f30 gray3 mb10 fb"},{default:u((()=>[m(y(s.detail.group_name||""),1)])),_:1}),g(T,{class:"d-b-c"},{default:u((()=>[g(T,{class:"d-s-c flex-1"},{default:u((()=>[g(T,{class:"f26",style:{color:"#FF5800"}},{default:u((()=>[m(" ￥ "),g(k,{class:"f32"},{default:u((()=>[m(y(s.detail.group_price||""),1)])),_:1})])),_:1}),s.detail.discount?(d(),n(T,{key:0,class:"text-tips"},{default:u((()=>[m(y(s.detail.discount||""),1)])),_:1})):b("",!0),g(T,{class:"text-d-line f24 gray9"},{default:u((()=>[m("￥"+y(s.detail.line_price||""),1)])),_:1})])),_:1}),g(T,{class:"gray9 f26"},{default:u((()=>[m("已售"+y(s.detail.group_sales||0),1)])),_:1})])),_:1})])),_:1}),g(T,{class:"border-t f26 gray3 pt20"},{default:u((()=>[g(T,{class:"d-b-c mb20"},{default:u((()=>[g(T,{class:"mr20"},{default:u((()=>[m("须知")])),_:1}),g(T,{class:"gray9 flex-1"},{default:u((()=>[m(y(s.detail.describe||""),1)])),_:1})])),_:1}),g(T,{class:"d-b-c",onClick:a[0]||(a[0]=a=>t.gotoPage("/pages/plus/group/explain?group_id="+s.group_id))},{default:u((()=>[g(T,{class:"mr20"},{default:u((()=>[m("保障")])),_:1}),g(T,{class:"gray9 flex-1"},{default:u((()=>[m(" 随时退 过期自动退 "),g(k,{class:"icon iconfont icon-jiantou",style:{"font-size":"22rpx",color:"#333"}})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),g(T,{class:"d-b-c titles"},{default:u((()=>[g(T,{class:"f30"},{default:u((()=>[m("团购详情")])),_:1})])),_:1}),g(T,{class:"group-box"},{default:u((()=>[g(q,{content:s.detail.content||""},null,8,["content"])])),_:1}),g(T,{class:"d-b-c titles"},{default:u((()=>[g(T,{class:"f30"},{default:u((()=>[m("购买须知")])),_:1})])),_:1}),g(T,{class:"group-box"},{default:u((()=>[g(q,{content:s.detail.notice||""},null,8,["content"])])),_:1}),g(T,{class:"d-b-c titles"},{default:u((()=>[g(T,{class:"f30"},{default:u((()=>[m("适用商户")])),_:1}),g(T,{class:"gray6 f26 d-c-c",onClick:a[1]||(a[1]=a=>t.gotoPage("/pages/shop/shop_grouplist?group_id="+s.group_id))},{default:u((()=>[m(y(s.detail.supplierCount)+"家门店通用 ",1),g(k,{class:"ml10 icon iconfont icon-jiantou",style:{color:"#666","font-size":"24rpx"}})])),_:1})])),_:1}),g(T,{class:"group-box"},{default:u((()=>[g(T,{class:"d-b-s"},{default:u((()=>[g(o,{class:"shop-image",src:s.detail.supplier?s.detail.supplier.logo:"",mode:"aspectFill"},null,8,["src"]),g(T,{class:"flex-1 shop-info d-c"},{default:u((()=>[g(T,{class:"f30"},{default:u((()=>[m(y(s.detail.supplier.name),1)])),_:1}),s.detail.supplier.store_time?(d(),n(T,{key:0,class:"f26"},{default:u((()=>[m("营业时间 "+y(s.detail.supplier.store_time[0])+"-"+y(s.detail.supplier.store_time[1]),1)])),_:1})):b("",!0)])),_:1}),g(T,{class:"d-c d-c-c",onClick:a[2]||(a[2]=a=>t.callPhone(s.detail.supplier.link_phone))},{default:u((()=>[g(o,{style:{width:"45rpx",height:"45rpx"},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAEWElEQVRYhd2Z30tkZRjHPztpI2+13SiCP8bsx45s5Q8MYS5EN5US7wZKrBVjMbwTRCQK6WKFLrZ/QSowcyevTGTyRgWRJHdhL3K1rSx/JIigbJuvuqbGe3pnOM2emXPOjDO2fcELeZ/3PB+Pz3me93neC6enp6QiKeVl4HWgGigDioGngWeB+8CfwDqwDNwGpoQQd1PxmRS0lPI54BrwLvB8En5XgGHgMyHEb243u4KWUr4IfAy0AVlunVnoL2AEuC6E+PlMoaWUOcCHwAeA9wxgY3UI3AA+EUIcpAwtpXwJ+BqoTANsrO4Abwshfkpk5Em0KKV8A7iVIWC0n1tSyjcTGcWFllK+BXwDXEwLXnwpf2Pav6Usw0NKqVJYGHgyw8BmPQSahRBTsQuPQOsYXtB59ryl8nyNEOKemcMTA6yyROg/AozmuKm5ooqNaZXWqjLPllCK5yOzQTQ8dOH4IU15OFWpPP5KpACZq9p1N8ArKyvMzMywtLTE8fExfr+fQCBAeXl5OqC9mu8dIm9aSvkC8CPwhJMnjI+PEwqFLNdaWlpoa2s7Y2ZDJ8AlIcQvkZjudAq8sbERF1hpYmKC2dnZswI1S7G+j+lDdPxqxsbGbG1GR0dTR7SWwemRUr4MlDjdpWLYTjs7O2xvb6cD2qd41Zuud7Pr4MD2EGbo6OgoWTA7XVHQr7nZkZuba2uTlZVFXl5empipVtB+NzuKiopsbZqbm8nOzk4FLJH8HjfxrFRSkti8oqKC1tbWNPEa8nl0E+pYlZXxj9aNjY309fWlE1jpGY/b83JxcTH5+fmWa6urq7b7Dw8PjZ8UdPHC3t7efbfgqnwPDg5arqnwsHrb8/PzTE1NGX+YqsI+n4+6ujpqa2vd4j9Q0L8DBW539vT0xM3FZWVl9Pf3R38Ph8MMDw9b2irorq4uN643VXjY/08t1N3dHXdteXnZgF5bWzPKfjxgJVXyFxYW3LheVW/6c+C9ZMCHhoaYnJxMaJOTk2NbkEpLSxkYGHDq9guPHlUlpfb2diOGE8lJBd3c3HTj/raCnk4WWkl9dFVVqTU7JycnbsynPUKIRWAtFae9vb00NTUlvb+gwHEeUJx3I0fTkaQ9anV0dBgfn4pPtwoGg053jAghTs2dyz27iZNTzc3NRVsxO9XX19PZ2enkydHOxdzYfuWmGXCira0tFhcXjX5yfX2d3d1d9vf38Xq9FBYW0tDQQE1NjdPH3RRCGHyPUzf+amQwGQ0H3Z7fOFe0+PrUPEn911hMT3K+y+CU1InU+DdgnltbzfIuAd8/NrM8/gkTZRDUU8vzlPIfjAW2hNbgarx69RzBld+rVmNe7K4v9EQ+lOHB+gOgVQgRjmeQsJgIIb7V3fqdtOA9KuWnOhEwTiqgTjUBYEDny3TooX5+wO6SiP/1PWKsTDe26mN1f0KCX4EvM3JjayU9C7xiuhtXg5Gn9Mf7B7CnW7rI3fi0Pg4nJ+BvuH+iD1qsyJcAAAAASUVORK5CYII=",mode:""}),g(T,{class:"f24 gray6"},{default:u((()=>[m("联系商家")])),_:1})])),_:1})])),_:1})])),_:1}),g(T,{class:"btns-wrap"},{default:u((()=>[g(T,{class:"icon-box d-c-c",onClick:a[3]||(a[3]=a=>t.gotoPage("/pages/index/index"))},{default:u((()=>[g(K,{class:"d-c-c d-c bg-white"},{default:u((()=>[g(k,{class:"btn_btom pr icon iconfont icon-shouye gray9",style:{"font-size":"36rpx",height:"50rpx","line-height":"60rpx"}}),g(k,{class:"f22 gray9",style:{height:"50rpx","line-height":"40rpx"}},{default:u((()=>[m("门店")])),_:1})])),_:1})])),_:1}),g(K,{class:"add-cart",onClick:a[4]||(a[4]=a=>t.gotoPage("/pages/order/group-confirm?group_id="+s.group_id))},{default:u((()=>[m("立即购买")])),_:1})])),_:1})])),_:1},8,["data-theme","class"])}],["__scopeId","data-v-8bae6f58"]]);export{E as default};
