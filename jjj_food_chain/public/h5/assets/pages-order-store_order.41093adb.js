import{_ as e,l as t,z as a,o as s,c as l,w as r,n as i,g as d,b as o,d as u,t as c,e as _,f as n,r as f,F as p,j as m,h as y,i as h}from"./index-1a637619.js";const g=e({components:{},data:()=>({loading:!0,options:{},indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,tab_type:0,product_id:"",product_num:"",ProductData:[],OrderData:[],exist_address:!1,Address:{region:[]},extract_store:{},last_extract:{},product_sku_id:0,delivery:0,store_id:1,coupon_id:0,is_use_points:0,linkman:"",phone:"",remark:"",pay_type:20,isCoupon:!1,coupon_list:{},couponList:[],deliverySetting:[],coupon_num:0,temlIds:[],showAlipay:!1,takeout_address:{},isTimer:!1,mealtime:"",wmtime:"",estitime:"",is_pack:1,supplier:{},dinner_type:10,cart_type:0,store_set:[],delivery_set:[],table_id:0,min_money:0}),onLoad(e){this.options=e},onShow(){this.$fire.on("takeout",(function(e){self.takeout_address=e,self.orderType="takeout"})),this.getData()},methods:{goback(){history.go(-1)},hasType(e){return-1!=this.deliverySetting.indexOf(e)},payTypeFunc(e){this.pay_type=e},onShowPoints:function(e){let t=this;1==e.target.value?t.is_use_points=1:t.is_use_points=0,t.getData()},onTogglePopupCoupon(e){this.isCoupon=!0,this.couponList=e},closeCouponFunc(e){this.coupon_id=e,this.isCoupon=!1,this.getData()},changeTime(e){},getTime(e){let t=new Date,a=t.getHours();a<10&&(a="0"+a);let s=t.getMinutes();s<10&&(s="0"+s);let l=t.getHours(),r=t.getMinutes()+15;return r>=60&&(r-=60,l+=1),r<10&&(r="0"+r),l<10&&(l="0"+l),"my"==e?a+":"+s:"wm"==e?l+":"+r:void 0},getData(){let e=this;t({title:"加载中"}),e.loading=!0;e._get("order.HallCart/orderDetail",{order_id:e.options.order_id},(function(t){!function(t){e.OrderData=t.data.detail,e.ProductData=e.OrderData.product,e.supplier=t.data.detail.supplier,0==e.OrderData.order_pay_price&&(e.pay_type=10),!e.isWeixin()&&t.data.h5_alipay&&(e.showAlipay=!0),e.loading=!1}(t)}),(function(e){a()}))},SubmitOrder(){this.gotoPage("/pages/order/cashier?order_type=10&order_id="+this.options.order_id)},timepick(){this.isTimer=!0},closetimer(e){""!=e&&(this.wmtime=e,this.mealtime=e),this.isTimer=!1},packTypeFunc(e){this.is_pack=e}}},[["render",function(e,t,a,g,k,D){const b=d,O=m,x=h,v=y;return s(),l(b,{"data-theme":e.theme(),class:i(e.theme()||"")},{default:r((()=>[k.loading?_("",!0):(s(),l(b,{key:0,class:"wrap"},{default:r((()=>[10==k.supplier.settle_type?(s(),l(b,{key:0,class:"text_color mb20"},{default:r((()=>[o(b,{class:"f36 fb"},{default:r((()=>[u("下单成功")])),_:1}),o(b,{class:"f28"},{default:r((()=>[u("付款成功后，餐品将开始制作")])),_:1})])),_:1})):(s(),l(b,{key:1,class:"text_color mb20"},{default:r((()=>[o(b,{class:"f36 fb"},{default:r((()=>[u("下单成功,坐等中")])),_:1}),o(b,{class:"f28"},{default:r((()=>[u("餐品已在制作中")])),_:1})])),_:1})),o(b,{class:"vender"},{default:r((()=>[k.OrderData.table_no?(s(),l(b,{key:0,class:"d-b-c table-box"},{default:r((()=>[o(b,null,{default:r((()=>[u("当前桌号:"+c(k.OrderData.table_no),1)])),_:1}),k.options.pnum?(s(),l(b,{key:0},{default:r((()=>[u("人数:"+c(k.options.pnum)+"人",1)])),_:1})):_("",!0)])),_:1})):_("",!0),o(b,{class:"left"},{default:r((()=>[o(b,{class:"store-name"},{default:r((()=>[o(O,null,{default:r((()=>[u(c(k.supplier.name),1)])),_:1})])),_:1})])),_:1}),o(b,{class:"list"},{default:r((()=>[(s(!0),n(p,null,f(k.ProductData,((e,t)=>(s(),l(b,{class:"item d-b-c",key:t},{default:r((()=>[o(b,{class:"info d-s-s"},{default:r((()=>[o(b,{class:"cover"},{default:r((()=>[o(x,{src:e.image.file_path,mode:"aspectFill"},null,8,["src"])])),_:2},1024),o(b,{class:"flex-1"},{default:r((()=>[o(b,{class:"title f30 fb mb16"},{default:r((()=>[u(c(e.product_name),1)])),_:2},1024),o(b,{class:"num-wrap pl-30 gray9 f26"},{default:r((()=>[u(c(e.product_attr),1)])),_:2},1024),o(b,{class:"f26 gray9"},{default:r((()=>[u("×"+c(e.total_num),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),o(b,{class:"",style:{height:"148rpx","text-align":"right"}},{default:r((()=>[o(b,{class:"f32 order_item mb16"},{default:r((()=>[u("¥"+c(e.product_price),1)])),_:2},1024),o(b,{class:"f24 text-d-line gray9 mb16"},{default:r((()=>[u("¥"+c(e.line_price),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),o(b,{class:"other_box"},{default:r((()=>[o(b,{class:"item"},{default:r((()=>[o(O,{class:"key"},{default:r((()=>[u("商品小计：")])),_:1}),o(O,{class:"f32"},{default:r((()=>[u("￥"+c(k.OrderData.total_price),1)])),_:1})])),_:1}),o(b,{class:"item"},{default:r((()=>[o(O,{class:"key"},{default:r((()=>[u("包装费用：")])),_:1}),o(O,{class:"f32"},{default:r((()=>[u("￥"+c(k.OrderData.bag_price),1)])),_:1})])),_:1}),k.OrderData.service_money>0?(s(),l(b,{key:0,class:"item"},{default:r((()=>[o(O,{class:"key"},{default:r((()=>[u("服务费用：")])),_:1}),o(O,{class:"f32"},{default:r((()=>[u("￥"+c(k.OrderData.service_money),1)])),_:1})])),_:1})):_("",!0),k.OrderData.is_coupon?(s(),l(b,{key:1,class:"item"},{default:r((()=>[o(O,{class:"key"},{default:r((()=>[u("优惠券：")])),_:1})])),_:1})):_("",!0),k.OrderData.fullreduce_money?(s(),l(b,{key:2,class:"item"},{default:r((()=>[o(O,{class:"key"},{default:r((()=>[u("满减("+c(k.OrderData.fullreduce_remark)+")：",1)])),_:1}),o(O,{class:"f32"},{default:r((()=>[u("-￥"+c(k.OrderData.fullreduce_money),1)])),_:1})])),_:1})):_("",!0),k.OrderData.discount_money>0?(s(),l(b,{key:3,class:"item"},{default:r((()=>[o(O,{class:"key"},{default:r((()=>[u("优惠费用：")])),_:1}),o(O,{class:"f32"},{default:r((()=>[u("￥"+c(k.OrderData.discount_money),1)])),_:1})])),_:1})):_("",!0),k.OrderData.coupon_id>0?(s(),l(O,{key:4,class:"vlaue gray9"},{default:r((()=>[u("-￥"+c(k.OrderData.coupon_money),1)])),_:1})):_("",!0)])),_:1}),o(b,{class:"total-box"},{default:r((()=>[u(" 小计"),o(O,{class:"f32 fb ml15"},{default:r((()=>[u("￥"+c(k.OrderData.pay_price),1)])),_:1})])),_:1})])),_:1}),o(b,{class:"foot-pay-btns"},{default:r((()=>[o(b,{class:"price"},{default:r((()=>[u(" ¥ "),o(O,{class:"num"},{default:r((()=>[u(c(k.OrderData.pay_price),1)])),_:1})])),_:1}),o(b,{class:"d-c-c"},{default:r((()=>[o(v,{class:"btn-gray",style:{"margin-right":"20rpx"},onClick:D.goback},{default:r((()=>[u("去加餐")])),_:1},8,["onClick"]),o(v,{class:"theme-btn",onClick:D.SubmitOrder},{default:r((()=>[u("去买单")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}))])),_:1},8,["data-theme","class"])}],["__scopeId","data-v-abe2906a"]]);export{g as default};
