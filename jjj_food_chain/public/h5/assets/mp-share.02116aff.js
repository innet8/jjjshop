import{_ as s,an as e,m as a,o as t,c as i,w as o,b as l,d as c,C as n,n as p,g as r,j as h,h as d,i as f}from"./index-1a637619.js";const u=s({data:()=>({Visible:!1,shareConfig:{},logo:""}),created(){this.getData()},props:["isAppShare","appParams"],watch:{isAppShare:function(s,e){s!=e&&(this.Visible=s)}},methods:{getData(){let s=this;s._get("settings/appShare",{},(function(e){s.shareConfig=e.data.appshare,s.logo=e.data.logo}))},closePopup(s){this.$emit("close")},share:function(s,t){let i={provider:"weixin",scene:t,type:s,success:function(s){console.log("success:"+JSON.stringify(s))},fail:function(s){console.log("fail:"+JSON.stringify(s))}};2!=this.shareConfig.type?(i.summary=this.appParams.summary,i.imageUrl=this.logo,i.title=this.appParams.title,1==this.shareConfig.type?i.href=this.shareConfig.open_site+this.appParams.path:3==this.shareConfig.type&&(1==this.shareConfig.bind_type?i.href=this.shareConfig.down_url:i.href=e.app_url+"/index.php/api/user.useropen/invite?app_id="+e.app_id+"&referee_id="+a("user_id"))):(i.scene="WXSceneSession",i.type=5,i.imageUrl=this.appParams.image?this.appParams.image:this.logo,i.title=this.appParams.title,i.miniProgram={id:this.shareConfig.gh_id,path:this.appParams.path,webUrl:this.shareConfig.web_url,type:0}),uni.share(i)}}},[["render",function(s,e,a,f,u,m){const _=r,g=h,b=d;return t(),i(_,{class:p(["bottom-panel",u.Visible?"bottom-panel open":"bottom-panel close"]),onClick:m.closePopup},{default:o((()=>[l(_,{class:"content",onClick:e[3]||(e[3]=n((()=>{}),["stop"]))},{default:o((()=>[l(_,{class:"module-box module-share"},{default:o((()=>[l(_,{class:"hd d-c-c"},{default:o((()=>[c(" 分享 ")])),_:1}),l(_,{class:"p30 box-s-b"},{default:o((()=>[l(_,{class:"d-c-c"},{default:o((()=>[l(_,{class:"item flex-1 d-c-c d-c"},{default:o((()=>[l(b,{"open-type":"share",onClick:e[0]||(e[0]=s=>m.share(0,"WXSceneSession"))},{default:o((()=>[l(_,{class:"icon-box d-c-c share-friend"},{default:o((()=>[l(g,{class:"iconfont icon-fenxiang"})])),_:1}),l(g,{class:"pt20"},{default:o((()=>[c("微信好友")])),_:1})])),_:1})])),_:1}),l(_,{class:"item flex-1 d-c-c d-c"},{default:o((()=>[l(b,{onClick:e[1]||(e[1]=s=>m.share(0,"WXSenceTimeline"))},{default:o((()=>[l(_,{class:"icon-box d-c-c"},{default:o((()=>[l(g,{class:"iconfont icon-edit"})])),_:1}),l(g,{class:"pt20"},{default:o((()=>[c("微信朋友圈")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),l(_,{class:"btns"},{default:o((()=>[l(b,{type:"default",onClick:e[2]||(e[2]=s=>m.closePopup(1))},{default:o((()=>[c("取消")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["class","onClick"])}],["__scopeId","data-v-11cd3ca9"]]);const m=s({data:()=>({Visible:!1,poster_img:"",wechat_share:!1}),props:["isMpShare"],watch:{isMpShare:function(s,e){s!=e&&(this.Visible=s)}},methods:{closePopup(){this.$emit("close")}}},[["render",function(s,e,a,c,n,h){const d=f,u=r;return t(),i(u,{class:p(["bottom-panel",n.Visible?"bottom-panel open":"bottom-panel close"]),onClick:h.closePopup},{default:o((()=>[l(u,{class:"popup-bg"},{default:o((()=>[l(u,{class:"wechat-box"},{default:o((()=>[l(d,{src:"/h5/assets/share-33d4d0ec.png",mode:"widthFix"})])),_:1})])),_:1})])),_:1},8,["class","onClick"])}],["__scopeId","data-v-9ee025e7"]]);export{u as A,m as s};
