import{_ as t,B as a,M as e,o as l,c as s,w as o,g as i,b as c,f as n,r,F as u,d,v as p,j as _,k as g,S as h,n as w,t as f}from"./index-1a637619.js";import{u as b}from"./uni-load-more.934e6c66.js";const v=t({components:{uniLoadMore:b},data:()=>({phoneHeight:0,scrollviewHigh:0,state_active:-1,tableData:[],no_more:!1,loading:!0,last_page:0,page:1,list_rows:20,tableList:[]}),computed:{loadingType(){return this.loading?1:0!=this.tableData.length&&this.no_more?2:0}},mounted(){this.init(),this.getData()},methods:{init(){let t=this;a({success(a){t.phoneHeight=a.windowHeight,e().select(".top-tabbar").boundingClientRect((a=>{let e=t.phoneHeight-a.height;t.scrollviewHigh=e})).exec()}})},getData(){let t=this,a=t.page;t.loading=!0;let e=t.list_rows;t._get("plus.agent.cash/lists",{status:t.state_active,page:a||1,list_rows:e},(function(a){if(t.loading=!1,t.tableList=[{value:-1,text:a.data.words.cash_list.words.all.value},{value:10,text:a.data.words.cash_list.words.apply_10.value},{value:20,text:a.data.words.cash_list.words.apply_20.value},{value:40,text:a.data.words.cash_list.words.apply_40.value},{value:30,text:a.data.words.cash_list.words.apply_30.value}],t.tableData=t.tableData.concat(a.data.list.data),t.last_page=a.data.list.last_page,a.data.list.last_page<=1)return t.no_more=!0,!1}))},stateFunc(t){let a=this;t!=a.state_active&&(a.tableData=[],a.page=1,a.state_active=t,a.getData())},scrolltoupperFunc(){console.log("滚动视图区域到顶")},scrolltolowerFunc(){let t=this;t.page<t.last_page&&(t.page++,t.getData()),t.no_more=!0}}},[["render",function(t,a,e,b,v,y){const m=i,x=_,D=g("uni-load-more"),k=h;return l(),s(m,null,{default:o((()=>[c(m,{class:"top-tabbar"},{default:o((()=>[(l(!0),n(u,null,r(v.tableList,((t,a)=>(l(),s(m,{class:w(v.state_active==t.value?"tab-item active":"tab-item"),onClick:a=>y.stateFunc(t.value),key:a},{default:o((()=>[d(f(t.text),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),c(k,{"scroll-y":"true",class:"scroll-Y",style:p("height:"+v.scrollviewHigh+"px;"),"lower-threshold":"50",onScrolltoupper:y.scrolltoupperFunc,onScrolltolower:y.scrolltolowerFunc},{default:o((()=>[c(m,{class:"p-0-30 bg-white"},{default:o((()=>[(l(!0),n(u,null,r(v.tableData,((t,a)=>(l(),s(m,{class:"d-b-c border-b p-20-0",key:a},{default:o((()=>[c(m,{class:"d-s-s f-w d-c flex-1"},{default:o((()=>[c(x,{class:"30"},{default:o((()=>[d("提现")])),_:1}),c(x,{class:"gray9 f22"},{default:o((()=>[d(f(t.create_time),1)])),_:2},1024)])),_:2},1024),c(m,null,{default:o((()=>[c(x,{class:w("审核通过"==t.apply_status.text?"green":"gray9")},{default:o((()=>[d(f(t.apply_status.text),1)])),_:2},1032,["class"]),c(x,{class:"red ml20"},{default:o((()=>[d(f(t.money)+"元",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),0!=v.tableData.length||v.loading?(l(),s(D,{key:1,loadingType:y.loadingType},null,8,["loadingType"])):(l(),s(m,{key:0,class:"d-c-c p30"},{default:o((()=>[c(x,{class:"iconfont icon-wushuju"}),c(x,{class:"cont"},{default:o((()=>[d("亲，暂无相关记录哦")])),_:1})])),_:1}))])),_:1})])),_:1},8,["style","onScrolltoupper","onScrolltolower"])])),_:1})}]]);export{v as default};
