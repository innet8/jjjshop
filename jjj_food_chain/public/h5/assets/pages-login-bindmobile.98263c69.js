import{_ as s,y as e,l as a,p as t,z as o,o as n,c as i,w as l,g as d,b as c,d as r,h as u}from"./index-1a637619.js";const g=s({data:()=>({background:"",listData:[],sessionKey:""}),onLoad(){let s=this;e({success(e){s._post("user.user/getSession",{code:e.code},(e=>{s.sessionKey=e.data.session_key}))}})},methods:{onNotLogin:function(){this.gotoPage("/pages/index/index")},getPhoneNumber(s){var n=this;if("getPhoneNumber:ok"!==s.detail.errMsg)return!1;a({title:"正在处理",mask:!0}),e({success(e){n._post("user.user/bindMobile",{session_key:n.sessionKey,encrypted_data:s.detail.encryptedData,iv:s.detail.iv},(s=>{t(),o()}),!1,(()=>{t()}))}})}}},[["render",function(s,e,a,t,o,g){const _=d,f=u;return n(),i(_,{class:"login-container"},{default:l((()=>[c(_,{class:"wechatapp"},{default:l((()=>[c(_,{class:"header"})])),_:1}),c(_,{class:"auth-title"},{default:l((()=>[r("申请获取以下权限")])),_:1}),c(_,{class:"auth-subtitle"},{default:l((()=>[r("为了为您提供更优质的服务，我们需要获得你的手机号")])),_:1}),c(_,{class:"login-btn"}),c(_,{class:"no-login-btn"},{default:l((()=>[c(f,{class:"btn-normal",onClick:g.onNotLogin},{default:l((()=>[r("暂不授权")])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-70222afe"]]);export{g as default};
