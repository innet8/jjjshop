import{_ as a,B as t,l as s,p as e,o as l,c as o,w as d,g as i,b as c,f as r,r as n,F as _,d as u,v as p,j as g,S as f,k as h,t as m,e as y,i as w}from"./index-1a637619.js";import{u as k}from"./uni-load-more.934e6c66.js";const b=a({components:{uniLoadMore:k},data:()=>({dataList:[],take_fee:"",loadding:!0,no_more:!1,page:1,last_page:0,type:1,scrollviewHigh:0,phoneHeight:0}),onLoad(){},computed:{loadingType(){return this.loadding?1:0!=this.dataList.length&&this.no_more?2:0}},mounted(){this.init(),this.restoreData(),this.getData()},methods:{restoreData(){this.dataList=[],this.page=1,this.no_more=!1,this.loading=!0},init(){let a=this;t({success(t){a.phoneHeight=t.windowHeight,a.scrollviewHigh=a.phoneHeight}})},scrolltolowerFunc(){let a=this;a.no_more||(a.page++,a.page<=a.last_page?a.getData():a.no_more=!0)},getData(){let a=this;s({title:"加载中"}),a._post("plus.driver.TakeOrder/driverList",{type:0},(function(t){a.last_page=t.data.list.last_page,t.data.list.last_page<=1?a.no_more=!0:a.no_more=!1,a.take_fee=t.data.take_fee,a.dataList=a.dataList.concat(t.data.list.data),e(),a.loadding=!1}))}}},[["render",function(a,t,s,e,k,b){const L=i,v=g,H=w,x=f,T=h("uni-load-more");return l(),o(L,{class:""},{default:d((()=>[c(x,{"scroll-y":"true",class:"scroll-Y",style:p("height:"+k.scrollviewHigh+"px;"),"lower-threshold":"50",onScrolltolower:b.scrolltolowerFunc},{default:d((()=>[c(L,{class:"hall_list"},{default:d((()=>[(l(!0),r(_,null,n(k.dataList,((a,t)=>(l(),o(L,{class:"hall_item p30",key:t},{default:d((()=>[c(L,{class:"d-b-c mb-20"},{default:d((()=>[c(L,null,{default:d((()=>[u(m(a.create_time),1)])),_:2},1024),c(L,{class:"f26"},{default:d((()=>[u("配送费用: "),c(v,{class:"red"},{default:d((()=>[u(m(a.take_fee)+"元",1)])),_:2},1024)])),_:2},1024)])),_:2},1024),c(L,{class:"d-b-c"},{default:d((()=>[c(x,{class:"scroll_x","scroll-x":"true"},{default:d((()=>[c(L,{class:"d-s-c"},{default:d((()=>[(l(!0),r(_,null,n(a.product,((a,t)=>(l(),o(L,{class:"produc_imgs"},{default:d((()=>[c(H,{class:"product_img",src:a.image.file_path,mode:"scaleToFill"},null,8,["src"])])),_:2},1024)))),256))])),_:2},1024)])),_:2},1024),10==a.receipt_status.value?(l(),o(L,{key:0,class:"mid_btn btn_close"},{default:d((()=>[u("派送中")])),_:1})):y("",!0),20==a.receipt_status.value?(l(),o(L,{key:1,class:"mid_btn btn_close"},{default:d((()=>[u("已送达")])),_:1})):y("",!0)])),_:2},1024),c(L,{class:"d-b-c f26 pt20"},{default:d((()=>[c(L,{class:"address_text f26"},{default:d((()=>[u("送货地址："+m(a.address.detail+a.address.address),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),0!=k.dataList.length||k.loadding?(l(),o(T,{key:1,loadingType:b.loadingType},null,8,["loadingType"])):(l(),o(L,{key:0,class:"d-c-c p30"},{default:d((()=>[c(v,{class:"iconfont icon-wushuju"}),c(v,{class:"cont"},{default:d((()=>[u("亲，已经没有更多了")])),_:1})])),_:1}))])),_:1})])),_:1},8,["style","onScrolltolower"])])),_:1})}],["__scopeId","data-v-fb2c8a72"]]);export{b as default};
