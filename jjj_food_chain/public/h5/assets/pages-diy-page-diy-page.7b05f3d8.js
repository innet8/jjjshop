import{_ as a,X as e,z as s,ac as t,ag as p,o as i,c as r,w as o,g as l,b as n,x as h,k as g}from"./index-1a637619.js";import{_ as d}from"./diy.d90b6496.js";import{r as m}from"./uni-app.es.041617b8.js";import{s as f,A as u}from"./mp-share.02116aff.js";import"./bg-invite.4f84fba2.js";const c=a({components:{diy:d,share:f,AppShare:u},data:()=>({page_id:null,items:{},page_info:{params:{}},isMpShare:!1,isAppShare:!1,appParams:{title:"",summary:"",path:""},url:""}),onLoad(a){this.page_id=a.page_id,this.getData(),this.url=window.location.href},onShareAppMessage(){let a=this,e=a.getShareUrlParams({page_id:a.page_id});return{title:a.page_info.params.name,path:"/pages/diy-page/diy-page?"+e}},methods:{hasPage:()=>e().length>1,goback(){s()},getData(a){let e=this;e._get("index/diy",{page_id:e.page_id,url:e.url},(function(a){if(e.page_info=a.data.page,e.items=a.data.items,e.setPage(e.page_info),""!=e.url){let s={page_id:e.page_id};e.configWx(a.data.share.signPackage,a.data.share.shareParams,s)}}))},setPage(a){t({title:a.params.name});let e="#000000";"white"==a.style.titleTextColor&&(e="#ffffff"),p({frontColor:e,backgroundColor:a.style.titleBackgroundColor})},showShare(){this.isMpShare=!0},closeBottmpanel(a){this.isMpShare=!1},closeAppShare(a){this.isAppShare=!1}}},[["render",function(a,e,s,t,p,f){const u=m(h("diy"),d),c=g("share"),S=g("AppShare"),_=l;return i(),r(_,{class:"diy-page"},{default:o((()=>[n(u,{diyItems:p.items},null,8,["diyItems"]),n(c,{isMpShare:p.isMpShare,onClose:f.closeBottmpanel},null,8,["isMpShare","onClose"]),n(S,{isAppShare:p.isAppShare,appParams:p.appParams,onClose:f.closeAppShare},null,8,["isAppShare","appParams","onClose"])])),_:1})}]]);export{c as default};
