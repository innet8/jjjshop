import{_ as e,a as t,l as a,z as s,p as l,o as d,c as o,w as n,n as i,g as c,b as u,d as m,t as f,j as r,I as _,h as b}from"./index-1a637619.js";const h=e({data:()=>({formData:{mobile:"",code:""},is_send:!1,send_btn_txt:"获取验证码",second:60,ip:""}),onLoad(){},methods:{formSubmit(){let e=this;/^1(3|4|5|6|7|8|9)\d{9}$/.test(e.formData.mobile)?""!=e.formData.code?(a({title:"正在提交"}),s(),e._post("user.userweb/bindMobile",e.formData,(e=>{t({title:"绑定成功",duration:2e3}),setTimeout((function(){s()}),2e3)}),!1,(()=>{l()}))):t({title:"验证码不能为空！",duration:2e3,icon:"none"}):t({title:"手机有误,请重填！",duration:2e3,icon:"none"})},sendCode(){let e=this;/^1(3|4|5|6|7|8|9)\d{9}$/.test(e.formData.mobile)?e._post("user.userweb/sendCode",{mobile:e.formData.mobile,type:"register"},(a=>{1==a.code&&(t({title:"发送成功"}),e.is_send=!0,e.changeMsg())})):t({title:"手机有误,请重填！",duration:2e3,icon:"none"})},changeMsg(){this.second>0?(this.send_btn_txt=this.second+"秒",this.second--,setTimeout(this.changeMsg,1e3)):(this.send_btn_txt="获取验证码",this.second=60,this.is_send=!1)}}},[["render",function(e,t,a,s,l,h){const p=r,g=c,x=_,D=b;return d(),o(g,{class:i(["login-container",e.theme()||""]),"data-theme":e.theme()},{default:n((()=>[u(g,{class:"p30"},{default:n((()=>[u(g,{class:"group-bd"},{default:n((()=>[u(g,{class:"form-level d-s-c"},{default:n((()=>[u(g,{class:"d-s-c field-name"},{default:n((()=>[u(p,{class:"orange"},{default:n((()=>[m("*")])),_:1}),u(p,{class:"gray3"},{default:n((()=>[m("手机号：")])),_:1})])),_:1}),u(g,{class:"val flex-1"},{default:n((()=>[u(x,{type:"text",modelValue:l.formData.mobile,"onUpdate:modelValue":t[0]||(t[0]=e=>l.formData.mobile=e),placeholder:"请输入要绑定的新手机号",disabled:l.is_send},null,8,["modelValue","disabled"])])),_:1})])),_:1}),u(g,{class:"form-level d-s-c"},{default:n((()=>[u(g,{class:"d-s-c field-name"},{default:n((()=>[u(p,{class:"orange"},{default:n((()=>[m("*")])),_:1}),u(p,{class:"gray3"},{default:n((()=>[m("验证码：")])),_:1})])),_:1}),u(g,{class:"val flex-1 d-b-c"},{default:n((()=>[u(x,{class:"flex-1",type:"number",modelValue:l.formData.code,"onUpdate:modelValue":t[1]||(t[1]=e=>l.formData.code=e),placeholder:"请输入验证码"},null,8,["modelValue"]),u(D,{class:"get-code-btn theme-borderbtn",type:"default",onClick:h.sendCode,disabled:l.is_send},{default:n((()=>[m(f(l.send_btn_txt),1)])),_:1},8,["onClick","disabled"])])),_:1})])),_:1})])),_:1})])),_:1}),u(g,{class:"btns p30"},{default:n((()=>[u(D,{class:"theme-btn",type:"default",onClick:h.formSubmit},{default:n((()=>[m("提交")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["data-theme","class"])}],["__scopeId","data-v-8595a2df"]]);export{h as default};
