import{_ as a,G as e,o as t,c as l,w as s,l as d,p as u,g as r,b as c,d as o,t as i,e as _,f,F as p,x as n,j as m,i as g}from"./index-1a637619.js";import{_ as b}from"./u-icon.19bb138d.js";import{r as y}from"./uni-app.es.041617b8.js";import{_ as x}from"./u-parse.466f055c.js";const k=a({data:()=>({order_id:0,detail:{end_time:0,order_status:{},pay_status:{},user:{}}}),onLoad(a){this.order_id=a.order_id,this.getData()},methods:{getData(){let a=this;a._get("plus.group.Order/detail",{order_id:a.order_id,source:a.getPlatform()},(e=>{a.detail=e.data.order}))},refundFunc(a){let t=this;e({title:"提示",content:"确定要申请退款吗？",success(a){a.confirm&&(d({title:"加载中..."}),t._post("plus.group.Order/refund",{order_id:t.detail.order_id},(a=>{e({title:"提示",content:a.msg}),t.getData()}),!1,(a=>{u()})))}})}}},[["render",function(a,e,d,u,k,v){const h=y(n("u-icon"),b),j=m,w=r,F=g,C=y(n("u-parse"),x);return t(),l(w,{class:"pb100"},{default:s((()=>[c(w,{class:"p-40-20"},{default:s((()=>[c(w,{class:"d-s-c mb10"},{default:s((()=>[c(h,{name:"clock",size:"44rpx",color:"#333"}),c(j,{class:"f30 gray3 ml10"},{default:s((()=>[o(i(k.detail.state_text||""),1)])),_:1})])),_:1}),10!=k.detail.pay_status.value?(t(),l(w,{key:0,class:"gray9 f26"},{default:s((()=>[o("请在"+i(k.detail.end_time||"")+"(含)前到店消费",1)])),_:1})):_("",!0)])),_:1}),c(w,{class:"center-box mb20"},{default:s((()=>[c(w,{class:"d-b-s product-info"},{default:s((()=>[c(F,{class:"product-image",src:k.detail.product&&k.detail.product[0].image.file_path,mode:""},null,8,["src"]),c(w,{class:"flex-1"},{default:s((()=>[c(w,{class:"d-b-c mb10",onClick:e[0]||(e[0]=e=>a.gotoPage("/pages/plus/group/detail?group_id="+k.detail.product[0].group_id))},{default:s((()=>[c(w,{class:"text-ellipsis f30 gray3"},{default:s((()=>[o(i(k.detail.product&&k.detail.product[0].group_name||""),1)])),_:1}),c(w,{class:"icon iconfont icon-jiantou",style:{color:"#333","font-size":"24rpx"}})])),_:1}),k.detail.product&&k.detail.product[0].describe?(t(),l(w,{key:0,class:"f26 gray9 mb10"},{default:s((()=>[o(i(k.detail.product[0].describe),1)])),_:1})):_("",!0),c(w,{class:"f26 gray9 mb10"},{default:s((()=>[o("随时退 过期自动退")])),_:1}),c(w,{class:"f26 gray3"},{default:s((()=>[o("￥"+i(k.detail.product&&k.detail.product[0].group_price||""),1)])),_:1})])),_:1})])),_:1}),10==k.detail.order_status.value&&20==k.detail.pay_status.value?(t(),f(p,{key:0},[c(w,{class:"d-c d-c-c border-t",style:{"padding-top":"50rpx"}},{default:s((()=>[c(w,{class:"qrcode"},{default:s((()=>[c(F,{src:k.detail.qrcode||"",mode:""},null,8,["src"])])),_:1})])),_:1}),c(w,{class:"center-top d-c d-a-s"},{default:s((()=>[c(w,{class:"d-b-c mb10 ww100"},{default:s((()=>[c(w,{class:"f30 gray3"},{default:s((()=>[o("券码信息(1张可用)")])),_:1}),10==k.detail.order_status.value&&20==k.detail.pay_status.value?(t(),l(w,{key:0,class:"border-btn",onClick:v.refundFunc},{default:s((()=>[o("申请退款")])),_:1},8,["onClick"])):_("",!0)])),_:1}),c(w,{class:"f24 mb10 gray9"},{default:s((()=>[o(i(k.detail.end_time||"")+"到期",1)])),_:1}),c(w,{class:"f26 d-b-c ww100"},{default:s((()=>[c(w,{class:"f36 gray3"},{default:s((()=>[o(i(k.detail.code_no||""),1)])),_:1}),c(j,{class:"gray9"},{default:s((()=>[o(i(k.detail.state_text||""),1)])),_:1})])),_:1})])),_:1})],64)):_("",!0)])),_:1}),c(w,{class:"group-box mb20"},{default:s((()=>[c(w,{class:"group-item"},{default:s((()=>[c(w,{class:"group-name fb"},{default:s((()=>[o("商品详情")])),_:1})])),_:1}),c(C,{content:k.detail.product&&k.detail.product[0].content||""},null,8,["content"])])),_:1}),c(w,{class:"group-box"},{default:s((()=>[c(w,{class:"group-item"},{default:s((()=>[c(w,{class:"group-name fb"},{default:s((()=>[o("订单详情")])),_:1})])),_:1}),c(w,{class:"group-item"},{default:s((()=>[c(w,{class:"group-name"},{default:s((()=>[c(j,{class:"mr20"},{default:s((()=>[o("订单号：")])),_:1}),c(j,null,{default:s((()=>[o(i(k.detail.order_no||""),1)])),_:1})])),_:1})])),_:1}),c(w,{class:"group-item"},{default:s((()=>[c(w,{class:"group-name"},{default:s((()=>[c(j,{class:"mr20"},{default:s((()=>[o("手机号：")])),_:1}),c(j,null,{default:s((()=>[o(i(k.detail.user.mobile||""),1)])),_:1})])),_:1})])),_:1}),10!=k.detail.pay_status.value?(t(),l(w,{key:0,class:"group-item"},{default:s((()=>[c(w,{class:"group-name"},{default:s((()=>[c(j,{class:"mr20"},{default:s((()=>[o("付款时间：")])),_:1}),c(j,null,{default:s((()=>[o(i(k.detail.pay_time||""),1)])),_:1})])),_:1})])),_:1})):_("",!0),c(w,{class:"group-item"},{default:s((()=>[c(w,{class:"group-name"},{default:s((()=>[c(j,{class:"mr20"},{default:s((()=>[o("下单时间：")])),_:1}),c(j,null,{default:s((()=>[o(i(k.detail.create_time||""),1)])),_:1})])),_:1})])),_:1}),c(w,{class:"group-item"},{default:s((()=>[c(w,{class:"group-name"},{default:s((()=>[c(j,{class:"mr20"},{default:s((()=>[o("数量：")])),_:1}),c(j,null,{default:s((()=>[o("1")])),_:1})])),_:1})])),_:1}),c(w,{class:"group-item"},{default:s((()=>[c(w,{class:"group-name"},{default:s((()=>[c(j,{class:"mr20"},{default:s((()=>[o("总价：")])),_:1}),c(j,null,{default:s((()=>[o("￥"+i(k.detail.total_price||""),1)])),_:1})])),_:1})])),_:1}),c(w,{class:"group-item"},{default:s((()=>[c(w,{class:"group-name"},{default:s((()=>[c(j,{class:"mr20"},{default:s((()=>[o("实付：")])),_:1}),c(j,null,{default:s((()=>[o("￥"+i(k.detail.pay_price||""),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-0a91d509"]]);export{k as default};
