import{_ as t,B as e,l as a,p as s,o as l,c as o,w as c,n as i,g as n,b as u,f as d,r,F as f,e as _,d as p,v as g,j as h,S as m,t as y,C as b}from"./index-1a637619.js";const k=t({data:()=>({phoneHeight:0,scrollviewHigh:0,state_active:0,DataList:{coupon:[]},no_more:!1,loading:!1,data_type:"not_use",supList:[]}),mounted(){this.init(),this.getData()},methods:{init(){let t=this;e({success(e){t.scrollviewHigh=e.windowHeight}})},getData(){let t=this;a({title:"加载中"}),t.data_type,t._get("plus.birthgift.BirthGift/index",{},(function(e){s(),t.DataList=e.data.list}))},getGift(t){let e=this;a({title:"加载中"}),e._get("plus.birthgift.BirthGift/receive",{gift_id:t},(function(t){s(),e.showSuccess("领取成功",(function(){e.getData()}))}))},scrolltoupperFunc(){console.log("滚动视图区域到顶")},scrolltolowerFunc(){console.log("滚动视图区域到底")},lookRule(t){t.rule=!0},closeRule(t){t.rule=!1}}},[["render",function(t,e,a,s,k,x){const w=h,v=n,D=m;return l(),o(v,{"data-theme":t.theme(),class:i(t.theme()||"")},{default:c((()=>[u(D,{"scroll-y":"true",class:"scroll-Y",style:g("height:"+k.scrollviewHigh+"px;"),"lower-threshold":"50",onScrolltoupper:x.scrolltoupperFunc,onScrolltolower:x.scrolltolowerFunc},{default:c((()=>[u(v,{class:"pbenv"},{default:c((()=>[k.DataList.coupon&&k.DataList.coupon.length>0?(l(),o(v,{key:0},{default:c((()=>[(l(!0),d(f,null,r(k.DataList.coupon,((e,a)=>(l(),o(v,{class:"item-wrap mb20",key:a},{default:c((()=>[u(v,{class:"coupon_item"},{default:c((()=>[u(v,{class:i("coupon-item coupon-item-"+e.color.text),onClick:t=>x.lookRule(e)},{default:c((()=>[u(v,{class:"operation d-b-c"},{default:c((()=>[u(v,{class:"flex-1 coupon-content"},{default:c((()=>[u(v,{class:"mb20 text-ellipsis"},{default:c((()=>[u(w,{class:"f40 fb"},{default:c((()=>[p(y(e.name),1)])),_:2},1024)])),_:2},1024),u(v,{class:"f22 gray9 mb20"},{default:c((()=>[10==e.expire_type?(l(),d(f,{key:0},[p(" 有效期：领取"+y(e.expire_day)+"天内有效 ",1)],64)):_("",!0),20==e.expire_type?(l(),d(f,{key:1},[p(" 有效期："+y(e.start_time.text)+"至"+y(e.end_time.text),1)],64)):_("",!0)])),_:2},1024),0!=e.max_price?(l(),o(v,{key:0,class:"f22"},{default:c((()=>[p("(最大优惠"+y(e.max_price)+"元)",1)])),_:2},1024)):_("",!0)])),_:2},1024),u(v,{class:"right-box d-c-c d-c"},{default:c((()=>[10==e.coupon_type.value?(l(),o(v,{key:0,class:"theme-price mb10"},{default:c((()=>[u(w,{class:"f24"},{default:c((()=>[p("￥")])),_:1}),u(w,{class:"f52 fb"},{default:c((()=>[p(y(1*e.reduce_price),1)])),_:2},1024)])),_:2},1024)):_("",!0),20==e.coupon_type.value?(l(),o(v,{key:1,class:"mb10 theme-price"},{default:c((()=>[u(w,{class:"f52 fb"},{default:c((()=>[p(y(e.discount),1)])),_:2},1024),u(w,{class:"f24"},{default:c((()=>[p("折")])),_:1})])),_:2},1024)):_("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","onClick"]),20==e.apply_range?(l(),o(v,{key:0,class:"range_item d-b-c",onClick:b((a=>t.gotoPage("/pages/coupon/detail?coupon_id="+e.coupon_id)),["stop"])},{default:c((()=>[u(v,{class:"gray9 f24"},{default:c((()=>[p(" 限购店铺部分商品 "),u(w,{class:"icon iconfont icon-jiantou",style:{color:"#999999","font-size":"22rpx"}})])),_:1}),u(v,{class:"gray9 f24"},{default:c((()=>[p("本券不支持转赠")])),_:1})])),_:2},1032,["onClick"])):_("",!0)])),_:2},1024)])),_:2},1024)))),128))])),_:1})):_("",!0),0!=k.DataList.length||k.loading?_("",!0):(l(),o(v,{key:1,class:"d-c-c p30"},{default:c((()=>[u(w,{class:"iconfont icon-wushuju"}),u(w,{class:"cont"},{default:c((()=>[p("亲，暂无相关记录哦")])),_:1})])),_:1}))])),_:1}),0==k.DataList.is_receive?(l(),o(v,{key:0,class:"add_add-btn theme-btn",onClick:e[0]||(e[0]=t=>x.getGift(k.DataList.gift_id))},{default:c((()=>[p("领取 ")])),_:1})):(l(),o(v,{key:1,class:"add_add-btn btn-gray"},{default:c((()=>[p("已领取")])),_:1}))])),_:1},8,["style","onScrolltoupper","onScrolltolower"])])),_:1},8,["data-theme","class"])}],["__scopeId","data-v-a7931e57"]]);export{k as default};
