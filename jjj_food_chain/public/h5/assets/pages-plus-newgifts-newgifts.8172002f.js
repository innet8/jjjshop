import{_ as e,B as t,l as s,p as a,o as l,c as o,w as c,n as i,g as n,b as u,f as d,r as f,F as r,e as _,d as p,v as g,j as y,S as h,t as m,C as k,h as w}from"./index-1a637619.js";const x=e({data:()=>({phoneHeight:0,scrollviewHigh:0,state_active:0,DataList:{},no_more:!1,loading:!1,data_type:"not_use",supList:[]}),mounted(){this.init(),this.getData()},methods:{init(){let e=this;t({success(t){e.scrollviewHigh=t.windowHeight}})},getData(){let e=this;s({title:"加载中"}),e.data_type,e._get("plus.newgift.Newgift/index",{},(function(t){a(),e.DataList=t.data.list}))},getGift(e){let t=this;s({title:"加载中"}),t._get("plus.newgift.Newgift/receive",{gift_id:e},(function(e){a(),t.showSuccess("领取成功",(function(){t.getData()}))}))},scrolltoupperFunc(){console.log("滚动视图区域到顶")},scrolltolowerFunc(){console.log("滚动视图区域到底")},lookRule(e){e.rule=!0},closeRule(e){e.rule=!1}}},[["render",function(e,t,s,a,x,b){const v=y,D=n,C=w,L=h;return l(),o(D,{"data-theme":e.theme(),class:i(e.theme()||"")},{default:c((()=>[u(L,{"scroll-y":"true",class:"scroll-Y",style:g("height:"+x.scrollviewHigh+"px;"),"lower-threshold":"50",onScrolltoupper:b.scrolltoupperFunc,onScrolltolower:b.scrolltolowerFunc},{default:c((()=>[u(D,{class:""},{default:c((()=>[x.DataList.length>0?(l(!0),d(r,{key:0},f(x.DataList,((t,s)=>(l(),o(D,{class:"item-wrap mb20",key:s},{default:c((()=>[t.is_coupon?(l(!0),d(r,{key:0},f(t.coupon,((t,s)=>(l(),o(D,{key:s,class:"coupon_item"},{default:c((()=>[u(D,{class:i("coupon-item coupon-item-"+t.color.text),onClick:e=>b.lookRule(t)},{default:c((()=>[u(D,{class:"operation d-b-c"},{default:c((()=>[u(D,{class:"flex-1 coupon-content"},{default:c((()=>[u(D,{class:"mb20 text-ellipsis"},{default:c((()=>[u(v,{class:"f40 fb"},{default:c((()=>[p(m(t.name),1)])),_:2},1024)])),_:2},1024),u(D,{class:"f22 gray9 mb20"},{default:c((()=>[10==t.expire_type?(l(),d(r,{key:0},[p(" 有效期：领取"+m(t.expire_day)+"天内有效 ",1)],64)):_("",!0),20==t.expire_type?(l(),d(r,{key:1},[p(" 有效期："+m(t.start_time.text)+"至"+m(t.end_time.text),1)],64)):_("",!0)])),_:2},1024),0!=t.max_price?(l(),o(D,{key:0,class:"f22"},{default:c((()=>[p("(最大优惠"+m(t.max_price)+"元)",1)])),_:2},1024)):_("",!0)])),_:2},1024),u(D,{class:"right-box d-c-c d-c"},{default:c((()=>[10==t.coupon_type.value?(l(),o(D,{key:0,class:"theme-price mb10"},{default:c((()=>[u(v,{class:"f24"},{default:c((()=>[p("￥")])),_:1}),u(v,{class:"f52 fb"},{default:c((()=>[p(m(1*t.reduce_price),1)])),_:2},1024)])),_:2},1024)):_("",!0),20==t.coupon_type.value?(l(),o(D,{key:1,class:"mb10 theme-price"},{default:c((()=>[u(v,{class:"f52 fb"},{default:c((()=>[p(m(t.discount),1)])),_:2},1024),u(v,{class:"f24"},{default:c((()=>[p("折")])),_:1})])),_:2},1024)):_("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","onClick"]),20==t.apply_range?(l(),o(D,{key:0,class:"range_item d-b-c",onClick:k((s=>e.gotoPage("/pages/coupon/detail?coupon_id="+t.coupon_id)),["stop"])},{default:c((()=>[u(D,{class:"gray9 f24"},{default:c((()=>[p(" 限购店铺部分商品 "),u(v,{class:"icon iconfont icon-jiantou",style:{color:"#999999","font-size":"22rpx"}})])),_:1}),u(D,{class:"gray9 f24"},{default:c((()=>[p("本券不支持转赠")])),_:1})])),_:2},1032,["onClick"])):_("",!0)])),_:2},1024)))),128)):_("",!0),t.is_point?(l(),o(D,{key:1,class:"points-box f26 tr"},{default:c((()=>[p(" 积分奖励 ： "),u(v,{class:"dominant"},{default:c((()=>[p(m(t.points),1)])),_:2},1024)])),_:2},1024)):_("",!0),u(D,null,{default:c((()=>[0==t.is_receive?(l(),o(C,{key:0,class:"giftBtn theme-btn",onClick:e=>b.getGift(t.gift_id)},{default:c((()=>[p("领取")])),_:2},1032,["onClick"])):(l(),o(C,{key:1,class:"giftBtn btn-gray"},{default:c((()=>[p("已领取")])),_:1}))])),_:2},1024)])),_:2},1024)))),128)):_("",!0),0!=x.DataList.length||x.loading?_("",!0):(l(),o(D,{key:1,class:"d-c-c p30"},{default:c((()=>[u(v,{class:"iconfont icon-wushuju"}),u(v,{class:"cont"},{default:c((()=>[p("亲，暂无相关记录哦")])),_:1})])),_:1}))])),_:1})])),_:1},8,["style","onScrolltoupper","onScrolltolower"])])),_:1},8,["data-theme","class"])}],["__scopeId","data-v-101692cd"]]);export{x as default};
