import{_ as t,B as a,M as e,o as l,c as s,w as o,g as i,b as n,f as c,r,F as u,d,v as g,j as p,k as _,S as h,n as f,t as b}from"./index-1a637619.js";import{u as m}from"./uni-load-more.934e6c66.js";const w=t({components:{uniLoadMore:m},data:()=>({phoneHeight:0,scrollviewHigh:0,state_active:-1,tableData:[],no_more:!1,loading:!0,last_page:0,page:1,list_rows:20,tableList:[]}),computed:{loadingType(){return this.loading?1:0!=this.tableData.length&&this.no_more?2:0}},mounted(){this.init(),this.getData()},methods:{init(){let t=this;a({success(a){t.phoneHeight=a.windowHeight,e().select(".top-tabbar").boundingClientRect((a=>{let e=t.phoneHeight-a.height;t.scrollviewHigh=e})).exec()}})},getData(){let t=this,a=t.page;t.loading=!0;let e=t.list_rows;t._get("plus.driver.cash/lists",{status:t.state_active,page:a||1,list_rows:e},(function(a){if(t.loading=!1,t.tableData=t.tableData.concat(a.data.list.data),t.last_page=a.data.list.last_page,a.data.list.last_page<=1)return t.no_more=!0,!1}))},stateFunc(t){let a=this;t!=a.state_active&&(a.tableData=[],a.page=1,a.state_active=t,a.getData())},scrolltoupperFunc(){console.log("滚动视图区域到顶")},scrolltolowerFunc(){let t=this;t.page<t.last_page&&(t.page++,t.getData()),t.no_more=!0}}},[["render",function(t,a,e,m,w,y){const v=i,D=p,x=_("uni-load-more"),k=h;return l(),s(v,null,{default:o((()=>[n(v,{class:"top-tabbar"},{default:o((()=>[(l(!0),c(u,null,r(w.tableList,((t,a)=>(l(),s(v,{class:f(w.state_active==t.value?"tab-item active":"tab-item"),onClick:a=>y.stateFunc(t.value),key:a},{default:o((()=>[d(b(t.text),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),n(k,{"scroll-y":"true",class:"scroll-Y",style:g("height:"+w.scrollviewHigh+"px;"),"lower-threshold":"50",onScrolltoupper:y.scrolltoupperFunc,onScrolltolower:y.scrolltolowerFunc},{default:o((()=>[n(v,{class:"p-0-30 bg-white"},{default:o((()=>[(l(!0),c(u,null,r(w.tableData,((t,a)=>(l(),s(v,{class:"d-b-c border-b p-20-0",key:a},{default:o((()=>[n(v,{class:"d-s-s f-w d-c flex-1"},{default:o((()=>[n(D,{class:"30"},{default:o((()=>[d("提现")])),_:1}),n(D,{class:"gray9 f22"},{default:o((()=>[d(b(t.create_time),1)])),_:2},1024)])),_:2},1024),n(v,null,{default:o((()=>[n(D,{class:f("审核通过"==t.apply_status.text?"green":"gray9")},{default:o((()=>[d(b(t.apply_status.text),1)])),_:2},1032,["class"]),n(D,{class:"red ml20"},{default:o((()=>[d(b(t.money)+"元",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),0!=w.tableData.length||w.loading?(l(),s(x,{key:1,loadingType:y.loadingType},null,8,["loadingType"])):(l(),s(v,{key:0,class:"d-c-c p30"},{default:o((()=>[n(D,{class:"iconfont icon-wushuju"}),n(D,{class:"cont"},{default:o((()=>[d("亲，暂无相关记录哦")])),_:1})])),_:1}))])),_:1})])),_:1},8,["style","onScrolltoupper","onScrolltolower"])])),_:1})}]]);export{w as default};
