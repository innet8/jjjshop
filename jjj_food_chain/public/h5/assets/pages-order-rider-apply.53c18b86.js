import{_ as a,l as e,p as t,a as l,s,o as p,c as o,w as d,n as i,g as n,b as c,d as r,e as u,I as f,h as m,j as y}from"./index-1a637619.js";import{c as _}from"./cashier.070e7102.js";const h=a({components:{cashier:_},data:()=>({detail:{name:"",mobile:"",identfy_card:""},cash_open:"",take_cash:"",takeStatus:0,applyInfo:{},paytype:"",isapply:0}),onLoad(){this.getData()},methods:{getData(){let a=this;e({title:"加载中"}),a._post("user.index/detail",{source:a.getPlatform()},(function(e){a.cash_open=e.data.cash_open,a.take_cash=e.data.take_cash,a.takeStatus=e.data.takeStatus,null!=e.data.applyInfo&&(a.applyInfo=e.data.applyInfo,a.detail.mobile=e.data.applyInfo.mobile,a.detail.name=e.data.applyInfo.real_name,a.detail.identfy_card=e.data.applyInfo.identfy_card,a.isapply=1),a.paytype=a.getPlatform(),t()}))},subFunc(a){let l=this;e({title:"加载中"}),l._post("plus.driver.apply/deposit",{pay_source:l.getPlatform()},(function(a){t();let e="/pages/order/cashier?order_type=60&order_id="+a.data.order_id;l.gotoPage(e)}))},submit(){let a=this,p=a.detail;if(""==p.name)return void l({title:"请输入姓名！",icon:"none"});if(""==p.mobile)return l({title:"请输入手机号码",duration:1e3,icon:"none"}),!1;if(!/^((0\d{2,3}-\d{7,8})|(1[3456789]\d{9}))$/.test(p.mobile))return l({title:"手机号码格式不正确",duration:1e3,icon:"none"}),!1;""!=p.identfy_card?(e({title:"加载中"}),a._post("plus.driver.apply/submit",p,(function(e){t(),1==e.data.cash_open?(a.isapply=1,s("rider_apply",p),a.subFunc()):a.gotoPage("/pages/user/index/index")}))):l({title:"请输入身份证号！",icon:"none"})}}},[["render",function(a,e,t,l,s,_){const h=n,b=f,g=m,k=y;return p(),o(h,{"data-theme":a.theme(),class:i(a.theme()||"")},{default:d((()=>[c(h,{class:"apply_tit"},{default:d((()=>[r("跑腿入驻申请")])),_:1}),c(h,{class:"apply_box"},{default:d((()=>[c(h,{class:"apply-from-item"},{default:d((()=>[c(h,{class:"apply-from-tit"},{default:d((()=>[r("姓名")])),_:1}),c(b,{class:"apply-from-ipt",type:"text",placeholder:"请输入姓名",modelValue:s.detail.name,"onUpdate:modelValue":e[0]||(e[0]=a=>s.detail.name=a)},null,8,["modelValue"])])),_:1}),c(h,{class:"apply-from-item"},{default:d((()=>[c(h,{class:"apply-from-tit"},{default:d((()=>[r("手机号")])),_:1}),c(b,{class:"apply-from-ipt",type:"number",placeholder:"请输入手机号",modelValue:s.detail.mobile,"onUpdate:modelValue":e[1]||(e[1]=a=>s.detail.mobile=a)},null,8,["modelValue"])])),_:1}),c(h,{class:"apply-from-item"},{default:d((()=>[c(h,{class:"apply-from-tit"},{default:d((()=>[r("身份证号")])),_:1}),c(b,{class:"apply-from-ipt",type:"text",placeholder:"请输入身份证号",modelValue:s.detail.identfy_card,"onUpdate:modelValue":e[2]||(e[2]=a=>s.detail.identfy_card=a)},null,8,["modelValue"])])),_:1}),1==s.cash_open?(p(),o(h,{key:0,class:"apply-from-item"},{default:d((()=>[c(h,{class:"apply-from-tit"},{default:d((()=>[r("缴纳押金金额")])),_:1}),c(b,{class:"apply-from-ipt",type:"text",disabled:"",value:s.take_cash},null,8,["value"])])),_:1})):u("",!0),c(h,{class:"pt20"},{default:d((()=>[0==s.isapply?(p(),o(g,{key:0,class:"apply_btn theme-btn",onClick:_.submit},{default:d((()=>[r("提交申请")])),_:1},8,["onClick"])):u("",!0),1==s.isapply?(p(),o(g,{key:1,class:"apply_btn theme-btn",onClick:_.subFunc},{default:d((()=>[r("立即支付")])),_:1},8,["onClick"])):u("",!0)])),_:1}),c(h,{class:"tc mt30 f26 gray9"},{default:d((()=>[r("申请即视作同意 "),c(k,{class:"blue",onClick:e[3]||(e[3]=e=>a.gotoPage("/pages/service/service"))},{default:d((()=>[r("《用户服务协议》")])),_:1}),r(" 及 "),c(k,{class:"blue",onClick:e[4]||(e[4]=e=>a.gotoPage("/pages/service/privacy"))},{default:d((()=>[r("《隐私政策》")])),_:1})])),_:1})])),_:1})])),_:1},8,["data-theme","class"])}],["__scopeId","data-v-95ff0369"]]);export{h as default};
