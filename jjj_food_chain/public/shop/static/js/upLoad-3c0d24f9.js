import{E as e,x as t,i as a,y as i}from"./element-plus-b01b3a31.js";import{F as s}from"./file-07a7f6ce.js";import{_ as p}from"./_plugin-vue_export-helper-1b428a4d.js";import{o,T as l,S as n,a as r,X as d,P as g,W as m}from"./@vue-e72ffbb6.js";const u={props:{tips1:{type:String,default:$t("图片：支持JPG、JPEG、PNG格式，小于2MB，尺寸：1024*600px")},tips2:{type:String,default:$t("视频：支持AVI、MPEG、MOV、MP4格式，小于10MB，尺寸：1024*600px")},imgSize:{type:String,default:15},videoSize:{type:String,default:30}},methods:{fileChange(e){},onBeforeUploadImage(t){return t.size>1024*this.imgSize*1024&&t.type.includes("image")?(e({message:$t("图片大小超出限制！"),type:"warning"}),!1):!(t.size>1024*this.videoSize*1024&&t.type.includes("video"))||(e({message:$t("视频大小超出限制！"),type:"warning"}),!1)},UploadImage(a){let i=this;const p=t.service({lock:!0,text:"上传中,请等待",background:"rgba(0, 0, 0, 0.7)"});let o="";a.file.type.includes("video")&&(o="video"),a.file.type.includes("image")&&(o="image");const l=new FormData;l.append("iFile",a.file),l.append("file_type",o),s.uploadFile(l).then((t=>{p.close(),e({message:$t("本次上传成功"),type:"success"}),i.$emit("upLoad",t.data)})).catch((t=>{p.close(),e({message:$t("本次上传失败"),type:"warning"})}))}}},c={class:"el-upload__tip"};const f=p(u,[["render",function(e,t,s,p,u,f){const y=a,h=i;return o(),l(h,{class:"upload-demo",accept:"image/jpeg,image/png,image/jpg,video/*",action:"",multiple:"","show-file-list":!1,"before-upload":f.onBeforeUploadImage,"on-change":f.fileChange,"http-request":f.UploadImage},{tip:n((()=>[r("div",c,[r("p",null,d(s.tips1),1),r("p",null,d(s.tips2),1)])])),default:n((()=>[g(y,{type:"primary"},{default:n((()=>[m(d(e.$t("上传")),1)])),_:1})])),_:1},8,["before-upload","on-change","http-request"])}],["__scopeId","data-v-34bc0826"]]);export{f};
