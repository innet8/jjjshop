import{r as e,s as a,d as s,c as r,e as t,b as l,l as i,m as o,n,v as d}from"./element-plus-7d357588.js";import{P as p}from"./plus-23ac44b8.js";import{_ as c}from"./index-f792122d.js";import{ap as u,o as m,c as _,a as g,P as h,S as f,W as y,$ as w,T as b,X as v,Q as j,a8 as k,Y as x,bb as D,b9 as I}from"./@vue-48c55b54.js";import"./@vueuse-c556fb5a.js";import"./lodash-es-c1acaa3d.js";import"./async-validator-cf877c1f.js";import"./@element-plus-e0f4a3e8.js";import"./dayjs-9faf8871.js";import"./call-bind-0c463fe3.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-b8ff3004.js";import"./pinia-73166104.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./qs-942d6868.js";import"./side-channel-ba7aab8a.js";import"./object-inspect-860361a9.js";import"./vue-ueditor-wrap-cd29f9a1.js";const C={components:{},data:()=>({loading:!0,tableData:[],pageSize:20,totalDataNumber:0,curPage:1,formInline:{is_settled:"-1",user_id:""},open_edit:!1,userModel:{}}),props:{},watch:{$route(e,a){null!=e.query.user_id?this.formInline.user_id=e.query.user_id:this.formInline.user_id="",this.curPage=1,this.getData()}},created(){null!=this.$route.query.user_id&&(this.formInline.user_id=this.$route.query.user_id),this.getData()},methods:{arraySpanMethod(e){if(e.rowIndex%2==0&&0===e.columnIndex)return[1,7]},handleCurrentChange(e){let a=this;a.curPage=e,a.loading=!0,a.getData()},getData(e){let a=this,s={user_id:a.formInline.user_id,page:a.curPage,list_rows:a.pageSize,is_settled:a.formInline.is_settled};p.agentOrder(s,!0).then((e=>{a.loading=!1;let s=[];for(let a=0;a<e.data.list.data.length;a++){let r=e.data.list.data[a],t={order_no:r.order_master.order_no,create_time:r.order_master.create_time,order_id:r.order_id,is_top_row:!0};s.push(t),s.push(r)}a.tableData=s,a.totalDataNumber=e.data.list.total})).catch((e=>{a.loading=!1}))},onSubmit(){let e=this;e.loading=!0,e.is_settled=e.formInline.is_settled,e.getData()},handleSizeChange(e){this.curPage=1,this.pageSize=e,this.getData()},editClick(e){this.userModel=e,this.open_edit=!0},closeDialogFunc(e,a){"add"==a&&(this.open_add=e.openDialog,"success"==e.type&&this.getData()),"edit"==a&&(this.open_edit=e.openDialog,"success"==e.type&&this.getData())}}},z=e=>(D("data-v-ac67d017"),e=e(),I(),e),S={class:"user"},P={class:"common-seach-wrap"},N={class:"product-content"},q={class:"table-wrap"},V={key:0,class:"order-code d-b-c"},M={class:"d-s-c"},$={class:"c_main"},U={class:"pl16"},F={class:"pic"},O={alt:""},Q={class:"info"},T={class:"name gray3 product-name"},W={key:0,class:"gray9"},X={key:1,class:"orange"},Y={class:"d-c-c d-c"},Z={class:"orange"},A={class:"gray3"},B={key:0},E={class:"d-s-s d-c"},G={key:0,class:"d-s-c ww100 border-b-d"},H={class:"referee-name text-ellipsis"},J=z((()=>g("span",{class:"gray9"},"一级分销商：",-1))),K={class:"blue"},L={class:"referee-name text-ellipsis"},R=z((()=>g("span",{class:"gray9"},"用户ID：",-1))),ee={class:"gray6"},ae={class:"referee-name text-ellipsis"},se=z((()=>g("span",{class:"gray9"},"分销佣金：",-1))),re={class:"orange"},te={key:1,class:"d-s-c ww100 border-b-d"},le={class:"referee-name text-ellipsis"},ie=z((()=>g("span",{class:"gray9"},"二级分销商：",-1))),oe={class:"blue"},ne={class:"referee-name text-ellipsis"},de=z((()=>g("span",{class:"gray9"},"用户ID：",-1))),pe={class:"gray6"},ce={class:"referee-name text-ellipsis"},ue=z((()=>g("span",{class:"gray9"},"分销佣金：",-1))),me={class:"orange"},_e={key:2,class:"d-s-c ww100 border-b-d"},ge={class:"referee-name text-ellipsis"},he=z((()=>g("span",{class:"gray9"},"三级分销商：",-1))),fe={class:"blue"},ye={class:"referee-name text-ellipsis"},we=z((()=>g("span",{class:"gray9"},"用户ID：",-1))),be={class:"gray6"},ve={class:"referee-name text-ellipsis"},je=z((()=>g("span",{class:"gray9"},"分销佣金：",-1))),ke={class:"orange"},xe={key:0},De={class:"fb orange"},Ie={key:0},Ce=z((()=>g("span",{class:"gray9"},"付款状态：",-1))),ze=z((()=>g("span",{class:"gray9"},"配送状态：",-1))),Se=z((()=>g("span",{class:"gray9"},"送达状态：",-1))),Pe={key:0},Ne={key:0,class:"green"},qe={key:1,class:"red"},Ve={class:"pagination"};const Me=c(C,[["render",function(p,c,D,I,C,z){const Me=e,$e=a,Ue=s,Fe=r,Oe=t,Qe=l,Te=i,We=o,Xe=n,Ye=u("img-url"),Ze=d;return m(),_("div",S,[g("div",P,[h(Qe,{size:"small",inline:!0,model:C.formInline,class:"demo-form-inline"},{default:f((()=>[h(Ue,{label:"佣金结算"},{default:f((()=>[h($e,{modelValue:C.formInline.is_settled,"onUpdate:modelValue":c[0]||(c[0]=e=>C.formInline.is_settled=e),placeholder:"是否结算佣金"},{default:f((()=>[h(Me,{label:"全部",value:"-1"}),h(Me,{label:"已结算",value:"1"}),h(Me,{label:"未结算",value:"0"})])),_:1},8,["modelValue"])])),_:1}),h(Ue,{label:"用户id"},{default:f((()=>[h(Fe,{modelValue:C.formInline.user_id,"onUpdate:modelValue":c[1]||(c[1]=e=>C.formInline.user_id=e),placeholder:"请输入用户ID"},null,8,["modelValue"])])),_:1}),h(Ue,null,{default:f((()=>[h(Oe,{type:"primary",onClick:z.onSubmit},{default:f((()=>[y("查询")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])]),g("div",N,[g("div",q,[w((m(),b(We,{data:C.tableData,size:"small",border:"",style:{width:"100%"},"span-method":z.arraySpanMethod},{default:f((()=>[h(Te,{prop:"order_no",label:"商品"},{default:f((e=>[e.row.is_top_row?(m(),_("div",V,[g("div",M,[g("span",$,"订单号："+v(e.row.order_no),1),g("span",U,"下单时间："+v(e.row.create_time),1)])])):(m(!0),_(j,{key:1},k(e.row.order_master.product,((e,a)=>(m(),_("div",{class:"product-info",key:a},[g("div",F,[w(g("img",O,null,512),[[Ye,e.image.file_path]])]),g("div",Q,[g("div",T,[g("span",null,v(e.product_name),1)]),e.product_attr?(m(),_("div",W,v(e.product_attr),1)):x("",!0),e.refund?(m(),_("div",X,v(e.refund.type.text)+"-"+v(e.refund.status.text),1)):x("",!0)]),g("div",Y,[g("div",Z,"￥ "+v(e.product_price),1),g("div",A,"x"+v(e.total_num),1)])])))),128))])),_:1}),h(Te,{prop:"referee.value",label:"分销商",width:"400"},{default:f((e=>[e.row.is_top_row?x("",!0):(m(),_("div",B,[g("div",E,[e.row.first_user_id>0?(m(),_("div",G,[g("p",H,[J,g("span",K,v(e.row.agent_first.nickName),1)]),g("p",L,[R,g("span",ee,v(e.row.agent_first.user_id),1)]),g("p",ae,[se,g("span",re,"￥"+v(e.row.first_money),1)])])):x("",!0),e.row.second_user_id>0?(m(),_("div",te,[g("p",le,[ie,g("span",oe,v(e.row.agent_second.nickName),1)]),g("p",ne,[de,g("span",pe,v(e.row.agent_second.user_id),1)]),g("p",ce,[ue,g("span",me,"￥"+v(e.row.second_money),1)])])):x("",!0),e.row.third_user_id>0?(m(),_("div",_e,[g("p",ge,[he,g("span",fe,v(e.row.agent_third.nickName),1)]),g("p",ye,[we,g("span",be,v(e.row.agent_third.user_id),1)]),g("p",ve,[je,g("span",ke,"￥"+v(e.row.third_money),1)])])):x("",!0)])]))])),_:1}),h(Te,{prop:"order_master.pay_price",label:"实付款",width:"100"},{default:f((e=>[e.row.is_top_row?x("",!0):(m(),_("div",xe,[g("span",De,v(e.row.order_master.pay_price),1)]))])),_:1}),h(Te,{prop:"order_master.user.nickName",label:"买家",width:"100"}),h(Te,{prop:"mobile",label:"交易状态",width:"130"},{default:f((e=>[e.row.is_top_row?x("",!0):(m(),_("div",Ie,[g("p",null,[Ce,y(" "+v(e.row.order_master.pay_status.text),1)]),g("p",null,[ze,y(" "+v(e.row.order_master.delivery_status.text),1)]),g("p",null,[Se,y(" "+v(e.row.order_master.receipt_status.text),1)])]))])),_:1}),h(Te,{prop:"referee.value",label:"佣金结算",width:"70"},{default:f((e=>[e.row.is_top_row?x("",!0):(m(),_("div",Pe,[1==e.row.is_settled?(m(),_("span",Ne,"已结算")):x("",!0),0==e.row.is_settled?(m(),_("span",qe,"未结算")):x("",!0)]))])),_:1})])),_:1},8,["data","span-method"])),[[Ze,C.loading]])]),g("div",Ve,[h(Xe,{onSizeChange:z.handleSizeChange,onCurrentChange:z.handleCurrentChange,background:"","current-page":C.curPage,"page-size":C.pageSize,layout:"total, prev, pager, next, jumper",total:C.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])])}],["__scopeId","data-v-ac67d017"]]);export{Me as default};
