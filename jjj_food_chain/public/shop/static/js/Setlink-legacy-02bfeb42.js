System.register(["./element-plus-legacy-b16a6c53.js","./index-legacy-37de8052.js","./@vue-legacy-11820b46.js","./product-legacy-0382ab91.js"],(function(e,a){"use strict";var t,n,i,l,c,r,u,o,s,d,p,g,h,m,f,y,v,b,_,k,C,D,F,V,x,w,P,z,T,S,N=document.createElement("style");return N.textContent=".table-wrap.setlink-product-table .product-info .pic[data-v-4c02efcf]{width:20px;height:20px;background:#FFFFFF}.table-wrap.setlink-product-table .product-info .pic img[data-v-4c02efcf]{width:20px;height:20px}.marketing-box .el-tree-node__content[data-v-4c02efcf]{height:30px}.marketing-box .el-tree-node__content[data-v-4c02efcf]{margin-bottom:10px}.marketing-box .el-tabs__item{font-size:12px}.setlink-footer-btn{width:160px}.setlink-set-link{width:500px}\n",document.head.appendChild(N),{setters:[function(e){t=e.r,n=e.s,i=e.v,l=e.t,c=e.u,r=e.P,u=e.c,o=e.d,s=e.e,d=e.b,p=e.l,g=e.m,h=e.n,m=e.o},function(e){f=e._,y=e.r},function(e){v=e.o,b=e.T,_=e.S,k=e.c,C=e.Q,D=e.a8,F=e.$,V=e.ap,x=e.P,w=e.a,P=e.Y,z=e.W,T=e.X},function(e){S=e.P}],execute:function(){var a=f({data:function(){return{pages:[{url:"/pages/user/address/address",name:"收货地址",type:"菜单"},{url:"/pages/coupon/coupon",name:"领券中心",type:"菜单"},{url:"/pages/user/my-coupon/my-coupon",name:"我的优惠券",type:"菜单"},{url:"/pages/plus/birthgift/birthgift",name:"生日有礼",type:"菜单"},{url:"/pages/plus/newgifts/newgifts",name:"新客有礼",type:"菜单"},{url:"/pages/plus/points/list/list",name:"积分商城",type:"菜单"},{url:"/pages/plus/signin/signin",name:"签到",type:"菜单"},{url:"/pages/order/package",name:"券包",type:"菜单"},{url:"/pages/plus/rider/rider",name:"骑手大厅",type:"菜单",sys_tag:"driver"},{url:"/pages/plus/invite/invite",name:"邀请有礼",type:"菜单"},{url:"/pages/agent/index/index",name:"分销中心",type:"菜单"},{url:"/pages/user/set/set",name:"设置",type:"菜单"},{url:"scanQrcode",name:"扫一扫(仅限导航组)",type:"菜单"},{url:"/pages/plus/group/list",name:"团购商品",type:"菜单"},{url:"receipt",name:"团购核销",type:"菜单"},{url:"/pages/order/group-list",name:"团购订单",type:"菜单"}],activePage:"收货地址"}},created:function(){this.changeFunc(this.pages[0])},methods:{changeFunc:function(e){this.$emit("changeData",e)}}},[["render",function(e,a,i,l,c,r){var u=t,o=n;return v(),b(o,{modelValue:c.activePage,"onUpdate:modelValue":a[0]||(a[0]=function(e){return c.activePage=e}),placeholder:"请选择",class:"percent-w100",onChange:r.changeFunc,"value-key":"url"},{default:_((function(){return[(v(!0),k(C,null,D(c.pages,(function(e){return v(),b(u,{key:e.url,"value-key":e.name,label:e.name,value:e},null,8,["value-key","label","value"])})),128))]})),_:1},8,["modelValue","onChange"])}]]),N=function(e,a){return y._post("/shop/data.link/getPageList",e,a)},L=f({data:function(){return{loading:!0,pages:[],activePage:{}}},created:function(){this.getData()},methods:{getData:function(){var e=this;N({},!0).then((function(a){e.loading=!1;for(var t=[],n=0,i=a.data.list.length;n<i;n++){var l=a.data.list[n],c={url:"pages/diy-page/diy-page?page_id="+l.page_id,name:l.page_name,type:"自定义页面"};t.push(c)}e.pages=t,e.pages.length>0&&(e.activePage=e.pages[0],e.changeFunc(e.activePage))})).catch((function(a){e.loading=!1}))},changeFunc:function(e){this.$emit("changeData",e)}}},[["render",function(e,a,l,c,r,u){var o=t,s=n,d=i;return F((v(),b(s,{modelValue:r.activePage,"onUpdate:modelValue":a[0]||(a[0]=function(e){return r.activePage=e}),placeholder:"请选择",class:"percent-w100",onChange:u.changeFunc,"value-key":"url"},{default:_((function(){return[(v(!0),k(C,null,D(r.pages,(function(e){return v(),b(o,{key:e.url,label:e.name,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"])),[[d,r.loading]])}]]),U=f({data:function(){return{pages:[{url:"pages/index/index",name:"首页",type:"页面"},{url:"pages/order/myorder",name:"订单",type:"页面"},{url:"pages/user/index/index",name:"我的",type:"页面"},{url:"pages/product/list/takeaway?orderType=takein",name:"自取",type:"页面"},{url:"pages/product/list/takeaway?orderType=takeout",name:"外卖",type:"页面"},{url:"pages/shop/shop_list",name:"门店列表",type:"页面"},{url:"pages/product/list/store",name:"快餐模式",type:"页面"},{url:"pages/call/call",name:"排队叫号",type:"页面"}],activePage:"首页"}},created:function(){this.changeFunc(this.pages[0])},methods:{changeFunc:function(e){this.$emit("changeData",e)}}},[["render",function(e,a,i,l,c,r){var u=t,o=n;return v(),b(o,{modelValue:c.activePage,"onUpdate:modelValue":a[0]||(a[0]=function(e){return c.activePage=e}),placeholder:"请选择",class:"percent-w100",onChange:r.changeFunc,"value-key":"url"},{default:_((function(){return[(v(!0),k(C,null,D(c.pages,(function(e){return v(),b(u,{key:e.url,"value-key":e.name,label:e.name,value:e},null,8,["value-key","label","value"])})),128))]})),_:1},8,["modelValue","onChange"])}]]),$={class:"marketing-box"},A={key:0,class:"product"},j={class:"product-content"},Q={class:"table-wrap type-table"},E={key:1,class:"product-list"},I={class:"common-seach-wrap"},M={class:"product-content"},W={class:"table-wrap setlink-product-table"},X={class:"product-info"},Y={class:"pic"},q={alt:""},B={class:"info"},G={class:"name text-ellipsis"},H={class:"red"},J={class:"pagination"},K={components:{Menu:a,Pages:U,Product:f({data:function(){return{loading:!0,activeTab:"type",categoryList:[],categoryActive:[],searchForm:{product_name:""},tableData:[],pageSize:5,totalDataNumber:0,curPage:1,activePage:null}},created:function(){this.getCategory()},watch:{activeTab:function(e,a){e!=a&&(this.tableData=[],"type"==e&&this.autoType(),"detail"==e&&this.getData())}},methods:{getCategory:function(){var e=this;e.loading=!0,S.catList({},!0).then((function(a){e.categoryList=a.data.list,e.autoType(),e.loading=!1})).catch((function(a){e.loading=!1}))},autoType:function(e){if(e|=0,this.categoryActive=[],this.categoryList.length>0){var a=this.categoryList[e];this.categoryActive.push(a.category_id),a.child&&void 0!==a.child&&a.child.length>0?(this.categoryActive.push(a.child[0].category_id),this.changeFunc(a.child[0])):(e++,this.autoType(e))}},changeCategory:function(e){var a=this.$refs.cascader.getCheckedNodes();this.changeFunc(a[0].data)},handleCurrentChange:function(e){this.curPage=e,this.getData()},handleSizeChange:function(e){this.pageSize=e,this.curPage=0,this.getData()},getData:function(){var e=this;e.loading=!0;var a={};a.page=e.curPage,a.list_rows=e.pageSize,a.product_name=e.searchForm.product_name,S.productList(a,!0).then((function(a){e.loading=!1,e.tableData=a.data.list.data,e.totalDataNumber=a.data.list.total,1==e.curPage&&e.tableData.length>0&&e.changeFunc(e.tableData[0])})).catch((function(a){e.loading=!1}))},onSubmit:function(){this.curPage=0,this.getData()},changeFunc:function(e){var a={};"type"==this.activeTab&&(a.name=e.name,a.url="pages/product/list/list?category_id="+e.category_id,a.type="商品分类"),"detail"==this.activeTab&&(a.name=e.product_name,a.url="pages/product/detail/detail?product_id="+e.product_id,a.type="商品详情"),this.$emit("changeData",a)}}},[["render",function(e,a,t,n,m,f){var y=l,b=c,C=r,D=u,S=o,N=s,L=d,U=p,K=g,O=h,R=i,Z=V("img-url");return v(),k("div",$,[x(b,{modelValue:m.activeTab,"onUpdate:modelValue":a[0]||(a[0]=function(e){return m.activeTab=e})},{default:_((function(){return[x(y,{label:"分类",name:"type"}),x(y,{label:"详情",name:"detail"})]})),_:1},8,["modelValue"]),"type"==m.activeTab?(v(),k("div",A,[F((v(),k("div",j,[w("div",Q,[x(C,{class:"ww100",ref:"cascader",modelValue:m.categoryActive,"onUpdate:modelValue":a[1]||(a[1]=function(e){return m.categoryActive=e}),options:m.categoryList,props:{children:"child",value:"category_id",label:"name"},onChange:f.changeCategory},null,8,["modelValue","options","onChange"])])])),[[R,m.loading]])])):P("",!0),"detail"==m.activeTab?F((v(),k("div",E,[w("div",I,[x(L,{size:"small",inline:!0,model:m.searchForm,class:"demo-form-inline"},{default:_((function(){return[x(S,{label:"商品名称"},{default:_((function(){return[x(D,{size:"small",modelValue:m.searchForm.product_name,"onUpdate:modelValue":a[2]||(a[2]=function(e){return m.searchForm.product_name=e}),placeholder:"请输入商品名称"},null,8,["modelValue"])]})),_:1}),x(S,null,{default:_((function(){return[x(N,{size:"small",icon:"el-icon-search",onClick:f.onSubmit},{default:_((function(){return[z("查询")]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model"])]),w("div",M,[w("div",W,[x(K,{size:"mini",data:m.tableData,border:"",style:{width:"100%"}},{default:_((function(){return[x(U,{prop:"product_name",label:"产品"},{default:_((function(e){return[w("div",X,[w("div",Y,[F(w("img",q,null,512),[[Z,e.row.image[0].file_path]])]),w("div",B,[w("div",G,T(e.row.product_name),1)])])]})),_:1}),x(U,{prop:"product_price",label:"价格",width:"100"},{default:_((function(e){return[w("span",H,T(e.row.product_price),1)]})),_:1}),x(U,{label:"操作",width:"80"},{default:_((function(e){return[x(N,{size:"mini",onClick:function(a){return f.changeFunc(e.row)}},{default:_((function(){return[z("选择")]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])])]),w("div",J,[x(O,{onSizeChange:f.handleSizeChange,onCurrentChange:f.handleCurrentChange,background:"","current-page":m.curPage,"page-size":m.pageSize,layout:"total, prev, pager, next, jumper",total:m.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])),[[R,m.loading]]):P("",!0)])}],["__scopeId","data-v-4c02efcf"]]),DiyPage:L},data:function(){return{dialogVisible:!0,activeData:null,activeName:"pages"}},props:["is_linkset"],created:function(){this.dialogVisible=this.is_linkset},methods:{dialogFormVisible:function(e){e?this.$emit("closeDialog",this.activeData):this.$emit("closeDialog",null)},activeDataFunc:function(e){this.activeData=e}}},O={class:"dialog-footer d-b-c"},R={class:"flex-1"},Z={key:0,class:"d-s-s d-c tl"},ee={class:"text-ellipsis setlink-set-link"},ae=w("span",null,"当前链接：",-1),te={class:"gray9"},ne=w("span",{class:"p-0-10 gray"},"/",-1),ie={class:"blue"},le={class:"text-ellipsis gray",style:{"font-size":"10px"}},ce={key:1,class:"tl"},re={class:"setlink-footer-btn"};e("_",f(K,[["render",function(e,t,n,i,r,u){var o=U,d=l,p=L,g=a,h=c,f=s,y=m;return v(),b(y,{title:"超链接设置",modelValue:r.dialogVisible,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.dialogVisible=e}),onClose:u.dialogFormVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":!0},{footer:_((function(){return[w("div",O,[w("div",R,[null!=r.activeData?(v(),k("div",Z,[w("p",ee,[ae,w("span",te,T(r.activeData.type),1),ne,w("span",ie,T(r.activeData.name),1)]),w("p",le,T(r.activeData.url),1)])):(v(),k("div",ce," 暂无 "))]),w("div",re,[x(f,{size:"small",onClick:t[1]||(t[1]=function(e){return u.dialogFormVisible(!1)})},{default:_((function(){return[z("取 消")]})),_:1}),x(f,{size:"small",type:"primary",onClick:t[2]||(t[2]=function(e){return u.dialogFormVisible(!0)})},{default:_((function(){return[z("确 定")]})),_:1})])])]})),default:_((function(){return[x(h,{type:"border-card",modelValue:r.activeName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.activeName=e})},{default:_((function(){return[x(d,{label:"页面",name:"pages"},{default:_((function(){return["pages"==r.activeName?(v(),b(o,{key:0,onChangeData:u.activeDataFunc},null,8,["onChangeData"])):P("",!0)]})),_:1}),x(d,{label:"自定义",name:"diypage"},{default:_((function(){return["diypage"==r.activeName?(v(),b(p,{key:0,onChangeData:u.activeDataFunc},null,8,["onChangeData"])):P("",!0)]})),_:1}),x(d,{label:"我的菜单",name:"menu"},{default:_((function(){return["menu"==r.activeName?(v(),b(g,{key:0,onChangeData:u.activeDataFunc},null,8,["onChangeData"])):P("",!0)]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["modelValue","onClose"])}]]))}}}));
