import{E as t,e as i,v as a}from"./element-plus-7d357588.js";import{_ as o,d as s}from"./index-f792122d.js";import{P as e}from"./page-17bed000.js";import r from"./Type-b97fc09d.js";import m from"./Model-4e6712aa.js";import p from"./Params-3a2eb6ed.js";import{ag as d,$ as l,o as j,c as n,a as c,T as u,Y as g,P as f,S as y,W as v}from"./@vue-48c55b54.js";import"./@vueuse-c556fb5a.js";import"./lodash-es-c1acaa3d.js";import"./async-validator-cf877c1f.js";import"./@element-plus-e0f4a3e8.js";import"./dayjs-9faf8871.js";import"./call-bind-0c463fe3.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-b8ff3004.js";import"./pinia-73166104.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./qs-942d6868.js";import"./side-channel-ba7aab8a.js";import"./object-inspect-860361a9.js";import"./vue-ueditor-wrap-cd29f9a1.js";import"./Setpages-f0b0796b.js";import"./Banner-4f88c869.js";import"./ImageSingle-e6ca2c8d.js";import"./Window-713a4471.js";import"./Video-5e0245ac.js";import"./Article-aba78913.js";import"./Special-d31be42c.js";import"./Notice-e5f1f348.js";import"./NavBar-5fec0c56.js";import"./Title-3c9ba1f1.js";import"./Imagenav-d39fca9e.js";/* empty css                                                                */import"./Coupon-a24ae77b.js";import"./Store-d70ca99a.js";import"./Service-c9bca859.js";import"./RichText-b69ece01.js";import"./Blank-0fff400d.js";import"./Guide-b83521fd.js";import"./adNav-a4668775.js";import"./BargainProduct-594b8cc0.js";import"./Wxlive-5ba688c0.js";import"./ShipinLive-0491116a.js";import"./Group-cba470ab.js";import"./vuedraggable-aac9abaa.js";import"./vue-ddfaa731.js";import"./sortablejs-88eb33dd.js";import"./store-e24bcecf.js";import"./Upload-22bade2e.js";/* empty css                                                               */import"./Setpages-3ed8ab09.js";import"./Banner-714cecff.js";import"./Setlink-764fbcf2.js";import"./product-b7142be9.js";import"./ImageSingle-2f541234.js";import"./Window-185ebf28.js";import"./Video-08f2d36d.js";import"./Article-687c8154.js";import"./article-2f415474.js";import"./Special-ceec1046.js";import"./ShipinLive-dd89f735.js";import"./Notice-42db8bad.js";import"./NavBar-561a0454.js";import"./Imagenav-a519a440.js";import"./Product-2f3ee54e.js";import"./Coupon-6f7c3ede.js";import"./Store-5fe1c73f.js";import"./Service-dcf6ae94.js";import"./RichText-e76a2836.js";import"./UE-89f9bdb6.js";import"./Blank-251cc9ff.js";import"./Guide-2585e304.js";import"./adNav-26c46927.js";import"./BargainProduct-f1544609.js";import"./Wxlive-646340c2.js";import"./Group-18b70afe.js";import"./Title-7a34fe04.js";import"./Product-01590367.js";const h={class:"diy-container clearfix"},D={class:"diy-menu"},_={class:"diy-phone"},S={class:"diy-info"},k={class:"common-button-wrapper"};const b=o({components:{Type:r,Model:m,Params:p},data:()=>({loading:!0,defaultData:{},diyData:{items:[]},opts:{},form:{umeditor:{},curItem:{},selectedIndex:-1}}),created(){this.getData()},methods:{getData(){let t=this;e.toAddPage({},!0).then((i=>{t.defaultData=i.data.defaultData,t.diyData=i.data.jsonData,t.form.curItem=t.diyData.page,t.opts=i.data.opts,t.loading=!1})).catch((i=>{t.loading=!1}))},onAddItem:function(t){let i=s(this.defaultData[t]);this.diyData.items.push(i),this.$refs.model.onEditer(this.diyData.items.length-1)},Submit(){let i=this,a=i.diyData;a.items.length<1?t({message:"至少要选择一个组件",type:"warning"}):(i.loading=!0,e.addPage({params:JSON.stringify(a)},!0).then((a=>{i.loading=!1,t({message:"恭喜你，添加成功",type:"success"}),i.gotoBack()})).catch((t=>{i.loading=!1})))},gotoBack(){this.$router.back(-1)}}},[["render",function(t,o,s,e,r,m){const p=d("Type"),b=d("Model"),x=d("Params"),P=i,B=a;return l((j(),n("div",h,[c("div",D,[r.loading?g("",!0):(j(),u(p,{key:0,defaultData:r.defaultData},null,8,["defaultData"]))]),c("div",_,[r.loading?g("",!0):(j(),u(b,{key:0,ref:"model",form:r.form,defaultData:r.defaultData,diyData:r.diyData},null,8,["form","defaultData","diyData"]))]),c("div",S,[r.loading?g("",!0):(j(),u(x,{key:0,form:r.form,defaultData:r.defaultData,diyData:r.diyData},null,8,["form","defaultData","diyData"]))]),c("div",k,[f(P,{size:"small",type:"info",onClick:m.gotoBack},{default:y((()=>[v("返回上一页")])),_:1},8,["onClick"]),f(P,{size:"small",type:"primary",onClick:o[0]||(o[0]=t=>m.Submit()),loading:r.loading},{default:y((()=>[v("保存")])),_:1},8,["loading"])])])),[[B,r.loading]])}]]);export{b as default};
