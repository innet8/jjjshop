import{i as t,S as e,h as a}from"./element-plus-bf694ad1.js";import{_ as s}from"./_plugin-vue_export-helper-1b428a4d.js";import{o as r,c as l,a as o,V as i,P as d,a7 as u,O as m,R as n,S as c,X as p,aS as h,bm as v,bk as b}from"./@vue-b57a05a6.js";import"./lodash-es-234e1c00.js";import"./async-validator-cf877c1f.js";import"./@vueuse-793cab0b.js";import"./@element-plus-ce7ae957.js";import"./dayjs-33a066dd.js";import"./call-bind-912d4e9d.js";import"./get-intrinsic-878e88ff.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-afbcd6f2.js";import"./hasown-c3b72c9b.js";import"./set-function-length-a0a50b12.js";import"./define-data-property-da2cc9a9.js";import"./has-property-descriptors-2aeb73fe.js";import"./gopd-15a2da42.js";import"./@popperjs-b78c3215.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";const f={data:()=>({restaurants:[],restaurants2:[],formData:{}}),inject:["form"],methods:{addAttr(){""==this.form.model.product_attr&&(this.form.model.product_attr=[]),this.form.model.product_attr.push({attribute_name:"",attribute_value:["",""]})},querySearch(t,e){let a=this;0==a.restaurants.length&&a.form.attribute.forEach(((t,e)=>{a.restaurants.push({value:t.attribute_name})}));var s=this.restaurants;e(t?s.filter(this.createFilter(t)):s)},querySearch2(t,e,a){let s=this,r=[],l=s.form.model.product_attr[a].attribute_name;0!=s.restaurants.length&&l&&s.form.attribute.forEach(((t,e)=>{t.attribute_name!=l||(r=t.attribute_value)})),r.length>0&&(s.restaurants2=[],r.forEach((t=>{s.restaurants2.push({value:t})}))),e(this.restaurants2)},createFilter:t=>e=>0===e.value.toLowerCase().indexOf(t.toLowerCase()),addAttIndex(t){this.form.model.product_attr[t].attribute_value.push("")},delAttIndex(t,e){this.form.model.product_attr[t].attribute_value.splice(e,1)},delIndex(t){this.form.model.product_attr.splice(t,1)}}},_=(t=>(v("data-v-99a35b7e"),t=t(),b(),t))((()=>o("div",{class:"common-form mt50"},"商品属性",-1))),j={class:"mt16"},g={class:"p-0-30 mb18"},y={class:"d-s-c"},x=h('<div class="d-c-c mb16" data-v-99a35b7e><div style="width:100px;" data-v-99a35b7e><span class="red" data-v-99a35b7e>*</span>属性名称：</div><div class="flex-1 ml40" data-v-99a35b7e><span class="red" data-v-99a35b7e>*</span>属性值(至少填写两个)</div></div>',1),k={class:"d-c-s"},w={class:"d-c-c"},C={style:{width:"100px"}},V={class:"flex-1 d-s-s",style:{"flex-wrap":"wrap"}};const q=s(f,[["render",function(s,h,v,b,f,q){const A=t,I=e,S=a;return r(),l("div",null,[_,o("div",null,[o("div",j,[o("div",g,[o("div",y,[i("商品属性: "),o("div",{class:"blue ml30",onClick:h[0]||(h[0]=(...t)=>q.addAttr&&q.addAttr(...t))},"添加属性+")])]),q.form.model.product_attr.length>0?(r(!0),l(d,{key:0},u(q.form.model.product_attr,((t,e)=>(r(),l("div",{class:"mb18 p-0-30",key:e},[x,o("div",k,[o("div",w,[m(A,{class:"mr16 mb20",size:"",icon:"Delete",circle:"",onClick:t=>q.delIndex(e)},null,8,["onClick"]),o("div",C,[m(S,{"label-width":"0",rules:[{required:!0,message:" "}],prop:"model.product_attr."+e+".attribute_name"},{default:n((()=>[m(I,{class:"inline-input",size:"medium",modelValue:t.attribute_name,"onUpdate:modelValue":e=>t.attribute_name=e,"fetch-suggestions":q.querySearch,placeholder:"如:温度"},null,8,["modelValue","onUpdate:modelValue","fetch-suggestions"])])),_:2},1032,["prop"])])]),o("div",V,[(r(!0),l(d,null,u(t.attribute_value,((a,s)=>(r(),l("div",{key:s,class:"ml20 mb20"},[m(S,{"label-width":"0",style:{"margin-bottom":"0"},rules:[{required:!0,message:" "}],prop:"model.product_attr."+e+".attribute_value."+s},{default:n((()=>[m(I,{style:{width:"100px"},size:"medium",modelValue:t.attribute_value[s],"onUpdate:modelValue":e=>t.attribute_value[s]=e,"fetch-suggestions":(t,a)=>q.querySearch2(t,a,e),placeholder:"请选择"},null,8,["modelValue","onUpdate:modelValue","fetch-suggestions"]),s==t.attribute_value.length-1?(r(),c(A,{key:0,class:"ml10",size:"",icon:"Plus",circle:"",onClick:t=>q.addAttIndex(e)},null,8,["onClick"])):p("",!0),s>1?(r(),c(A,{key:1,class:"ml10",size:"",icon:"Delete",circle:"",onClick:t=>q.delAttIndex(e,s)},null,8,["onClick"])):p("",!0)])),_:2},1032,["prop"])])))),128))])])])))),128)):p("",!0)])])])}],["__scopeId","data-v-99a35b7e"]]);export{q as default};
