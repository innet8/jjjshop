import{u as e}from"./index-188a77f0.js";import{u as i}from"./vue-router-bf98ca95.js";import{_ as t}from"./_plugin-vue_export-helper-1b428a4d.js";import{F as s,K as n,L as l,o as m,c as a,a as u,M as r,X as o,Q as c,a8 as p,Y as h,n as d}from"./@vue-e72ffbb6.js";import"./pinia-72b16af9.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./qs-a8eee860.js";import"./side-channel-052d4c61.js";import"./get-intrinsic-d8eb8ca0.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-afbcd6f2.js";import"./has-719bcddc.js";import"./call-bind-2971450c.js";import"./object-inspect-dd55f836.js";import"./element-plus-33e0d8cc.js";import"./@vueuse-0fb12a45.js";import"./lodash-es-cce4393d.js";import"./async-validator-cf877c1f.js";import"./@element-plus-4b00147d.js";import"./dayjs-34225b3b.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./pinia-plugin-persistedstate-35ef556e.js";import"./vue-ueditor-wrap-e5a15ab3.js";import"./vue-i18n-73a1cd16.js";import"./@intlify-28c65249.js";const v=s({components:{},setup(t,{emit:s}){const{userInfo:m,bus_emit:a,menus:u,renderMenus:r}=e(),o=i(),c=n({route:o,munu_name:$t("首页"),active_menu:null,active_child:0,menuList:r,shop_name:"",menus:u}),p=e=>{let i=e.path,t=null,n=null;if(c.menuList&&c.menuList.length>0){for(let e=0;e<c.menuList.length;e++){if(c.menuList[e].path==i){t=e;break}if(c.menuList[e].children)for(let s=0;s<c.menuList[e].children.length;s++)if(c.menuList[e].children[s].path==i){t=e,n=s;break}if(!t&&!n&&c.menuList[e].childrenList.includes(i)){t=e;break}}c.active_menu=t,c.active_child=n,s("selectMenu",t)}d((()=>{a("MenuName",e.meta&&e.meta.showMenuTitle||e.meta.title)}))};return p(o),{...l(c),userInfo:m,selectMenu:p,bus_emit:a}},mounted(){"/home"==this.route.path&&(this.$emit("selectMenu",null),document.title=$t("首页"))},watch:{"route.path":{handler(e){this.menuList.map(((i,t)=>{i.redirect_name==e&&this.active_menu!=t&&(this.active_menu=t)}))},deep:!0,immediate:!0}},methods:{choseMenu(e,i,t){if(i&&(document.title=$t(i.name)),1==e)this.active_menu=null,this.active_child=null,this.$router.push("/"),this.$emit("selectMenu",null);else if(2==e)this.active_menu=t,this.active_child=0,this.$router.push(i.redirect_name),i.children?this.$emit("selectMenu",!1):this.$emit("selectMenu",null);else if(3==e){let e=i.path;i.redirect_name&&(e=i.redirect_name),this.active_child=t,this.$router.push(e)}}}}),j={class:"left-menu-wrapper"},_={class:"menu-wrapper"},f={class:"home-login"},k=["src"],L={class:"d-c-c"},M={class:"fb tc home-title"},b={class:"nav-wrapper mt10"},g={class:"first-menu-content"},$={class:"nav-ul"},w=["onClick"],y={class:"item-box"},C={class:"child-menu-wrapper"},I={class:"child-menu right-animation"},x={key:0},N=["onClick"],X={class:"name"};const q=t(v,[["render",function(e,i,t,s,n,l){return m(),a("div",j,[u("div",_,[u("div",f,[u("div",{class:r(null!=e.active_menu?"home-icon":"home-icon router-link-active"),onClick:i[0]||(i[0]=i=>e.choseMenu(1,null,null))},[u("img",{src:e.userInfo.logoUrl,class:"logoImg"},null,8,k)],2)]),u("div",L,[u("span",M,o(e.userInfo.shopName||"点餐系统连锁总店"),1)]),u("div",b,[u("div",g,[u("ul",$,[(m(!0),a(c,null,p(e.menuList,((i,t)=>(m(),a(c,{key:t},[1==i.is_menu?(m(),a("li",{key:0,class:r(e.active_menu==t?"menu-item router-link-active":"menu-item"),onClick:s=>e.choseMenu(2,i,t)},[u("div",y,[u("span",{class:r("icon iconfont menu-item-icon "+i.icon)},null,2),u("span",null,o(e.$t(i.name)),1)])],10,w)):h("",!0)],64)))),128))])])])]),u("div",C,[u("div",I,[null!=e.active_menu?(m(),a("ul",x,[(m(!0),a(c,null,p(e.menuList[e.active_menu].children,((i,t)=>(m(),a(c,{key:t},[1==i.is_menu?(m(),a("li",{key:0,class:r(e.active_child==t?"routre-link router-link-active":"router-link"),onClick:s=>e.choseMenu(3,i,t)},[u("span",X,o(e.$t(i.name)),1)],10,N)):h("",!0)],64)))),128))])):h("",!0)])])])}],["__scopeId","data-v-83dff3ea"]]);export{q as default};
