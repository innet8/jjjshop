import{_ as e}from"./Upload-22bade2e.js";import{E as o,c as a,d as s,e as l,i as t,S as m,b as r}from"./element-plus-7d357588.js";import{S as i}from"./setting-10e80d8d.js";import{_ as d,u as p}from"./index-f792122d.js";import{ap as u,o as n,c,P as f,S as g,a as _,W as h,$ as j,T as v,Y as y}from"./@vue-48c55b54.js";/* empty css                                                               */import"./@vueuse-c556fb5a.js";import"./lodash-es-c1acaa3d.js";import"./async-validator-cf877c1f.js";import"./@element-plus-e0f4a3e8.js";import"./dayjs-9faf8871.js";import"./call-bind-0c463fe3.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-b8ff3004.js";import"./pinia-73166104.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./qs-942d6868.js";import"./side-channel-ba7aab8a.js";import"./object-inspect-860361a9.js";import"./vue-ueditor-wrap-cd29f9a1.js";const{changStore:b}=p(),w={components:{Upload:e},data:()=>({loading:!1,form:{name:"",customer:"",key:"",sms_open:"",wx_open:"",is_get_log:0,avatarUrl:""},all_type:[],type:[],isupload:!1}),created(){this.getParams()},methods:{getParams(){let e=this;i.storeDetail({},!0).then((o=>{let a=o.data.vars.values;e.form=Object.assign(e.form,a),e.form.customer=a.kuaidi100.customer,e.form.key=a.kuaidi100.key,e.loading=!1})).catch((e=>{}))},onSubmit(){let e=this,a=this.form;e.$refs.form.validate((s=>{s&&(e.loading=!0,i.editStore(a,!0).then((s=>{e.loading=!1,o({message:"恭喜你，商城设置成功",type:"success"}),b(a),e.$router.push("/setting/store/index")})).catch((o=>{e.loading=!1})))}))},chooseImg(e){this.type=e,this.isupload=!0},returnImgsFunc(e){this.isupload=!1,null!=e&&e.length>0&&("avatarUrl"==this.type?this.form.avatarUrl=e[0].file_path:"logoUrl"==this.type&&(this.form.logoUrl=e[0].file_path))}}},U={class:"product-add"},V=_("div",{class:"common-form"},"商城设置",-1),k={class:"ww100"},x={class:"mt10",width:100},I=_("div",{class:"common-form"},"会员设置",-1),S={class:"ww100"},q={class:"mt10",width:100},C=_("div",{class:"common-form"},"h5注册设置",-1),O=_("div",{class:"tips"},"用户注册是否开启短信验证",-1),P=_("div",{class:"tips"},"用户登录是否开启微信授权",-1),$=_("div",{class:"common-form"},"日志记录",-1),z=_("div",{class:"tips"},"如果记录，日志量会有点大",-1),F=_("div",{class:"common-form"},"物流查询api",-1),R={class:"tips"},D={class:"common-button-wrapper"};const E=d(w,[["render",function(o,i,d,p,b,w){const E=a,G=s,K=l,L=t,N=m,T=r,W=e,Y=u("img-url");return n(),c("div",U,[f(T,{size:"small",ref:"form",model:b.form,"label-width":"150px"},{default:g((()=>[V,f(G,{label:"商城名称",rules:[{required:!0,message:" "}],prop:"name"},{default:g((()=>[f(E,{modelValue:b.form.name,"onUpdate:modelValue":i[0]||(i[0]=e=>b.form.name=e),placeholder:"商城名称",class:"max-w460"},null,8,["modelValue"])])),_:1}),f(G,{label:"商城LOGO",rules:[{required:!0,message:" "}],prop:"name"},{default:g((()=>[_("div",k,[f(K,{onClick:i[1]||(i[1]=e=>w.chooseImg("logoUrl"))},{default:g((()=>[h("选择图片")])),_:1})]),j(_("img",x,null,512),[[Y,b.form.logoUrl]])])),_:1}),I,f(G,{label:"默认头像",rules:[{required:!0,message:"请选择默认头像"}]},{default:g((()=>[_("div",S,[f(K,{onClick:i[2]||(i[2]=e=>w.chooseImg("avatarUrl"))},{default:g((()=>[h("选择图片")])),_:1})]),j(_("img",q,null,512),[[Y,b.form.avatarUrl]])])),_:1}),C,f(G,{label:"是否开启短信验证",prop:"sms_open"},{default:g((()=>[f(L,{modelValue:b.form.sms_open,"onUpdate:modelValue":i[3]||(i[3]=e=>b.form.sms_open=e)},{default:g((()=>[h("是否开启短信验证")])),_:1},8,["modelValue"]),O])),_:1}),f(G,{label:"是否开启微信授权",prop:"wx_open"},{default:g((()=>[f(L,{modelValue:b.form.wx_open,"onUpdate:modelValue":i[4]||(i[4]=e=>b.form.wx_open=e)},{default:g((()=>[h("是否开启微信授权")])),_:1},8,["modelValue"]),P])),_:1}),$,f(G,{label:"是否记录查询日志",prop:"is_get_log"},{default:g((()=>[f(L,{modelValue:b.form.is_get_log,"onUpdate:modelValue":i[5]||(i[5]=e=>b.form.is_get_log=e)},{default:g((()=>[h("是否记录查询日志")])),_:1},8,["modelValue"]),z])),_:1}),F,f(G,{label:"快递100 Customer",prop:"customer"},{default:g((()=>[f(E,{modelValue:b.form.customer,"onUpdate:modelValue":i[6]||(i[6]=e=>b.form.customer=e),placeholder:"",class:"max-w460"},null,8,["modelValue"]),_("div",R,[h("用于查询物流信息,"),f(N,{underline:!1,href:"https://www.kuaidi100.com/openapi/",target:"_blank",type:"primary"},{default:g((()=>[h("快递100申请")])),_:1})])])),_:1}),f(G,{label:"快递100 Key",prop:"key"},{default:g((()=>[f(E,{modelValue:b.form.key,"onUpdate:modelValue":i[7]||(i[7]=e=>b.form.key=e),placeholder:"",class:"max-w460"},null,8,["modelValue"])])),_:1}),_("div",D,[f(K,{type:"primary",onClick:w.onSubmit,loading:b.loading},{default:g((()=>[h("提交")])),_:1},8,["onClick","loading"])])])),_:1},8,["model"]),b.isupload?(n(),v(W,{key:0,isupload:b.isupload,type:b.type,config:{total:1},onReturnImgs:w.returnImgsFunc},null,8,["isupload","type","onReturnImgs"])):y("",!0)])}]]);export{E as default};
