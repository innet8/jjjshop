import{R as t}from"./element-plus-bf694ad1.js";import{_ as e}from"./_plugin-vue_export-helper-1b428a4d.js";import{o,S as s,R as i,a as n,c as l,P as a,F as p,W as r,V as d}from"./@vue-b57a05a6.js";import"./lodash-es-234e1c00.js";import"./async-validator-cf877c1f.js";import"./@vueuse-793cab0b.js";import"./@element-plus-ce7ae957.js";import"./dayjs-33a066dd.js";import"./call-bind-912d4e9d.js";import"./get-intrinsic-878e88ff.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-afbcd6f2.js";import"./hasown-c3b72c9b.js";import"./set-function-length-a0a50b12.js";import"./define-data-property-da2cc9a9.js";import"./has-property-descriptors-2aeb73fe.js";import"./gopd-15a2da42.js";import"./@popperjs-b78c3215.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";const h={style:{visibility:"hidden",position:"absolute"}},m={class:"omitText"},c={class:"text-front"},u={class:"text-after"};const f=e({name:"AutoTip",props:{content:{type:[String,Number],default:""},placement:{default:"top"},tooltipTheme:{default:"dark"},tooltipMaxWidth:{type:[String,Number],default:350},delay:{type:Number,default:100},showTooltips:!1,forcedShow:!0},data:()=>({showTooltip:!1,tooltipContent:""}),computed:{tipText(){const{content:t,tooltipContent:e}=this;return t||e||""},existSlot(){return!(void 0===this.$slots.default||this.$slots.default.length<1)}},methods:{getTexts(t=1){let e=this.$slots.default[0].text,o="",s="";if(e){let t=3;e.length<6&&(t=2),e.length>12&&(t=6),s=e.substring(0,e.length-t),o=e.substring(e.length-t)}return 1==t?e:2==t?s:3==t?o:void 0},handleTooltipIn(){const t=this.$refs.content;let e=document.createRange();e.setStart(t,0),e.setEnd(t,t.childNodes.length);const o=e.getBoundingClientRect().width;if(this.showTooltip=this.forcedShow||Math.floor(o)>Math.floor(t.offsetWidth),this.showTooltip&&this.existSlot){const t=this.$slots.default.map((t=>t.text?t.text:t.elm.innerText?t.elm.innerText:""));this.tooltipContent=t.join("")}e=null},onClick(t){this.$emit("on-click",t)}}},[["render",function(e,f,j,x,g,T){const y=t;return o(),s(y,{content:T.tipText,placement:j.placement,effect:j.tooltipTheme,delay:j.delay,disabled:!g.showTooltip||j.showTooltips,"max-width":j.tooltipMaxWidth,transfer:""},{default:i((()=>[n("span",null,[n("span",{ref:"content",onMouseenter:f[0]||(f[0]=(...t)=>T.handleTooltipIn&&T.handleTooltipIn(...t)),class:"common-auto-tip",onClick:f[1]||(f[1]=(...t)=>T.onClick&&T.onClick(...t))},[T.existSlot&&T.getTexts(1)?(o(),l(a,{key:0},[n("div",h,[p(e.$slots,"default",{},void 0,!0)]),n("div",m,[n("span",c,r(T.getTexts(2)),1),n("span",u,r(T.getTexts(3)),1)])],64)):T.existSlot?p(e.$slots,"default",{key:1},void 0,!0):(o(),l(a,{key:2},[d(r(j.content),1)],64))],544)])])),_:3},8,["content","placement","effect","delay","disabled","max-width"])}],["__scopeId","data-v-0449ba34"]]);export{f as default};
