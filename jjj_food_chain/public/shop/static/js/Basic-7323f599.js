import{_ as e}from"./Upload-5e77090b.js";import{g as l,h as a,Q as o,p as t,q as s,j as i}from"./element-plus-bf694ad1.js";import{l as r}from"./index-5628a5dc.js";import{af as m,an as d,o as p,c as n,a as u,W as c,P as g,a7 as f,S as h,R as j,O as _,V as y,Y as b,_ as v,a0 as V,X as x}from"./@vue-b57a05a6.js";import{_ as U}from"./_plugin-vue_export-helper-1b428a4d.js";import"./file-8fb6d729.js";import"./vue-cropperjs-a45f7801.js";import"./vue-944abb17.js";import"./call-bind-912d4e9d.js";import"./get-intrinsic-878e88ff.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-afbcd6f2.js";import"./hasown-c3b72c9b.js";import"./set-function-length-a0a50b12.js";import"./define-data-property-da2cc9a9.js";import"./has-property-descriptors-2aeb73fe.js";import"./gopd-15a2da42.js";import"./cropperjs-86d7592f.js";import"./lodash-es-234e1c00.js";import"./async-validator-cf877c1f.js";import"./@vueuse-793cab0b.js";import"./@element-plus-ce7ae957.js";import"./dayjs-33a066dd.js";import"./@popperjs-b78c3215.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-24c2a4a1.js";import"./pinia-6eed225f.js";import"./axios-b48e0a85.js";import"./qs-49804a56.js";import"./side-channel-7f79a019.js";import"./object-inspect-9ade9731.js";import"./pinia-plugin-persistedstate-35ef556e.js";import"./vue-ueditor-wrap-5c153e91.js";import"./vue-i18n-8b8412df.js";import"./@intlify-658c8624.js";const $=r().languageList,P={class:"basic-setting-content"},k={class:"common-form"},w={class:"draggable-list"},I=["onClick"],q={class:"gray9"};const C=U({components:{Upload:e},data:()=>({formData:{},isProductUpload:!1,languageList:$,options:[]}),inject:["form"],watch:{form:{handler(e){this.options=[],e.category.map(((e,l)=>{this.options.push({value:e.category_id,label:e.name_text,children:[]}),e.child.map(((e,a)=>{this.options[l].children.push({value:e.category_id,label:e.name_text})}))}))},deep:!0,immediate:!0}},created(){this.formData=this.form},methods:{openProductUpload:function(){this.isProductUpload=!0},returnProductImgsFunc(e){if(null!=e){let l=this.form.model.image.concat(e);this.form.model.image=l}this.isProductUpload=!1,this.$emit("validateField","model.image")},deleteImg(e){this.form.model.image.splice(e,1)}}},[["render",function(r,U,$,C,F,G){const R=l,z=a,J=o,L=t,B=s,D=m("Close"),E=i,M=m("draggable"),N=m("Plus"),O=e,Q=d("img-url");return p(),n("div",P,[u("div",k,c(r.$t("基本信息")),1),(p(!0),n(g,null,f(F.languageList,((e,l)=>(p(),h(z,{key:l,label:r.$t("商品名称：")+"(".concat(e.value,")"),prop:"model.product_name.".concat(e.key),rules:[{required:!0,message:r.$t("请填写商品名称")}]},{default:j((()=>[_(R,{modelValue:G.form.model.product_name[e.key],"onUpdate:modelValue":l=>G.form.model.product_name[e.key]=l,placeholder:r.$t("请输入商品名称"),class:"max-w460"},null,8,["modelValue","onUpdate:modelValue","placeholder"])])),_:2},1032,["label","prop","rules"])))),128)),_(z,{label:r.$t("所属分类："),rules:[{required:!0,message:r.$t("请选择所属分类")}],prop:"model.category_id"},{default:j((()=>[_(J,{options:F.options,modelValue:G.form.model.category_id,"onUpdate:modelValue":U[0]||(U[0]=e=>G.form.model.category_id=e),clearable:"",placeholder:r.$t("请选择分类")},null,8,["options","modelValue","placeholder"])])),_:1},8,["label","rules"]),_(z,{label:r.$t("特色分类：")},{default:j((()=>[_(B,{modelValue:G.form.model.special_id,"onUpdate:modelValue":U[1]||(U[1]=e=>G.form.model.special_id=e),clearable:"",class:"max-w460",size:"default",placeholder:r.$t("请选择特色分类")},{default:j((()=>[(p(!0),n(g,null,f(G.form.special,(e=>(p(),n(g,{key:e.category_id},[_(L,{value:e.category_id,label:e.name_text},null,8,["value","label"]),(p(!0),n(g,null,f(e.child,(e=>(p(),h(L,{key:e.category_id,value:e.category_id,label:e.name_text},{default:j((()=>[y("|—"+c(e.name_text),1)])),_:2},1032,["value","label"])))),128))],64)))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),_(z,{label:r.$t("商品图片："),rules:[{required:!0,validator:()=>G.form.model.image.length>0,message:r.$t("请上传商品图片")}],prop:"model.image"},{default:j((()=>[u("div",w,[_(M,{class:"wrapper",modelValue:G.form.model.image,"onUpdate:modelValue":U[2]||(U[2]=e=>G.form.model.image=e)},{default:j((()=>[_(b,null,{default:j((()=>[(p(!0),n(g,null,f(G.form.model.image,((e,l)=>(p(),n("div",{class:"item",key:e.file_path},[v(u("img",null,null,512),[[Q,e.file_path]]),u("a",{href:"javascript:void(0);",class:"delete-btn",onClick:V((e=>G.deleteImg(l)),["stop"])},[_(E,null,{default:j((()=>[_(D)])),_:1})],8,I)])))),128))])),_:1})])),_:1},8,["modelValue"]),0==G.form.model.image.length?(p(),n("div",{key:0,class:"item img-select",onClick:U[3]||(U[3]=(...e)=>G.openProductUpload&&G.openProductUpload(...e))},[_(E,null,{default:j((()=>[_(N)])),_:1})])):x("",!0)]),u("div",q,c(r.$t("支持JPG、JPEG、PNG格式，小于15MB，尺寸：160*120px")),1)])),_:1},8,["label","rules"]),_(z,{label:r.$t("商品卖点：")},{default:j((()=>[_(R,{type:"textarea",placeholder:r.$t("请输入商品卖点"),modelValue:G.form.model.selling_point,"onUpdate:modelValue":U[4]||(U[4]=e=>G.form.model.selling_point=e),"show-word-limit":"",maxlength:50,class:"max-w460"},null,8,["placeholder","modelValue"])])),_:1},8,["label"]),F.isProductUpload?(p(),h(O,{key:0,config:{total:1},isupload:F.isProductUpload,aspectRatio:1.333,onReturnImgs:G.returnProductImgsFunc},{default:j((()=>[y(c(r.$t("上传图片")),1)])),_:1},8,["isupload","onReturnImgs"])):x("",!0)])}]]);export{C as default};
