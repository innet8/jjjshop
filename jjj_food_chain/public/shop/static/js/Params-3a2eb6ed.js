import{r as e,s as t,d as r,e as o,c as l,b as i,l as s,m as a,n as d,o as m,v as c,E as n}from"./element-plus-7d357588.js";import{S as u}from"./store-e24bcecf.js";import{_ as p,d as I}from"./index-f792122d.js";import{o as f,T as g,S as h,a as x,P as y,W as j,c as v,Q as b,a8 as k,Y as S,$ as _,ag as C}from"./@vue-48c55b54.js";import{_ as w}from"./Upload-22bade2e.js";import D from"./Setpages-3ed8ab09.js";import V from"./Banner-714cecff.js";import P from"./ImageSingle-2f541234.js";import z from"./Window-185ebf28.js";import N from"./Video-08f2d36d.js";import B from"./Article-687c8154.js";import L from"./Special-ceec1046.js";import E from"./ShipinLive-dd89f735.js";import U from"./Notice-42db8bad.js";import W from"./NavBar-561a0454.js";import F from"./Imagenav-a519a440.js";import T from"./Product-2f3ee54e.js";import G from"./Coupon-6f7c3ede.js";import R from"./Store-5fe1c73f.js";import A from"./Service-dcf6ae94.js";import M from"./RichText-e76a2836.js";import $ from"./Blank-251cc9ff.js";import q from"./Guide-2585e304.js";import O from"./adNav-26c46927.js";import Q from"./BargainProduct-f1544609.js";import Y from"./Wxlive-646340c2.js";import X from"./Group-18b70afe.js";import H from"./Title-7a34fe04.js";import{_ as J}from"./Product-01590367.js";import"./@vueuse-c556fb5a.js";import"./lodash-es-c1acaa3d.js";import"./async-validator-cf877c1f.js";import"./@element-plus-e0f4a3e8.js";import"./dayjs-9faf8871.js";import"./call-bind-0c463fe3.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-b8ff3004.js";import"./pinia-73166104.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./qs-942d6868.js";import"./side-channel-ba7aab8a.js";import"./object-inspect-860361a9.js";import"./vue-ueditor-wrap-cd29f9a1.js";/* empty css                                                               */import"./Setlink-764fbcf2.js";import"./product-b7142be9.js";import"./vuedraggable-aac9abaa.js";import"./vue-ddfaa731.js";import"./sortablejs-88eb33dd.js";import"./article-2f415474.js";import"./UE-89f9bdb6.js";const K={class:"common-seach-wrap"},Z={class:"product-content"},ee={class:"table-wrap"},te=["src"],re={class:"pagination"},oe={class:"dialog-footer"};const le=p({data:()=>({loading:!0,curPage:1,pageSize:20,totalDataNumber:0,formInline:{},cateList:[],productList:[],status:[{id:10,name:"上架"},{id:20,name:"下架"}],multipleSelection:[],formLabelWidth:"120px",dialogVisible:!1,type:"error",params:null}),props:["isstore","excludeIds","islist"],watch:{isstore:function(e,t){e!=t&&e&&(this.dialogVisible=e,this.type="error",this.params=null,this.getData())}},created(){},methods:{selectableFunc:e=>"boolean"!=typeof e.noChoose||e.noChoose,handleCurrentChange(e){this.curPage=e,this.getData()},handleSizeChange(e){this.curPage=1,this.pageSize=e,this.getData()},getData(){let e=this,t=e.formInline;t.page=e.curPage,t.list_rows=e.pageSize,u.storeLists(t,!0).then((t=>{1==t.code&&(e.loading=!1,e.cateList=t.data.catgory,e.excludeIds&&void 0!==e.excludeIds&&e.excludeIds.length>0&&t.data.list.data.forEach((t=>{e.excludeIds.indexOf(t.product_id)>-1?t.noChoose=!1:t.noChoose=!0})),e.productList=t.data.list.data,e.totalDataNumber=t.data.list.total)})).catch((e=>{}))},addClerk(){let e=this,t=null;e.multipleSelection.length<1?e.$message({message:"请至少选择一件产品商品！",type:"error"}):(e.islist&&void 0!==e.islist?(e.multipleSelection.forEach((e=>{e.image=e.image[0].file_path})),t=e.multipleSelection):(t=e.multipleSelection[0],t.image=t.image[0].file_path),e.params=t,e.type="success",e.dialogVisible=!1)},dialogFormVisible(){this.$emit("closeDialog",{type:this.type,openDialog:!1,params:this.params})},tableCurrentChange(e){this.multipleSelection=e}}},[["render",function(n,u,p,I,C,w){const D=e,V=t,P=r,z=o,N=l,B=i,L=s,E=a,U=d,W=m,F=c;return f(),g(W,{title:"选择门店",modelValue:C.dialogVisible,"onUpdate:modelValue":u[3]||(u[3]=e=>C.dialogVisible=e),onClose:w.dialogFormVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"900px"},{footer:h((()=>[x("div",oe,[y(z,{size:"small",onClick:u[2]||(u[2]=e=>C.dialogVisible=!1)},{default:h((()=>[j("取 消")])),_:1}),y(z,{size:"small",type:"primary",onClick:w.addClerk},{default:h((()=>[j("确 定")])),_:1},8,["onClick"])])])),default:h((()=>[x("div",K,[y(B,{inline:!0,size:"small",model:C.formInline,class:"demo-form-inline"},{default:h((()=>[y(P,{label:"商品分类"},{default:h((()=>[y(V,{modelValue:C.formInline.category_id,"onUpdate:modelValue":u[0]||(u[0]=e=>C.formInline.category_id=e),placeholder:"请选择商品分类"},{default:h((()=>[(f(!0),v(b,null,k(C.cateList,(e=>(f(),v(b,{key:e.category_id},[y(D,{value:0,label:"全部"}),y(D,{value:e.category_id,label:e.name},null,8,["value","label"]),(f(!0),v(b,null,k(e.child,(t=>(f(),v(b,{key:t.category_id},[void 0!==e.child?(f(),v(b,{key:0},[y(D,{value:t.category_id,label:t.name,style:{"padding-left":"30px"}},null,8,["value","label"]),void 0!==t.child?(f(!0),v(b,{key:0},k(t.child,(e=>(f(),g(D,{key:e.category_id,value:e.category_id,label:e.name,style:{"padding-left":"60px"}},null,8,["value","label"])))),128)):S("",!0)],64)):S("",!0)],64)))),128))],64)))),128))])),_:1},8,["modelValue"])])),_:1}),y(P,{label:"商品名称"},{default:h((()=>[y(N,{placeholder:"请输入商品名称",modelValue:C.formInline.search,"onUpdate:modelValue":u[1]||(u[1]=e=>C.formInline.search=e)},{default:h((()=>[y(z,{icon:"el-icon-search",onClick:w.getData},{default:h((()=>[j("查询")])),_:1},8,["onClick"])])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])]),x("div",Z,[x("div",ee,[_((f(),g(E,{size:"small",data:C.productList,border:"",style:{width:"100%"},"highlight-current-row":"",onSelectionChange:w.tableCurrentChange},{default:h((()=>[y(L,{width:"70",label:"商品图片"},{default:h((e=>[x("img",{src:e.row.image&&e.row.image[0]&&e.row.image[0].file_path,width:30,height:30},null,8,te)])),_:1}),y(L,{prop:"product_name",label:"商品名称"}),y(L,{prop:"category.name",width:"100",label:"商品分类"}),y(L,{prop:"create_time",width:"140",label:"添加时间"}),y(L,{type:"selection",selectable:w.selectableFunc,width:"44"},null,8,["selectable"])])),_:1},8,["data","onSelectionChange"])),[[F,C.loading]])]),x("div",re,[y(U,{onSizeChange:w.handleSizeChange,onCurrentChange:w.handleCurrentChange,background:"","current-page":C.curPage,"page-sizes":[2,10,20,50,100],"page-size":C.pageSize,layout:"total, prev, pager, next, jumper",total:C.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])])),_:1},8,["modelValue","onClose"])}]]),ie={id:"diy-editor",ref:"diy-editor",class:"diy-editor form-horizontal"};const se=p({components:{SetpagesIndex:D,Banner:V,ImageSingle:P,Window:z,Video:N,Articleindex:B,Special:L,Notice:U,NavBar:W,Productindex:T,Coupon:G,Store:R,Service:A,RichText:M,Blank:$,Guide:q,ImageNav:F,adNav:O,BargainProduct:Q,Upload:w,ProductSelect:J,StoreSelect:le,Wxlive:Y,Groupindex:X,Title:H,ShipinLive:E},data:()=>({isupload:!1,imgModel:null,isproduct:!1,excludeIds:[],islist:!1,isstore:!1,isstorelist:!1}),props:["form","defaultData","diyData","opts"],created(){},methods:{onEditorAddData:function(){let e=this;var t=I(e.defaultData[e.form.curItem.type].data[0]);e.form.curItem.data.push(t)},onEditorResetColor:function(e,t,r){e[t]=r},onEditorDeleleData:function(e,t){if(this.diyData.items[t].data.length<=1)return n({message:"至少保留一个",type:"error"}),!1;this.diyData.items[t].data.splice(e,1)},onEditorSelectImage:function(e,t){this.isupload=!0,this.imgModel={index:e,imgUrl:t}},returnImgsFunc(e){null!=e&&(this.imgModel.index[this.imgModel.imgUrl]=e[0].file_path),this.isupload=!1},openProduct(e,t){let r=[];e.forEach((e=>{r.push(e.product_id)})),this.excludeIds=r,this.islist=!(!t||void 0===t),this.isproduct=!0},closeProductDialogFunc(e){null!=this.form.curItem&&(this.isproduct=!1,"success"==e.type&&(this.islist?this.form.curItem.data=this.form.curItem.data.concat(e.params):this.form.curItem.data.push(e.params)))},openStore(e,t){let r=[];e.forEach((e=>{r.push(e.store_id)})),this.excludeIds=r,this.isstorelist=!(!t||void 0===t),this.isstore=!0}}},[["render",function(e,t,r,o,l,i){const s=C("SetpagesIndex"),a=C("Banner"),d=C("ImageSingle"),m=C("Window"),c=C("Title"),n=C("Video"),u=C("Articleindex"),p=C("Special"),I=C("Notice"),x=C("NavBar"),k=C("Coupon"),_=C("Store"),D=C("Service"),V=C("ShipinLive"),P=C("RichText"),z=C("Blank"),N=C("Guide"),B=C("ImageNav"),L=C("adNav"),E=C("BargainProduct"),U=C("Wxlive"),W=C("Groupindex"),F=w,T=C("ProductSelect"),G=le;return f(),v("div",ie,[r.form.curItem?(f(),v(b,{key:0},["page"==r.form.curItem.type?(f(),g(s,{key:0,curItem:r.form.curItem},null,8,["curItem"])):S("",!0),"banner"==r.form.curItem.type?(f(),g(a,{key:1,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"imageSingle"==r.form.curItem.type?(f(),g(d,{key:2,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"window"==r.form.curItem.type?(f(),g(m,{key:3,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"title"==r.form.curItem.type?(f(),g(c,{key:4,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"video"==r.form.curItem.type?(f(),g(n,{key:5,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"article"==r.form.curItem.type?(f(),g(u,{key:6,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"special"==r.form.curItem.type?(f(),g(p,{key:7,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"notice"==r.form.curItem.type?(f(),g(I,{key:8,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"navBar"==r.form.curItem.type?(f(),g(x,{key:9,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"coupon"==r.form.curItem.type?(f(),g(k,{key:10,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"store"==r.form.curItem.type?(f(),g(_,{key:11,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"service"==r.form.curItem.type?(f(),g(D,{key:12,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"videoLive"==r.form.curItem.type?(f(),g(V,{key:13,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"richText"==r.form.curItem.type?(f(),g(P,{key:14,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"blank"==r.form.curItem.type?(f(),g(z,{key:15,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"guide"==r.form.curItem.type?(f(),g(N,{key:16,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"imageNav"==r.form.curItem.type?(f(),g(B,{key:17,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"adNav"==r.form.curItem.type?(f(),g(L,{key:18,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"bargainProduct"==r.form.curItem.type?(f(),g(E,{key:19,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"wxlive"==r.form.curItem.type?(f(),g(U,{key:20,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"group"==r.form.curItem.type?(f(),g(W,{key:21,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0)],64)):S("",!0),l.isupload?(f(),g(F,{key:1,isupload:l.isupload,config:{total:3},onReturnImgs:i.returnImgsFunc},null,8,["isupload","onReturnImgs"])):S("",!0),y(T,{isproduct:l.isproduct,excludeIds:l.excludeIds,islist:l.islist,onCloseDialog:t[0]||(t[0]=e=>i.closeProductDialogFunc(e))},{default:h((()=>[j("产品列表弹出层")])),_:1},8,["isproduct","excludeIds","islist"]),y(G,{isstore:l.isstore,islist:l.isstorelist},null,8,["isstore","islist"])],512)}],["__scopeId","data-v-6dac960b"]]);export{se as default};
