import{E as e,U as l,g as a,d as s,i as o,j as r,h as t,w as m,c as d,e as i,b as u}from"./element-plus-7d357588.js";import{S as p}from"./supplier-bc0f092e.js";import{_ as n,f as _}from"./index-f792122d.js";import{o as c,c as f,P as v,S as b,Q as y,a8 as g,T as V,W as h,X as j,Y as U,a as k}from"./@vue-48c55b54.js";import"./@vueuse-c556fb5a.js";import"./lodash-es-c1acaa3d.js";import"./async-validator-cf877c1f.js";import"./@element-plus-e0f4a3e8.js";import"./dayjs-9faf8871.js";import"./call-bind-0c463fe3.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-b8ff3004.js";import"./pinia-73166104.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./qs-942d6868.js";import"./side-channel-ba7aab8a.js";import"./object-inspect-860361a9.js";import"./vue-ueditor-wrap-cd29f9a1.js";const w={data:()=>({form:{shop_supplier_id:0,store_time:"",pick_time:"",delivery_time:"",bag_type:0,bag_price:0,storebag_type:0,storebag_price:0,delivery_distance:"",shipping_fee:0,delivery_set:[],store_set:[],min_money:0,settle_type:10,serviceType:0,service_money:0,auto_close:0,close_time:0},deliver_type:[{name:"外卖配送",value:10},{name:"到店自提",value:20}],store_type:[{name:"打包带走",value:30},{name:"店内就餐",value:40}],loading:!1}),created(){this.form.shop_supplier_id=this.$route.query.shop_supplier_id,this.getData()},methods:{getData(){let e=this;p.getsetSupplier({shop_supplier_id:e.form.shop_supplier_id},!0).then((l=>{e.form=_(e.form,l.data.model),e.form.delivery_set=l.data.model.delivery_set;for(let a=0;a<e.form.delivery_set.length;a++)e.form.delivery_set[a]=parseInt(e.form.delivery_set[a]);e.form.store_set=l.data.model.store_set;for(let a=0;a<e.form.store_set.length;a++)e.form.store_set[a]=parseInt(e.form.store_set[a])})).catch((e=>{}))},onSubmit(){let l=this,a=l.form;a.delivery_set.length<1?e({message:"外卖配送至少选择一种！",type:"warning"}):a.store_set.length<1?e({message:"店内配置至少选择一种！",type:"warning"}):l.$refs.form.validate((s=>{s&&(l.loading=!0,p.setSupplier(a,!0).then((a=>{l.loading=!1,e({message:"恭喜你，设置成功",type:"success"}),l.cancelFunc()})).catch((e=>{l.loading=!1})))}))},cancelFunc(){this.$router.back(-1)}}},q={class:"pb50"},x=k("div",{class:"tips"},"注：外卖配送方式至少选择一个",-1),H=k("div",{class:"tips"},"注：店内用餐方式至少选择一个",-1),S=k("div",{class:"tips"},"开启定时清台后，系统将在设置的时间后自动清除收银台点餐的桌台，此功能仅在餐前付款模式下生效",-1),T={class:"d-s-c"},z={class:"max-w60"},C=k("div",{class:"ml10"},"分钟后自动清理桌台（扫桌码点餐和收银桌台点餐定时清台时间）",-1),F={class:"d-s-c"},$={class:"max-w60"},D=k("div",{class:"ml10"},"元/位",-1),I={class:"d-s-c"},E={class:"max-w60"},P=k("div",{class:"ml10"},"元/桌",-1),Q={class:"d-s-c"},W={class:"max-w60"},X=k("div",{class:"ml10"},"元",-1),Y={class:"d-s-c"},A={class:"max-w60"},B=k("div",{class:"ml10"},"元",-1),G={class:"d-s-c"},J={class:"max-w60"},K=k("div",{class:"ml10"},"km",-1),L={class:"d-s-c"},M={class:"max-w60"},N=k("div",{class:"ml10"},"元",-1),O={class:"d-s-c"},R={class:"max-w60"},Z=k("div",{class:"ml10"},"元",-1),ee={class:"common-button-wrapper"};const le=n(w,[["render",function(e,p,n,_,w,le){const ae=l,se=a,oe=s,re=o,te=r,me=t,de=m,ie=d,ue=i,pe=u;return c(),f("div",q,[v(pe,{size:"small",ref:"form",model:w.form,"label-width":"150px"},{default:b((()=>[v(oe,{label:"店内营业时间",prop:"store_time",rules:[{required:!0,message:"请选择店内营业时间",trigger:"change"}]},{default:b((()=>[v(se,{span:11},{default:b((()=>[v(ae,{"is-range":"",modelValue:w.form.store_time,"onUpdate:modelValue":p[0]||(p[0]=e=>w.form.store_time=e),"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围",format:"HH:mm","value-format":"HH:mm"},null,8,["modelValue"])])),_:1})])),_:1}),v(oe,{label:"自提营业时间",prop:"pick_time",rules:[{required:!0,message:"请选择自提营业时间",trigger:"change"}]},{default:b((()=>[v(se,{span:11},{default:b((()=>[v(ae,{"is-range":"",modelValue:w.form.pick_time,"onUpdate:modelValue":p[1]||(p[1]=e=>w.form.pick_time=e),"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围",format:"HH:mm","value-format":"HH:mm"},null,8,["modelValue"])])),_:1})])),_:1}),v(oe,{label:"外卖营业时间",prop:"delivery_time",rules:[{required:!0,message:"请选择外卖营业时间",trigger:"change"}]},{default:b((()=>[v(se,{span:11},{default:b((()=>[v(ae,{"is-range":"",modelValue:w.form.delivery_time,"onUpdate:modelValue":p[2]||(p[2]=e=>w.form.delivery_time=e),"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围",format:"HH:mm","value-format":"HH:mm"},null,8,["modelValue"])])),_:1})])),_:1}),v(oe,{label:"外卖配送"},{default:b((()=>[v(te,{modelValue:w.form.delivery_set,"onUpdate:modelValue":p[3]||(p[3]=e=>w.form.delivery_set=e)},{default:b((()=>[(c(!0),f(y,null,g(w.deliver_type,((e,l)=>(c(),V(re,{label:e.value,key:l},{default:b((()=>[h(j(e.name),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"]),x])),_:1}),v(oe,{label:"店内配置"},{default:b((()=>[v(te,{modelValue:w.form.store_set,"onUpdate:modelValue":p[4]||(p[4]=e=>w.form.store_set=e)},{default:b((()=>[(c(!0),f(y,null,g(w.store_type,((e,l)=>(c(),V(re,{label:e.value,key:l},{default:b((()=>[h(j(e.name),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"]),H])),_:1}),v(oe,{label:"店内堂食结算模式"},{default:b((()=>[v(de,{modelValue:w.form.settle_type,"onUpdate:modelValue":p[5]||(p[5]=e=>w.form.settle_type=e)},{default:b((()=>[v(me,{label:10},{default:b((()=>[h("先结账后用餐")])),_:1}),v(me,{label:20},{default:b((()=>[h("先用餐后结账")])),_:1})])),_:1},8,["modelValue"])])),_:1}),10==w.form.settle_type?(c(),V(oe,{key:0,label:"收银台桌台清台设置"},{default:b((()=>[v(de,{modelValue:w.form.auto_close,"onUpdate:modelValue":p[6]||(p[6]=e=>w.form.auto_close=e)},{default:b((()=>[v(me,{label:0},{default:b((()=>[h("定时清台")])),_:1}),v(me,{label:1},{default:b((()=>[h("立即清台")])),_:1})])),_:1},8,["modelValue"]),S])),_:1})):U("",!0),v(oe,{rules:[{required:!0,message:" "}],prop:"close_time",label:"桌台订单清台设置"},{default:b((()=>[k("div",T,[k("div",z,[v(ie,{modelValue:w.form.close_time,"onUpdate:modelValue":p[7]||(p[7]=e=>w.form.close_time=e),type:"number"},null,8,["modelValue"])]),C])])),_:1}),v(oe,{label:"店内堂食服务费"},{default:b((()=>[v(de,{modelValue:w.form.serviceType,"onUpdate:modelValue":p[8]||(p[8]=e=>w.form.serviceType=e)},{default:b((()=>[v(me,{label:0},{default:b((()=>[h("按就餐人数收取")])),_:1}),v(me,{label:1},{default:b((()=>[h("按每桌台收取")])),_:1})])),_:1},8,["modelValue"])])),_:1}),0==w.form.serviceType?(c(),V(oe,{key:1,label:"",rules:[{required:!0,message:"请输入服务费"}],prop:"bag_price"},{default:b((()=>[k("div",F,[k("div",$,[v(ie,{modelValue:w.form.service_money,"onUpdate:modelValue":p[9]||(p[9]=e=>w.form.service_money=e),type:"number"},null,8,["modelValue"])]),D])])),_:1})):U("",!0),1==w.form.serviceType?(c(),V(oe,{key:2,label:"",rules:[{required:!0,message:"请输入服务费"}],prop:"bag_price"},{default:b((()=>[k("div",I,[k("div",E,[v(ie,{modelValue:w.form.service_money,"onUpdate:modelValue":p[10]||(p[10]=e=>w.form.service_money=e),type:"number"},null,8,["modelValue"])]),P])])),_:1})):U("",!0),v(oe,{label:"外卖包装费类型"},{default:b((()=>[v(de,{modelValue:w.form.bag_type,"onUpdate:modelValue":p[11]||(p[11]=e=>w.form.bag_type=e)},{default:b((()=>[v(me,{label:0},{default:b((()=>[h("按商品收费")])),_:1}),v(me,{label:1},{default:b((()=>[h("按单收费")])),_:1})])),_:1},8,["modelValue"])])),_:1}),1==w.form.bag_type?(c(),V(oe,{key:3,label:"包装费",rules:[{required:!0,message:"请输入包装费"}],prop:"bag_price"},{default:b((()=>[k("div",Q,[k("div",W,[v(ie,{modelValue:w.form.bag_price,"onUpdate:modelValue":p[12]||(p[12]=e=>w.form.bag_price=e),type:"number"},null,8,["modelValue"])]),X])])),_:1})):U("",!0),v(oe,{label:"店内包装费类型"},{default:b((()=>[v(de,{modelValue:w.form.storebag_type,"onUpdate:modelValue":p[13]||(p[13]=e=>w.form.storebag_type=e)},{default:b((()=>[v(me,{label:0},{default:b((()=>[h("按商品收费")])),_:1}),v(me,{label:1},{default:b((()=>[h("按单收费")])),_:1})])),_:1},8,["modelValue"])])),_:1}),1==w.form.storebag_type?(c(),V(oe,{key:4,label:"包装费",rules:[{required:!0,message:"请输入包装费"}],prop:"bag_price"},{default:b((()=>[k("div",Y,[k("div",A,[v(ie,{modelValue:w.form.storebag_price,"onUpdate:modelValue":p[14]||(p[14]=e=>w.form.storebag_price=e),type:"number"},null,8,["modelValue"])]),B])])),_:1})):U("",!0),v(oe,{label:"外卖配送范围",rules:[{required:!0,message:"请输入外卖配送范围"}],prop:"delivery_distance"},{default:b((()=>[k("div",G,[k("div",J,[v(ie,{class:"",modelValue:w.form.delivery_distance,"onUpdate:modelValue":p[15]||(p[15]=e=>w.form.delivery_distance=e),type:"number"},null,8,["modelValue"])]),K])])),_:1}),v(oe,{label:"外卖配送费",rules:[{required:!0,message:"请输入外卖配送费"}],prop:"shipping_fee"},{default:b((()=>[k("div",L,[k("div",M,[v(ie,{modelValue:w.form.shipping_fee,"onUpdate:modelValue":p[16]||(p[16]=e=>w.form.shipping_fee=e),type:"number"},null,8,["modelValue"])]),N])])),_:1}),v(oe,{label:"最低消费",rules:[{required:!0,message:"请输入最低消费"}],prop:"min_money"},{default:b((()=>[k("div",O,[k("div",R,[v(ie,{modelValue:w.form.min_money,"onUpdate:modelValue":p[17]||(p[17]=e=>w.form.min_money=e),type:"number"},null,8,["modelValue"])]),Z])])),_:1}),k("div",ee,[v(ue,{size:"small",onClick:le.cancelFunc},{default:b((()=>[h("取消")])),_:1},8,["onClick"]),v(ue,{size:"small",type:"primary",onClick:le.onSubmit,loading:w.loading},{default:b((()=>[h("提交")])),_:1},8,["onClick","loading"])])])),_:1},8,["model"])])}]]);export{le as default};
