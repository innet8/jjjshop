import{t as e,u as a,r as l,s as t,d as o,M as i,w as s,A as n,b as r,g as d,f as p,e as m,l as u,m as c,n as h,v as g}from"./element-plus-7d357588.js";import{S as f}from"./statistics-603c9b43.js";import{l as _}from"./qs-942d6868.js";import{_ as b,u as v}from"./index-f792122d.js";import{ap as C,$ as j,o as y,c as k,a as w,P as z,S as I,T as V,Q as P,a8 as S,W as x,Y as D,X as L}from"./@vue-48c55b54.js";import"./@vueuse-c556fb5a.js";import"./lodash-es-c1acaa3d.js";import"./async-validator-cf877c1f.js";import"./@element-plus-e0f4a3e8.js";import"./dayjs-9faf8871.js";import"./call-bind-0c463fe3.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./side-channel-ba7aab8a.js";import"./object-inspect-860361a9.js";import"./vue-router-b8ff3004.js";import"./pinia-73166104.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./vue-ueditor-wrap-cd29f9a1.js";const{token:U}=v(),Y={data:()=>({active:0,loading:!0,pageSize:10,totalDataNumber:0,curPage:1,formInline:{product_type:0,type:1,shop_supplier_id:0,time:"",sort:0},detail:{total_price:"",income_money:"",order_count:"",refund_money:""},supplierList:[],tableData:[],profileList:[],token:U}),created(){this.getParams()},methods:{getParams(){let e=this,a=e.formInline;a.page=e.curPage,a.list_rows=e.pageSize,e.loading=!0,f.getProDate(a,!0).then((a=>{e.detail=a.data.detail,e.supplierList=a.data.supplierList,e.profileList=a.data,e.tableData=a.data.list.data,e.totalDataNumber=a.data.list.total,e.loading=!1})).catch((a=>{e.loading=!1}))},handleClick(){let e=this;(4!=e.formInline.type||e.formInline.time)&&(e.curPage=1,e.getParams())},handleCurrentChange(e){let a=this;a.loading=!0,a.curPage=e,a.getParams()},handleSizeChange(e){this.pageSize=e,this.getParams()},addClick(e){let a=e.finance_id;this.$router.push({path:"/cash/finance/detail",query:{finance_id:a}})},onExport(){let e=window.location.protocol+"//"+window.location.host;this.formInline.token=this.token,window.location.href=e+"/index.php/shop/statistics.product/export?"+_.stringify(this.formInline)}}},q={class:"pb50"},M={id:""},N={class:"common-seach-wrap ww100"},T={class:""},E={class:"block"},$=w("span",{class:"demonstration"},null,-1),A={class:"product-content"},H=w("div",{class:"common-form"},"实时概况",-1),Q={class:"table-wrap"},W={class:"pb16 grid-content bg-purple"},X=w("div",null,"商品总数",-1),B={class:"detail_prici"},F={class:"pb16 grid-content bg-purple"},G=w("div",null,"已上架商品",-1),J={class:"detail_prici"},K={class:"pb16 grid-content bg-purple"},O=w("div",null,"已下架商品",-1),R={class:"detail_prici"},Z=w("div",{class:"common-form"},"实时概况",-1),ee={class:"pagination"};const ae=b(Y,[["render",function(f,_,b,v,U,Y){const ae=e,le=a,te=l,oe=t,ie=o,se=i,ne=s,re=n,de=r,pe=d,me=p,ue=m,ce=u,he=c,ge=h,fe=C("auth"),_e=g;return j((y(),k("div",q,[w("div",M,[z(le,{modelValue:U.formInline.product_type,"onUpdate:modelValue":_[0]||(_[0]=e=>U.formInline.product_type=e),type:"card",onTabClick:Y.handleClick},{default:I((()=>[z(ae,{label:"外卖",name:"0"}),z(ae,{label:"店内",name:"1"})])),_:1},8,["modelValue","onTabClick"])]),w("div",N,[z(de,{size:"small",model:U.formInline,class:"ww100"},{default:I((()=>[w("div",T,[w("div",null,[j((y(),V(ie,{label:"选择店铺"},{default:I((()=>[z(oe,{size:"small",modelValue:U.formInline.shop_supplier_id,"onUpdate:modelValue":_[1]||(_[1]=e=>U.formInline.shop_supplier_id=e),placeholder:"请选择",onChange:Y.handleClick},{default:I((()=>[z(te,{label:"全部",value:0}),(y(!0),k(P,null,S(U.supplierList,((e,a)=>(y(),V(te,{key:a,label:e.name,value:e.shop_supplier_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])])),_:1})),[[fe,"/auth/shop"]]),z(ie,{label:"查询日期"},{default:I((()=>[z(ne,{modelValue:U.formInline.type,"onUpdate:modelValue":_[2]||(_[2]=e=>U.formInline.type=e),size:"medium",onChange:Y.handleClick},{default:I((()=>[z(se,{label:1},{default:I((()=>[x("今天")])),_:1}),z(se,{label:2},{default:I((()=>[x("近七天")])),_:1}),z(se,{label:3},{default:I((()=>[x("近十五天")])),_:1}),z(se,{label:4},{default:I((()=>[x("自定义时间")])),_:1})])),_:1},8,["modelValue","onChange"])])),_:1}),4==U.formInline.type?(y(),V(ie,{key:0,label:"起始时间"},{default:I((()=>[w("div",E,[$,z(re,{onChange:Y.handleClick,size:"small",modelValue:U.formInline.time,"onUpdate:modelValue":_[3]||(_[3]=e=>U.formInline.time=e),type:"daterange","value-format":"YYYY-MM-DD","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["onChange","modelValue"])])])),_:1})):D("",!0)]),z(ie,{label:"排行类型"},{default:I((()=>[z(oe,{size:"small",modelValue:U.formInline.sort,"onUpdate:modelValue":_[4]||(_[4]=e=>U.formInline.sort=e),placeholder:"请选择",onChange:Y.handleClick},{default:I((()=>[z(te,{label:"销售额",value:0}),z(te,{label:"销量",value:1})])),_:1},8,["modelValue","onChange"])])),_:1})])])),_:1},8,["model"])]),w("div",A,[H,w("div",Q,[z(me,{gutter:20},{default:I((()=>[z(pe,{span:6},{default:I((()=>[w("div",W,[X,w("div",B,L(U.detail.product_total),1)])])),_:1}),z(pe,{span:6},{default:I((()=>[w("div",F,[G,w("div",J,L(U.detail.up_total),1)])])),_:1}),z(pe,{span:6},{default:I((()=>[w("div",K,[O,w("div",R,L(U.detail.down_total),1)])])),_:1})])),_:1})])]),z(ue,{size:"small",type:"success",onClick:Y.onExport},{default:I((()=>[x("商品导出")])),_:1},8,["onClick"]),Z,j((y(),V(he,{size:"small",data:U.tableData,border:"",style:{width:"100%"}},{default:I((()=>[z(ce,{prop:"product_name",label:"商品名称"}),z(ce,{prop:"product_price",label:"商品价格"}),z(ce,{prop:"total_num",label:"商品总销量"}),z(ce,{prop:"total_price",label:"商品总销售额"})])),_:1},8,["data"])),[[_e,U.loading]]),w("div",ee,[z(ge,{onSizeChange:Y.handleSizeChange,onCurrentChange:Y.handleCurrentChange,background:"","current-page":U.curPage,"page-size":U.pageSize,layout:"total, prev, pager, next, jumper",total:U.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])),[[_e,U.loading]])}]]);export{ae as default};
