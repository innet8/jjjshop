import{d as t,i as e,m as a,o as s,B as r,v as o}from"./element-plus-bf694ad1.js";import{G as i}from"./group-b0d9c382.js";import{_ as p}from"./_plugin-vue_export-helper-1b428a4d.js";import{an as l,o as n,c as u,a as d,_ as g,S as m,R as c,V as h,O as j,W as _,X as b}from"./@vue-b57a05a6.js";import"./lodash-es-234e1c00.js";import"./async-validator-cf877c1f.js";import"./@vueuse-793cab0b.js";import"./@element-plus-ce7ae957.js";import"./dayjs-33a066dd.js";import"./call-bind-912d4e9d.js";import"./get-intrinsic-878e88ff.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-afbcd6f2.js";import"./hasown-c3b72c9b.js";import"./set-function-length-a0a50b12.js";import"./define-data-property-da2cc9a9.js";import"./has-property-descriptors-2aeb73fe.js";import"./gopd-15a2da42.js";import"./@popperjs-b78c3215.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./index-191c97f6.js";import"./vue-router-24c2a4a1.js";import"./pinia-6eed225f.js";import"./axios-b48e0a85.js";import"./qs-49804a56.js";import"./side-channel-7f79a019.js";import"./object-inspect-9ade9731.js";import"./pinia-plugin-persistedstate-35ef556e.js";import"./vue-ueditor-wrap-5c153e91.js";import"./vue-i18n-8b8412df.js";import"./@intlify-658c8624.js";const y={class:"common-level-rail"},w={class:"table-wrap"},f=["title"],C={key:0,class:"green"},v={key:1,class:"gray"},z={key:0,class:"green"},k={key:1,class:"gray"},x={class:"pagination"};const D=p({components:{},data:()=>({categoryData:[],tableData:[],open_add:!1,open_edit:!1,userModel:{},commentData:[],loading:!0,pageSize:20,totalDataNumber:0,curPage:1}),created(){this.getTableList()},methods:{getTableList(){let t=this,e={};e.page=t.curPage,e.list_rows=t.pageSize,i.grouplist(e,!0).then((e=>{t.loading=!1,t.tableData=e.data.list.data,t.totalDataNumber=e.data.list.total})).catch((e=>{t.loading=!1}))},addGroup(){this.$router.push({path:"/plus/group/group/add"})},editGroup(t){let e=t.group_id;this.$router.push({path:"/plus/group/group/edit",query:{group_id:e}})},handleCurrentChange(t){let e=this;e.curPage=t,e.loading=!0,e.getTableList()},handleSizeChange(t){this.curPage=1,this.pageSize=t,this.getTableList()},deleteGroup(e){let a=this;t.confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{a.loading=!0,i.deleteGroup({group_id:e.group_id},!0).then((t=>{this.$ElMessage({message:t.msg,type:"success"}),a.loading=!1,a.getTableList()})).catch((t=>{}))})).catch((()=>{}))}}},[["render",function(t,i,p,D,G,S){const T=e,P=a,L=s,B=r,q=l("auth"),N=o;return n(),u("div",null,[d("div",y,[g((n(),m(T,{size:"small",type:"primary",icon:"Plus",onClick:S.addGroup},{default:c((()=>[h("添加团购")])),_:1},8,["onClick"])),[[q,"/plus/group/group/add"]])]),d("div",w,[g((n(),m(L,{data:G.tableData,style:{width:"100%"}},{default:c((()=>[j(P,{prop:"group_id",label:"ID",width:"60"}),j(P,{prop:"group_name",label:"团购名称"},{default:c((t=>[d("div",{class:"text-ellipsis",title:t.row.group_name},_(t.row.group_name),9,f)])),_:1}),j(P,{prop:"group_price",label:"销售价格",width:"100"}),j(P,{prop:"sales_initial",label:"虚拟销量",width:"100"}),j(P,{prop:"sales_actual",label:"实际销量",width:"100"}),j(P,{prop:"group_sort",label:"资讯排序",width:"100"}),j(P,{prop:"group_status",label:"状态",width:"100"},{default:c((t=>[1==t.row.group_status?(n(),u("span",C,"显示")):b("",!0),0==t.row.group_status?(n(),u("span",v,"隐藏")):b("",!0)])),_:1}),j(P,{prop:"suit_type",label:"使用门店",width:"100"},{default:c((t=>[10==t.row.suit_type?(n(),u("span",z,"全部")):b("",!0),20==t.row.suit_type?(n(),u("span",k,"部分")):b("",!0)])),_:1}),j(P,{prop:"create_time",label:"添加时间",width:"140"}),j(P,{prop:"update_time",label:"更新时间",width:"140"}),j(P,{prop:"name",label:"操作",width:"120"},{default:c((t=>[g((n(),m(T,{onClick:e=>S.editGroup(t.row),type:"primary",link:"",size:"small"},{default:c((()=>[h("编辑")])),_:2},1032,["onClick"])),[[q,"/plus/group/group/edit"]]),g((n(),m(T,{onClick:e=>S.deleteGroup(t.row),type:"primary",link:"",size:"small"},{default:c((()=>[h("删除")])),_:2},1032,["onClick"])),[[q,"/plus/group/group/delete"]])])),_:1})])),_:1},8,["data"])),[[N,G.loading]]),d("div",x,[j(B,{onSizeChange:S.handleSizeChange,onCurrentChange:S.handleCurrentChange,background:"","current-page":G.curPage,"page-size":G.pageSize,layout:"total, prev, pager, next, jumper",total:G.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])])}]]);export{D as default};
