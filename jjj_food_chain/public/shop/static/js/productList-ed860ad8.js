import{p as e,q as l,h as a,Q as t,g as o,i as s,e as r,m as i,D as d,o as p,B as n,u,v as c}from"./element-plus-bf694ad1.js";import{_ as m}from"./_plugin-vue_export-helper-1b428a4d.js";import{an as h,o as g,S as b,R as _,a as f,O as v,V as y,W as j,_ as $}from"./@vue-b57a05a6.js";import"./lodash-es-234e1c00.js";import"./async-validator-cf877c1f.js";import"./@vueuse-793cab0b.js";import"./@element-plus-ce7ae957.js";import"./dayjs-33a066dd.js";import"./call-bind-912d4e9d.js";import"./get-intrinsic-878e88ff.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-afbcd6f2.js";import"./hasown-c3b72c9b.js";import"./set-function-length-a0a50b12.js";import"./define-data-property-da2cc9a9.js";import"./has-property-descriptors-2aeb73fe.js";import"./gopd-15a2da42.js";import"./@popperjs-b78c3215.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";const C={data:()=>({searchForm:{status:"",keyword:"",category_id:""},pageSize:5,totalDataNumber:0,curPage:1,tableData:[],categoryList:[]}),props:{open_product:{type:Boolean,default:!1}},created(){this.dialogVisible=this.open_product},methods:{dialogFormVisible(e){e?this.$emit("closeDialog",{type:"success",openDialog:!1}):this.$emit("closeDialog",{type:"error",openDialog:!1})},handleValue(e){this.searchForm.category_id=[],this.searchForm.category_id=e.value}}},V={class:"common-seach-wrap"},k=["onClick"],w={class:"product-content"},z={class:"table-wrap"},F={class:"product-info"},D={class:"pic"},S={alt:""},x={class:"info"},U={class:"name"},q={class:"price"},B={class:"pagination"},L={class:"dialog-footer"};const N=m(C,[["render",function(m,C,N,P,A,I){const O=e,Q=l,R=a,T=t,W=o,E=s,G=r,H=i,J=d,K=p,M=n,X=u,Y=h("img-url"),Z=c;return g(),b(X,{title:m.$t("选择商品"),modelValue:m.dialogVisible,"onUpdate:modelValue":C[3]||(C[3]=e=>m.dialogVisible=e),onClose:I.dialogFormVisible,"close-on-click-modal":!1,"close-on-press-escape":!1},{footer:_((()=>[f("div",L,[v(E,{onClick:I.dialogFormVisible},{default:_((()=>[y(j(m.$t("取消")),1)])),_:1},8,["onClick"]),v(E,{type:"primary",onClick:m.submit,loading:m.loading},{default:_((()=>[y(j(m.$t("确定")),1)])),_:1},8,["onClick","loading"])])])),default:_((()=>[f("div",V,[v(G,{size:"small",inline:!0,model:A.searchForm,class:"demo-form-inline"},{default:_((()=>[v(R,{label:m.$t("商品状态")},{default:_((()=>[v(Q,{size:"small",modelValue:A.searchForm.status,"onUpdate:modelValue":C[0]||(C[0]=e=>A.searchForm.status=e),placeholder:m.$t("商品状态")},{default:_((()=>[v(O,{label:m.$t("全部状态"),value:""},null,8,["label"]),v(O,{label:m.$t("上架中"),value:"0"},null,8,["label"]),v(O,{label:m.$t("下架中"),value:"1"},null,8,["label"])])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),v(R,{label:m.$t("商品分类")},{default:_((()=>[v(T,{options:A.categoryList,props:{checkStrictly:!0,expandTrigger:"hover"},modelValue:A.searchForm.category_id,"onUpdate:modelValue":C[1]||(C[1]=e=>A.searchForm.category_id=e),clearable:"",placeholder:m.$t("请选择分类")},{default:_((({data:e})=>[f("span",{onClick:l=>I.handleValue(e)},j(e.label),9,k)])),_:1},8,["options","modelValue","placeholder"])])),_:1},8,["label"]),v(R,{label:m.$t("商品名称")},{default:_((()=>[v(W,{size:"small",modelValue:A.searchForm.keyword,"onUpdate:modelValue":C[2]||(C[2]=e=>A.searchForm.keyword=e),placeholder:m.$t("商品名称")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),v(R,null,{default:_((()=>[v(E,{class:"search-button",size:"small",type:"primary",icon:"Search",onClick:m.onSubmit},{default:_((()=>[y(j(m.$t("查询")),1)])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])]),f("div",w,[f("div",z,[$((g(),b(K,{size:"small",data:A.tableData,border:"",style:{width:"100%"}},{default:_((()=>[v(H,{prop:"product_name",label:m.$t("商品名称"),width:"300px"},{default:_((e=>[f("div",F,[f("div",D,[$(f("img",S,null,512),[[Y,e.row.image[0].file_path]])]),f("div",x,[f("div",U,j(e.row.product_name_text),1),f("div",q,j(m.$t("销售价："))+j(e.row.product_price),1)])])])),_:1},8,["label"]),v(H,{prop:"product_stock",label:m.$t("分类")},null,8,["label"]),v(H,{prop:"sales_actual",label:m.$t("实际销量")},null,8,["label"]),v(H,{prop:"sales_actual",label:m.$t("库存")},null,8,["label"]),v(H,{prop:"product_status.text",label:m.$t("状态"),width:"100"},{default:_((e=>[v(J,{disabled:!this.$filter.isAuth("/product/buffet/list/status"),"model-value":10==e.row.product_status.value,onClick:l=>m.undercarriage(e.row,10==e.row.product_status.value?20:10)},null,8,["disabled","model-value","onClick"])])),_:1},8,["label"]),v(H,{prop:"create_time",label:m.$t("添加时间")},null,8,["label"]),v(H,{prop:"product_sort",label:m.$t("排序")},null,8,["label"]),v(H,{fixed:"right",type:"selection",width:"40"})])),_:1},8,["data"])),[[Z,m.loading]])])]),f("div",B,[v(M,{onSizeChange:m.handleSizeChange,onCurrentChange:m.handleCurrentChange,background:"","current-page":A.curPage,"page-size":A.pageSize,layout:"total, prev, pager, next, jumper",total:A.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])),_:1},8,["title","modelValue","onClose"])}],["__scopeId","data-v-9a6ddd03"]]);export{N as default};
